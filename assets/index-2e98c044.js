var el=Object.defineProperty;var tl=(e,t,s)=>t in e?el(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var p=(e,t,s)=>(tl(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};Array.prototype.shuffle=function(){return this.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e)};String.prototype.toCapitalized=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.toEachCapitalized=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")};Number.prototype.roll=function(){return Math.floor(this*Math.random())+1};Number.prototype.chance=function(){const e=this;return e<Math.floor(Math.random()*100)+1?0:e};function Dn(e,t){const s=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)s[i[n]]=!0;return t?n=>!!s[n.toLowerCase()]:n=>!!s[n]}const ae={},Nt=[],qe=()=>{},sl=()=>!1,il=/^on[^a-z]/,ei=e=>il.test(e),Mn=e=>e.startsWith("onUpdate:"),he=Object.assign,Fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},nl=Object.prototype.hasOwnProperty,G=(e,t)=>nl.call(e,t),F=Array.isArray,jt=e=>ti(e)==="[object Map]",fo=e=>ti(e)==="[object Set]",j=e=>typeof e=="function",me=e=>typeof e=="string",Un=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",po=e=>le(e)&&j(e.then)&&j(e.catch),go=Object.prototype.toString,ti=e=>go.call(e),rl=e=>ti(e).slice(8,-1),mo=e=>ti(e)==="[object Object]",Bn=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fs=Dn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),si=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ol=/-(\w)/g,zt=si(e=>e.replace(ol,(t,s)=>s?s.toUpperCase():"")),al=/\B([A-Z])/g,Yt=si(e=>e.replace(al,"-$1").toLowerCase()),yo=si(e=>e.charAt(0).toUpperCase()+e.slice(1)),nn=si(e=>e?`on${yo(e)}`:""),ds=(e,t)=>!Object.is(e,t),rn=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},zs=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},ll=e=>{const t=parseFloat(e);return isNaN(t)?e:t},cl=e=>{const t=me(e)?Number(e):NaN;return isNaN(t)?e:t};let gr;const gn=()=>gr||(gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ii(e){if(F(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=me(i)?fl(i):ii(i);if(n)for(const r in n)t[r]=n[r]}return t}else{if(me(e))return e;if(le(e))return e}}const ul=/;(?![^(]*\))/g,dl=/:([^]+)/,hl=/\/\*[^]*?\*\//g;function fl(e){const t={};return e.replace(hl,"").split(ul).forEach(s=>{if(s){const i=s.split(dl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function J(e){let t="";if(me(e))t=e;else if(F(e))for(let s=0;s<e.length;s++){const i=J(e[s]);i&&(t+=i+" ")}else if(le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const pl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gl=Dn(pl);function vo(e){return!!e||e===""}const N=e=>me(e)?e:e==null?"":F(e)||le(e)&&(e.toString===go||!j(e.toString))?JSON.stringify(e,_o,2):String(e),_o=(e,t)=>t&&t.__v_isRef?_o(e,t.value):jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n])=>(s[`${i} =>`]=n,s),{})}:fo(t)?{[`Set(${t.size})`]:[...t.values()]}:le(t)&&!F(t)&&!mo(t)?String(t):t;let Re;class bo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Re,!t&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Re;try{return Re=this,t()}finally{Re=s}}}on(){Re=this}off(){Re=this.parent}stop(t){if(this._active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function wo(e){return new bo(e)}function ml(e,t=Re){t&&t.active&&t.effects.push(e)}function To(){return Re}function yl(e){Re&&Re.cleanups.push(e)}const Ln=e=>{const t=new Set(e);return t.w=0,t.n=0,t},So=e=>(e.w&vt)>0,Co=e=>(e.n&vt)>0,vl=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=vt},_l=e=>{const{deps:t}=e;if(t.length){let s=0;for(let i=0;i<t.length;i++){const n=t[i];So(n)&&!Co(n)?n.delete(e):t[s++]=n,n.w&=~vt,n.n&=~vt}t.length=s}},Ks=new WeakMap;let is=0,vt=1;const mn=30;let Ve;const Ot=Symbol(""),yn=Symbol("");class Nn{constructor(t,s=null,i){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,ml(this,i)}run(){if(!this.active)return this.fn();let t=Ve,s=gt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ve,Ve=this,gt=!0,vt=1<<++is,is<=mn?vl(this):mr(this),this.fn()}finally{is<=mn&&_l(this),vt=1<<--is,Ve=this.parent,gt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ve===this?this.deferStop=!0:this.active&&(mr(this),this.onStop&&this.onStop(),this.active=!1)}}function mr(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let gt=!0;const ko=[];function Jt(){ko.push(gt),gt=!1}function Xt(){const e=ko.pop();gt=e===void 0?!0:e}function Oe(e,t,s){if(gt&&Ve){let i=Ks.get(e);i||Ks.set(e,i=new Map);let n=i.get(s);n||i.set(s,n=Ln()),Eo(n)}}function Eo(e,t){let s=!1;is<=mn?Co(e)||(e.n|=vt,s=!So(e)):s=!e.has(Ve),s&&(e.add(Ve),Ve.deps.push(e))}function ot(e,t,s,i,n,r){const o=Ks.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(s==="length"&&F(e)){const l=Number(i);o.forEach((u,f)=>{(f==="length"||f>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),t){case"add":F(e)?Bn(s)&&a.push(o.get("length")):(a.push(o.get(Ot)),jt(e)&&a.push(o.get(yn)));break;case"delete":F(e)||(a.push(o.get(Ot)),jt(e)&&a.push(o.get(yn)));break;case"set":jt(e)&&a.push(o.get(Ot));break}if(a.length===1)a[0]&&vn(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);vn(Ln(l))}}function vn(e,t){const s=F(e)?e:[...e];for(const i of s)i.computed&&yr(i);for(const i of s)i.computed||yr(i)}function yr(e,t){(e!==Ve||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function bl(e,t){var s;return(s=Ks.get(e))==null?void 0:s.get(t)}const wl=Dn("__proto__,__v_isRef,__isVue"),Ao=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Un)),Tl=jn(),Sl=jn(!1,!0),Cl=jn(!0),vr=kl();function kl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const i=z(this);for(let r=0,o=this.length;r<o;r++)Oe(i,"get",r+"");const n=i[t](...s);return n===-1||n===!1?i[t](...s.map(z)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Jt();const i=z(this)[t].apply(this,s);return Xt(),i}}),e}function El(e){const t=z(this);return Oe(t,"has",e),t.hasOwnProperty(e)}function jn(e=!1,t=!1){return function(i,n,r){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(e?t?Hl:Io:t?Oo:Po).get(i))return i;const o=F(i);if(!e){if(o&&G(vr,n))return Reflect.get(vr,n,r);if(n==="hasOwnProperty")return El}const a=Reflect.get(i,n,r);return(Un(n)?Ao.has(n):wl(n))||(e||Oe(i,"get",n),t)?a:de(a)?o&&Bn(n)?a:a.value:le(a)?e?Ro(a):ri(a):a}}const Al=$o(),$l=$o(!0);function $o(e=!1){return function(s,i,n,r){let o=s[i];if(Kt(o)&&de(o)&&!de(n))return!1;if(!e&&(!Gs(n)&&!Kt(n)&&(o=z(o),n=z(n)),!F(s)&&de(o)&&!de(n)))return o.value=n,!0;const a=F(s)&&Bn(i)?Number(i)<s.length:G(s,i),l=Reflect.set(s,i,n,r);return s===z(r)&&(a?ds(n,o)&&ot(s,"set",i,n):ot(s,"add",i,n)),l}}function xl(e,t){const s=G(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&ot(e,"delete",t,void 0),i}function Pl(e,t){const s=Reflect.has(e,t);return(!Un(t)||!Ao.has(t))&&Oe(e,"has",t),s}function Ol(e){return Oe(e,"iterate",F(e)?"length":Ot),Reflect.ownKeys(e)}const xo={get:Tl,set:Al,deleteProperty:xl,has:Pl,ownKeys:Ol},Il={get:Cl,set(e,t){return!0},deleteProperty(e,t){return!0}},Rl=he({},xo,{get:Sl,set:$l}),Hn=e=>e,ni=e=>Reflect.getPrototypeOf(e);function ks(e,t,s=!1,i=!1){e=e.__v_raw;const n=z(e),r=z(t);s||(t!==r&&Oe(n,"get",t),Oe(n,"get",r));const{has:o}=ni(n),a=i?Hn:s?qn:hs;if(o.call(n,t))return a(e.get(t));if(o.call(n,r))return a(e.get(r));e!==n&&e.get(t)}function Es(e,t=!1){const s=this.__v_raw,i=z(s),n=z(e);return t||(e!==n&&Oe(i,"has",e),Oe(i,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function As(e,t=!1){return e=e.__v_raw,!t&&Oe(z(e),"iterate",Ot),Reflect.get(e,"size",e)}function _r(e){e=z(e);const t=z(this);return ni(t).has.call(t,e)||(t.add(e),ot(t,"add",e,e)),this}function br(e,t){t=z(t);const s=z(this),{has:i,get:n}=ni(s);let r=i.call(s,e);r||(e=z(e),r=i.call(s,e));const o=n.call(s,e);return s.set(e,t),r?ds(t,o)&&ot(s,"set",e,t):ot(s,"add",e,t),this}function wr(e){const t=z(this),{has:s,get:i}=ni(t);let n=s.call(t,e);n||(e=z(e),n=s.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return n&&ot(t,"delete",e,void 0),r}function Tr(){const e=z(this),t=e.size!==0,s=e.clear();return t&&ot(e,"clear",void 0,void 0),s}function $s(e,t){return function(i,n){const r=this,o=r.__v_raw,a=z(o),l=t?Hn:e?qn:hs;return!e&&Oe(a,"iterate",Ot),o.forEach((u,f)=>i.call(n,l(u),l(f),r))}}function xs(e,t,s){return function(...i){const n=this.__v_raw,r=z(n),o=jt(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...i),f=s?Hn:t?qn:hs;return!t&&Oe(r,"iterate",l?yn:Ot),{next(){const{value:m,done:_}=u.next();return _?{value:m,done:_}:{value:a?[f(m[0]),f(m[1])]:f(m),done:_}},[Symbol.iterator](){return this}}}}function ct(e){return function(...t){return e==="delete"?!1:this}}function Dl(){const e={get(r){return ks(this,r)},get size(){return As(this)},has:Es,add:_r,set:br,delete:wr,clear:Tr,forEach:$s(!1,!1)},t={get(r){return ks(this,r,!1,!0)},get size(){return As(this)},has:Es,add:_r,set:br,delete:wr,clear:Tr,forEach:$s(!1,!0)},s={get(r){return ks(this,r,!0)},get size(){return As(this,!0)},has(r){return Es.call(this,r,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:$s(!0,!1)},i={get(r){return ks(this,r,!0,!0)},get size(){return As(this,!0)},has(r){return Es.call(this,r,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:$s(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=xs(r,!1,!1),s[r]=xs(r,!0,!1),t[r]=xs(r,!1,!0),i[r]=xs(r,!0,!0)}),[e,s,t,i]}const[Ml,Fl,Ul,Bl]=Dl();function Vn(e,t){const s=t?e?Bl:Ul:e?Fl:Ml;return(i,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(G(s,n)&&n in i?s:i,n,r)}const Ll={get:Vn(!1,!1)},Nl={get:Vn(!1,!0)},jl={get:Vn(!0,!1)},Po=new WeakMap,Oo=new WeakMap,Io=new WeakMap,Hl=new WeakMap;function Vl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wl(e){return e.__v_skip||!Object.isExtensible(e)?0:Vl(rl(e))}function ri(e){return Kt(e)?e:Wn(e,!1,xo,Ll,Po)}function ql(e){return Wn(e,!1,Rl,Nl,Oo)}function Ro(e){return Wn(e,!0,Il,jl,Io)}function Wn(e,t,s,i,n){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const o=Wl(e);if(o===0)return e;const a=new Proxy(e,o===2?i:s);return n.set(e,a),a}function mt(e){return Kt(e)?mt(e.__v_raw):!!(e&&e.__v_isReactive)}function Kt(e){return!!(e&&e.__v_isReadonly)}function Gs(e){return!!(e&&e.__v_isShallow)}function Do(e){return mt(e)||Kt(e)}function z(e){const t=e&&e.__v_raw;return t?z(t):e}function oi(e){return zs(e,"__v_skip",!0),e}const hs=e=>le(e)?ri(e):e,qn=e=>le(e)?Ro(e):e;function Mo(e){gt&&Ve&&(e=z(e),Eo(e.dep||(e.dep=Ln())))}function Fo(e,t){e=z(e);const s=e.dep;s&&vn(s)}function de(e){return!!(e&&e.__v_isRef===!0)}function Uo(e){return zl(e,!1)}function zl(e,t){return de(e)?e:new Kl(e,t)}class Kl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:z(t),this._value=s?t:hs(t)}get value(){return Mo(this),this._value}set value(t){const s=this.__v_isShallow||Gs(t)||Kt(t);t=s?t:z(t),ds(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:hs(t),Fo(this))}}function zn(e){return de(e)?e.value:e}const Gl={get:(e,t,s)=>zn(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return de(n)&&!de(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Bo(e){return mt(e)?e:new Proxy(e,Gl)}function Yl(e){const t=F(e)?new Array(e.length):{};for(const s in e)t[s]=Xl(e,s);return t}class Jl{constructor(t,s,i){this._object=t,this._key=s,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bl(z(this._object),this._key)}}function Xl(e,t,s){const i=e[t];return de(i)?i:new Jl(e,t,s)}class Ql{constructor(t,s,i,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Nn(t,()=>{this._dirty||(this._dirty=!0,Fo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=z(this);return Mo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Zl(e,t,s=!1){let i,n;const r=j(e);return r?(i=e,n=qe):(i=e.get,n=e.set),new Ql(i,n,r||!n,s)}function yt(e,t,s,i){let n;try{n=i?e(...i):e()}catch(r){ai(r,t,s)}return n}function Be(e,t,s,i){if(j(e)){const r=yt(e,t,s,i);return r&&po(r)&&r.catch(o=>{ai(o,t,s)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(Be(e[r],t,s,i));return n}function ai(e,t,s,i=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=s;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){yt(l,null,10,[e,o,a]);return}}ec(e,s,n,i)}function ec(e,t,s,i=!0){console.error(e)}let fs=!1,_n=!1;const ke=[];let Xe=0;const Ht=[];let rt=null,At=0;const Lo=Promise.resolve();let Kn=null;function No(e){const t=Kn||Lo;return e?t.then(this?e.bind(this):e):t}function tc(e){let t=Xe+1,s=ke.length;for(;t<s;){const i=t+s>>>1;ps(ke[i])<e?t=i+1:s=i}return t}function Gn(e){(!ke.length||!ke.includes(e,fs&&e.allowRecurse?Xe+1:Xe))&&(e.id==null?ke.push(e):ke.splice(tc(e.id),0,e),jo())}function jo(){!fs&&!_n&&(_n=!0,Kn=Lo.then(Vo))}function sc(e){const t=ke.indexOf(e);t>Xe&&ke.splice(t,1)}function ic(e){F(e)?Ht.push(...e):(!rt||!rt.includes(e,e.allowRecurse?At+1:At))&&Ht.push(e),jo()}function Sr(e,t=fs?Xe+1:0){for(;t<ke.length;t++){const s=ke[t];s&&s.pre&&(ke.splice(t,1),t--,s())}}function Ho(e){if(Ht.length){const t=[...new Set(Ht)];if(Ht.length=0,rt){rt.push(...t);return}for(rt=t,rt.sort((s,i)=>ps(s)-ps(i)),At=0;At<rt.length;At++)rt[At]();rt=null,At=0}}const ps=e=>e.id==null?1/0:e.id,nc=(e,t)=>{const s=ps(e)-ps(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Vo(e){_n=!1,fs=!0,ke.sort(nc);const t=qe;try{for(Xe=0;Xe<ke.length;Xe++){const s=ke[Xe];s&&s.active!==!1&&yt(s,null,14)}}finally{Xe=0,ke.length=0,Ho(),fs=!1,Kn=null,(ke.length||Ht.length)&&Vo()}}function rc(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||ae;let n=s;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:m,trim:_}=i[f]||ae;_&&(n=s.map(P=>me(P)?P.trim():P)),m&&(n=s.map(ll))}let a,l=i[a=nn(t)]||i[a=nn(zt(t))];!l&&r&&(l=i[a=nn(Yt(t))]),l&&Be(l,e,6,n);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Be(u,e,6,n)}}function Wo(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const r=e.emits;let o={},a=!1;if(!j(e)){const l=u=>{const f=Wo(u,t,!0);f&&(a=!0,he(o,f))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(le(e)&&i.set(e,null),null):(F(r)?r.forEach(l=>o[l]=null):he(o,r),le(e)&&i.set(e,o),o)}function li(e,t){return!e||!ei(t)?!1:(t=t.slice(2).replace(/Once$/,""),G(e,t[0].toLowerCase()+t.slice(1))||G(e,Yt(t))||G(e,t))}let Se=null,ci=null;function Ys(e){const t=Se;return Se=e,ci=e&&e.type.__scopeId||null,t}function et(e){ci=e}function tt(){ci=null}function bt(e,t=Se,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Dr(-1);const r=Ys(t);let o;try{o=e(...n)}finally{Ys(r),i._d&&Dr(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function on(e){const{type:t,vnode:s,proxy:i,withProxy:n,props:r,propsOptions:[o],slots:a,attrs:l,emit:u,render:f,renderCache:m,data:_,setupState:P,ctx:H,inheritAttrs:R}=e;let Z,ie;const ne=Ys(e);try{if(s.shapeFlag&4){const U=n||i;Z=Je(f.call(U,U,m,r,P,_,H)),ie=l}else{const U=t;Z=Je(U.length>1?U(r,{attrs:l,slots:a,emit:u}):U(r,null)),ie=t.props?l:oc(l)}}catch(U){cs.length=0,ai(U,e,1),Z=K(Le)}let re=Z;if(ie&&R!==!1){const U=Object.keys(ie),{shapeFlag:Q}=re;U.length&&Q&7&&(o&&U.some(Mn)&&(ie=ac(ie,o)),re=_t(re,ie))}return s.dirs&&(re=_t(re),re.dirs=re.dirs?re.dirs.concat(s.dirs):s.dirs),s.transition&&(re.transition=s.transition),Z=re,Ys(ne),Z}const oc=e=>{let t;for(const s in e)(s==="class"||s==="style"||ei(s))&&((t||(t={}))[s]=e[s]);return t},ac=(e,t)=>{const s={};for(const i in e)(!Mn(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function lc(e,t,s){const{props:i,children:n,component:r}=e,{props:o,children:a,patchFlag:l}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?Cr(i,o,u):!!o;if(l&8){const f=t.dynamicProps;for(let m=0;m<f.length;m++){const _=f[m];if(o[_]!==i[_]&&!li(u,_))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Cr(i,o,u):!0:!!o;return!1}function Cr(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==e[r]&&!li(s,r))return!0}return!1}function cc({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const uc=e=>e.__isSuspense;function dc(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):ic(e)}const Ps={};function Us(e,t,s){return qo(e,t,s)}function qo(e,t,{immediate:s,deep:i,flush:n,onTrack:r,onTrigger:o}=ae){var a;const l=To()===((a=we)==null?void 0:a.scope)?we:null;let u,f=!1,m=!1;if(de(e)?(u=()=>e.value,f=Gs(e)):mt(e)?(u=()=>e,i=!0):F(e)?(m=!0,f=e.some(U=>mt(U)||Gs(U)),u=()=>e.map(U=>{if(de(U))return U.value;if(mt(U))return Pt(U);if(j(U))return yt(U,l,2)})):j(e)?t?u=()=>yt(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return _&&_(),Be(e,l,3,[P])}:u=qe,t&&i){const U=u;u=()=>Pt(U())}let _,P=U=>{_=ne.onStop=()=>{yt(U,l,4)}},H;if(_s)if(P=qe,t?s&&Be(t,l,3,[u(),m?[]:void 0,P]):u(),n==="sync"){const U=ru();H=U.__watcherHandles||(U.__watcherHandles=[])}else return qe;let R=m?new Array(e.length).fill(Ps):Ps;const Z=()=>{if(ne.active)if(t){const U=ne.run();(i||f||(m?U.some((Q,De)=>ds(Q,R[De])):ds(U,R)))&&(_&&_(),Be(t,l,3,[U,R===Ps?void 0:m&&R[0]===Ps?[]:R,P]),R=U)}else ne.run()};Z.allowRecurse=!!t;let ie;n==="sync"?ie=Z:n==="post"?ie=()=>Pe(Z,l&&l.suspense):(Z.pre=!0,l&&(Z.id=l.uid),ie=()=>Gn(Z));const ne=new Nn(u,ie);t?s?Z():R=ne.run():n==="post"?Pe(ne.run.bind(ne),l&&l.suspense):ne.run();const re=()=>{ne.stop(),l&&l.scope&&Fn(l.scope.effects,ne)};return H&&H.push(re),re}function hc(e,t,s){const i=this.proxy,n=me(e)?e.includes(".")?zo(i,e):()=>i[e]:e.bind(i,i);let r;j(t)?r=t:(r=t.handler,s=t);const o=we;Gt(this);const a=qo(n,r.bind(i),s);return o?Gt(o):It(),a}function zo(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function Pt(e,t){if(!le(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))Pt(e.value,t);else if(F(e))for(let s=0;s<e.length;s++)Pt(e[s],t);else if(fo(e)||jt(e))e.forEach(s=>{Pt(s,t)});else if(mo(e))for(const s in e)Pt(e[s],t);return e}function Ko(e,t){const s=Se;if(s===null)return e;const i=pi(s)||s.proxy,n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,u=ae]=t[r];o&&(j(o)&&(o={mounted:o,updated:o}),o.deep&&Pt(a),n.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Ct(e,t,s,i){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Jt(),Be(l,s,8,[e.el,a,e,t]),Xt())}}function Go(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qo(()=>{e.isMounted=!0}),ea(()=>{e.isUnmounting=!0}),e}const Me=[Function,Array],Yo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Me,onEnter:Me,onAfterEnter:Me,onEnterCancelled:Me,onBeforeLeave:Me,onLeave:Me,onAfterLeave:Me,onLeaveCancelled:Me,onBeforeAppear:Me,onAppear:Me,onAfterAppear:Me,onAppearCancelled:Me},fc={name:"BaseTransition",props:Yo,setup(e,{slots:t}){const s=pa(),i=Go();let n;return()=>{const r=t.default&&Yn(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const R of r)if(R.type!==Le){o=R;break}}const a=z(e),{mode:l}=a;if(i.isLeaving)return an(o);const u=kr(o);if(!u)return an(o);const f=gs(u,a,i,s);ms(u,f);const m=s.subTree,_=m&&kr(m);let P=!1;const{getTransitionKey:H}=u.type;if(H){const R=H();n===void 0?n=R:R!==n&&(n=R,P=!0)}if(_&&_.type!==Le&&(!$t(u,_)||P)){const R=gs(_,a,i,s);if(ms(_,R),l==="out-in")return i.isLeaving=!0,R.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&s.update()},an(o);l==="in-out"&&u.type!==Le&&(R.delayLeave=(Z,ie,ne)=>{const re=Jo(i,_);re[String(_.key)]=_,Z._leaveCb=()=>{ie(),Z._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=ne})}return o}}},pc=fc;function Jo(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function gs(e,t,s,i){const{appear:n,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:m,onLeave:_,onAfterLeave:P,onLeaveCancelled:H,onBeforeAppear:R,onAppear:Z,onAfterAppear:ie,onAppearCancelled:ne}=t,re=String(e.key),U=Jo(s,e),Q=(A,D)=>{A&&Be(A,i,9,D)},De=(A,D)=>{const V=D[1];Q(A,D),F(A)?A.every(ce=>ce.length<=1)&&V():A.length<=1&&V()},Ce={mode:r,persisted:o,beforeEnter(A){let D=a;if(!s.isMounted)if(n)D=R||a;else return;A._leaveCb&&A._leaveCb(!0);const V=U[re];V&&$t(e,V)&&V.el._leaveCb&&V.el._leaveCb(),Q(D,[A])},enter(A){let D=l,V=u,ce=f;if(!s.isMounted)if(n)D=Z||l,V=ie||u,ce=ne||f;else return;let $=!1;const oe=A._enterCb=Ae=>{$||($=!0,Ae?Q(ce,[A]):Q(V,[A]),Ce.delayedLeave&&Ce.delayedLeave(),A._enterCb=void 0)};D?De(D,[A,oe]):oe()},leave(A,D){const V=String(e.key);if(A._enterCb&&A._enterCb(!0),s.isUnmounting)return D();Q(m,[A]);let ce=!1;const $=A._leaveCb=oe=>{ce||(ce=!0,D(),oe?Q(H,[A]):Q(P,[A]),A._leaveCb=void 0,U[V]===e&&delete U[V])};U[V]=e,_?De(_,[A,$]):$()},clone(A){return gs(A,t,s,i)}};return Ce}function an(e){if(ui(e))return e=_t(e),e.children=null,e}function kr(e){return ui(e)?e.children?e.children[0]:void 0:e}function ms(e,t){e.shapeFlag&6&&e.component?ms(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Yn(e,t=!1,s){let i=[],n=0;for(let r=0;r<e.length;r++){let o=e[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===Y?(o.patchFlag&128&&n++,i=i.concat(Yn(o.children,t,a))):(t||o.type!==Le)&&i.push(a!=null?_t(o,{key:a}):o)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function ye(e,t){return j(e)?(()=>he({name:e.name},t,{setup:e}))():e}const os=e=>!!e.type.__asyncLoader,ui=e=>e.type.__isKeepAlive;function gc(e,t){Xo(e,"a",t)}function mc(e,t){Xo(e,"da",t)}function Xo(e,t,s=we){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(di(t,i,s),s){let n=s.parent;for(;n&&n.parent;)ui(n.parent.vnode)&&yc(i,t,s,n),n=n.parent}}function yc(e,t,s,i){const n=di(t,e,i,!0);ta(()=>{Fn(i[t],n)},s)}function di(e,t,s=we,i=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;Jt(),Gt(s);const a=Be(t,s,e,o);return It(),Xt(),a});return i?n.unshift(r):n.push(r),r}}const at=e=>(t,s=we)=>(!_s||e==="sp")&&di(e,(...i)=>t(...i),s),vc=at("bm"),Qo=at("m"),_c=at("bu"),Zo=at("u"),ea=at("bum"),ta=at("um"),bc=at("sp"),wc=at("rtg"),Tc=at("rtc");function Sc(e,t=we){di("ec",e,t)}const Cc=Symbol.for("v-ndc");function pe(e,t,s,i){let n;const r=s&&s[i];if(F(e)||me(e)){n=new Array(e.length);for(let o=0,a=e.length;o<a;o++)n[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,void 0,r&&r[o])}else if(le(e))if(e[Symbol.iterator])n=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];n[a]=t(e[u],u,a,r&&r[a])}}else n=[];return s&&(s[i]=n),n}function kc(e,t,s={},i,n){if(Se.isCE||Se.parent&&os(Se.parent)&&Se.parent.isCE)return t!=="default"&&(s.name=t),K("slot",s,i&&i());let r=e[t];r&&r._c&&(r._d=!1),w();const o=r&&sa(r(s)),a=xe(Y,{key:s.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function sa(e){return e.some(t=>Xs(t)?!(t.type===Le||t.type===Y&&!sa(t.children)):!0)?e:null}const bn=e=>e?ga(e)?pi(e)||e.proxy:bn(e.parent):null,as=he(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bn(e.parent),$root:e=>bn(e.root),$emit:e=>e.emit,$options:e=>Jn(e),$forceUpdate:e=>e.f||(e.f=()=>Gn(e.update)),$nextTick:e=>e.n||(e.n=No.bind(e.proxy)),$watch:e=>hc.bind(e)}),ln=(e,t)=>e!==ae&&!e.__isScriptSetup&&G(e,t),Ec={get({_:e},t){const{ctx:s,setupState:i,data:n,props:r,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const P=o[t];if(P!==void 0)switch(P){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(ln(i,t))return o[t]=1,i[t];if(n!==ae&&G(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&G(u,t))return o[t]=3,r[t];if(s!==ae&&G(s,t))return o[t]=4,s[t];wn&&(o[t]=0)}}const f=as[t];let m,_;if(f)return t==="$attrs"&&Oe(e,"get",t),f(e);if((m=a.__cssModules)&&(m=m[t]))return m;if(s!==ae&&G(s,t))return o[t]=4,s[t];if(_=l.config.globalProperties,G(_,t))return _[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:r}=e;return ln(n,t)?(n[t]=s,!0):i!==ae&&G(i,t)?(i[t]=s,!0):G(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:r}},o){let a;return!!s[o]||e!==ae&&G(e,o)||ln(t,o)||(a=r[0])&&G(a,o)||G(i,o)||G(as,o)||G(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:G(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Er(e){return F(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let wn=!0;function Ac(e){const t=Jn(e),s=e.proxy,i=e.ctx;wn=!1,t.beforeCreate&&Ar(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:a,provide:l,inject:u,created:f,beforeMount:m,mounted:_,beforeUpdate:P,updated:H,activated:R,deactivated:Z,beforeDestroy:ie,beforeUnmount:ne,destroyed:re,unmounted:U,render:Q,renderTracked:De,renderTriggered:Ce,errorCaptured:A,serverPrefetch:D,expose:V,inheritAttrs:ce,components:$,directives:oe,filters:Ae}=t;if(u&&$c(u,i,null),o)for(const ue in o){const te=o[ue];j(te)&&(i[ue]=te.bind(s))}if(n){const ue=n.call(s,s);le(ue)&&(e.data=ri(ue))}if(wn=!0,r)for(const ue in r){const te=r[ue],Tt=j(te)?te.bind(s,s):j(te.get)?te.get.bind(s,s):qe,Ss=!j(te)&&j(te.set)?te.set.bind(s):qe,St=ya({get:Tt,set:Ss});Object.defineProperty(i,ue,{enumerable:!0,configurable:!0,get:()=>St.value,set:ze=>St.value=ze})}if(a)for(const ue in a)ia(a[ue],i,s,ue);if(l){const ue=j(l)?l.call(s):l;Reflect.ownKeys(ue).forEach(te=>{Dc(te,ue[te])})}f&&Ar(f,e,"c");function X(ue,te){F(te)?te.forEach(Tt=>ue(Tt.bind(s))):te&&ue(te.bind(s))}if(X(vc,m),X(Qo,_),X(_c,P),X(Zo,H),X(gc,R),X(mc,Z),X(Sc,A),X(Tc,De),X(wc,Ce),X(ea,ne),X(ta,U),X(bc,D),F(V))if(V.length){const ue=e.exposed||(e.exposed={});V.forEach(te=>{Object.defineProperty(ue,te,{get:()=>s[te],set:Tt=>s[te]=Tt})})}else e.exposed||(e.exposed={});Q&&e.render===qe&&(e.render=Q),ce!=null&&(e.inheritAttrs=ce),$&&(e.components=$),oe&&(e.directives=oe)}function $c(e,t,s=qe){F(e)&&(e=Tn(e));for(const i in e){const n=e[i];let r;le(n)?"default"in n?r=ls(n.from||i,n.default,!0):r=ls(n.from||i):r=ls(n),de(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function Ar(e,t,s){Be(F(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function ia(e,t,s,i){const n=i.includes(".")?zo(s,i):()=>s[i];if(me(e)){const r=t[e];j(r)&&Us(n,r)}else if(j(e))Us(n,e.bind(s));else if(le(e))if(F(e))e.forEach(r=>ia(r,t,s,i));else{const r=j(e.handler)?e.handler.bind(s):t[e.handler];j(r)&&Us(n,r,e)}}function Jn(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!n.length&&!s&&!i?l=t:(l={},n.length&&n.forEach(u=>Js(l,u,o,!0)),Js(l,t,o)),le(t)&&r.set(t,l),l}function Js(e,t,s,i=!1){const{mixins:n,extends:r}=t;r&&Js(e,r,s,!0),n&&n.forEach(o=>Js(e,o,s,!0));for(const o in t)if(!(i&&o==="expose")){const a=xc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const xc={data:$r,props:xr,emits:xr,methods:ns,computed:ns,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:ns,directives:ns,watch:Oc,provide:$r,inject:Pc};function $r(e,t){return t?e?function(){return he(j(e)?e.call(this,this):e,j(t)?t.call(this,this):t)}:t:e}function Pc(e,t){return ns(Tn(e),Tn(t))}function Tn(e){if(F(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function ns(e,t){return e?he(Object.create(null),e,t):t}function xr(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:he(Object.create(null),Er(e),Er(t??{})):t}function Oc(e,t){if(!e)return t;if(!t)return e;const s=he(Object.create(null),e);for(const i in t)s[i]=$e(e[i],t[i]);return s}function na(){return{app:null,config:{isNativeTag:sl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ic=0;function Rc(e,t){return function(i,n=null){j(i)||(i=he({},i)),n!=null&&!le(n)&&(n=null);const r=na(),o=new Set;let a=!1;const l=r.app={_uid:Ic++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:ou,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&j(u.install)?(o.add(u),u.install(l,...f)):j(u)&&(o.add(u),u(l,...f))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,f){return f?(r.components[u]=f,l):r.components[u]},directive(u,f){return f?(r.directives[u]=f,l):r.directives[u]},mount(u,f,m){if(!a){const _=K(i,n);return _.appContext=r,f&&t?t(_,u):e(_,u,m),a=!0,l._container=u,u.__vue_app__=l,pi(_.component)||_.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,f){return r.provides[u]=f,l},runWithContext(u){ys=l;try{return u()}finally{ys=null}}};return l}}let ys=null;function Dc(e,t){if(we){let s=we.provides;const i=we.parent&&we.parent.provides;i===s&&(s=we.provides=Object.create(i)),s[e]=t}}function ls(e,t,s=!1){const i=we||Se;if(i||ys){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ys._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&j(t)?t.call(i&&i.proxy):t}}function Mc(){return!!(we||Se||ys)}function Fc(e,t,s,i=!1){const n={},r={};zs(r,fi,1),e.propsDefaults=Object.create(null),ra(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=i?n:ql(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function Uc(e,t,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,a=z(n),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let m=0;m<f.length;m++){let _=f[m];if(li(e.emitsOptions,_))continue;const P=t[_];if(l)if(G(r,_))P!==r[_]&&(r[_]=P,u=!0);else{const H=zt(_);n[H]=Sn(l,a,H,P,e,!1)}else P!==r[_]&&(r[_]=P,u=!0)}}}else{ra(e,t,n,r)&&(u=!0);let f;for(const m in a)(!t||!G(t,m)&&((f=Yt(m))===m||!G(t,f)))&&(l?s&&(s[m]!==void 0||s[f]!==void 0)&&(n[m]=Sn(l,a,m,void 0,e,!0)):delete n[m]);if(r!==a)for(const m in r)(!t||!G(t,m))&&(delete r[m],u=!0)}u&&ot(e,"set","$attrs")}function ra(e,t,s,i){const[n,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Fs(l))continue;const u=t[l];let f;n&&G(n,f=zt(l))?!r||!r.includes(f)?s[f]=u:(a||(a={}))[f]=u:li(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(r){const l=z(s),u=a||ae;for(let f=0;f<r.length;f++){const m=r[f];s[m]=Sn(n,l,m,u[m],e,!G(u,m))}}return o}function Sn(e,t,s,i,n,r){const o=e[s];if(o!=null){const a=G(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&j(l)){const{propsDefaults:u}=n;s in u?i=u[s]:(Gt(n),i=u[s]=l.call(null,t),It())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Yt(s))&&(i=!0))}return i}function oa(e,t,s=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const r=e.props,o={},a=[];let l=!1;if(!j(e)){const f=m=>{l=!0;const[_,P]=oa(m,t,!0);he(o,_),P&&a.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!l)return le(e)&&i.set(e,Nt),Nt;if(F(r))for(let f=0;f<r.length;f++){const m=zt(r[f]);Pr(m)&&(o[m]=ae)}else if(r)for(const f in r){const m=zt(f);if(Pr(m)){const _=r[f],P=o[m]=F(_)||j(_)?{type:_}:he({},_);if(P){const H=Rr(Boolean,P.type),R=Rr(String,P.type);P[0]=H>-1,P[1]=R<0||H<R,(H>-1||G(P,"default"))&&a.push(m)}}}const u=[o,a];return le(e)&&i.set(e,u),u}function Pr(e){return e[0]!=="$"}function Or(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ir(e,t){return Or(e)===Or(t)}function Rr(e,t){return F(t)?t.findIndex(s=>Ir(s,e)):j(t)&&Ir(t,e)?0:-1}const aa=e=>e[0]==="_"||e==="$stable",Xn=e=>F(e)?e.map(Je):[Je(e)],Bc=(e,t,s)=>{if(t._n)return t;const i=bt((...n)=>Xn(t(...n)),s);return i._c=!1,i},la=(e,t,s)=>{const i=e._ctx;for(const n in e){if(aa(n))continue;const r=e[n];if(j(r))t[n]=Bc(n,r,i);else if(r!=null){const o=Xn(r);t[n]=()=>o}}},ca=(e,t)=>{const s=Xn(t);e.slots.default=()=>s},Lc=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=z(t),zs(t,"_",s)):la(t,e.slots={})}else e.slots={},t&&ca(e,t);zs(e.slots,fi,1)},Nc=(e,t,s)=>{const{vnode:i,slots:n}=e;let r=!0,o=ae;if(i.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:(he(n,t),!s&&a===1&&delete n._):(r=!t.$stable,la(t,n)),o=t}else t&&(ca(e,t),o={default:1});if(r)for(const a in n)!aa(a)&&!(a in o)&&delete n[a]};function Cn(e,t,s,i,n=!1){if(F(e)){e.forEach((_,P)=>Cn(_,t&&(F(t)?t[P]:t),s,i,n));return}if(os(i)&&!n)return;const r=i.shapeFlag&4?pi(i.component)||i.component.proxy:i.el,o=n?null:r,{i:a,r:l}=e,u=t&&t.r,f=a.refs===ae?a.refs={}:a.refs,m=a.setupState;if(u!=null&&u!==l&&(me(u)?(f[u]=null,G(m,u)&&(m[u]=null)):de(u)&&(u.value=null)),j(l))yt(l,a,12,[o,f]);else{const _=me(l),P=de(l);if(_||P){const H=()=>{if(e.f){const R=_?G(m,l)?m[l]:f[l]:l.value;n?F(R)&&Fn(R,r):F(R)?R.includes(r)||R.push(r):_?(f[l]=[r],G(m,l)&&(m[l]=f[l])):(l.value=[r],e.k&&(f[e.k]=l.value))}else _?(f[l]=o,G(m,l)&&(m[l]=o)):P&&(l.value=o,e.k&&(f[e.k]=o))};o?(H.id=-1,Pe(H,s)):H()}}}const Pe=dc;function jc(e){return Hc(e)}function Hc(e,t){const s=gn();s.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:f,parentNode:m,nextSibling:_,setScopeId:P=qe,insertStaticContent:H}=e,R=(c,d,g,v=null,y=null,S=null,E=!1,T=null,k=!!d.dynamicChildren)=>{if(c===d)return;c&&!$t(c,d)&&(v=Cs(c),ze(c,y,S,!0),c=null),d.patchFlag===-2&&(k=!1,d.dynamicChildren=null);const{type:b,ref:O,shapeFlag:x}=d;switch(b){case hi:Z(c,d,g,v);break;case Le:ie(c,d,g,v);break;case Bs:c==null&&ne(d,g,v,E);break;case Y:$(c,d,g,v,y,S,E,T,k);break;default:x&1?Q(c,d,g,v,y,S,E,T,k):x&6?oe(c,d,g,v,y,S,E,T,k):(x&64||x&128)&&b.process(c,d,g,v,y,S,E,T,k,Rt)}O!=null&&y&&Cn(O,c&&c.ref,S,d||c,!d)},Z=(c,d,g,v)=>{if(c==null)i(d.el=a(d.children),g,v);else{const y=d.el=c.el;d.children!==c.children&&u(y,d.children)}},ie=(c,d,g,v)=>{c==null?i(d.el=l(d.children||""),g,v):d.el=c.el},ne=(c,d,g,v)=>{[c.el,c.anchor]=H(c.children,d,g,v,c.el,c.anchor)},re=({el:c,anchor:d},g,v)=>{let y;for(;c&&c!==d;)y=_(c),i(c,g,v),c=y;i(d,g,v)},U=({el:c,anchor:d})=>{let g;for(;c&&c!==d;)g=_(c),n(c),c=g;n(d)},Q=(c,d,g,v,y,S,E,T,k)=>{E=E||d.type==="svg",c==null?De(d,g,v,y,S,E,T,k):D(c,d,y,S,E,T,k)},De=(c,d,g,v,y,S,E,T)=>{let k,b;const{type:O,props:x,shapeFlag:I,transition:B,dirs:W}=c;if(k=c.el=o(c.type,S,x&&x.is,x),I&8?f(k,c.children):I&16&&A(c.children,k,null,v,y,S&&O!=="foreignObject",E,T),W&&Ct(c,null,v,"created"),Ce(k,c,c.scopeId,E,v),x){for(const ee in x)ee!=="value"&&!Fs(ee)&&r(k,ee,null,x[ee],S,c.children,v,y,st);"value"in x&&r(k,"value",null,x.value),(b=x.onVnodeBeforeMount)&&Ge(b,v,c)}W&&Ct(c,null,v,"beforeMount");const se=(!y||y&&!y.pendingBranch)&&B&&!B.persisted;se&&B.beforeEnter(k),i(k,d,g),((b=x&&x.onVnodeMounted)||se||W)&&Pe(()=>{b&&Ge(b,v,c),se&&B.enter(k),W&&Ct(c,null,v,"mounted")},y)},Ce=(c,d,g,v,y)=>{if(g&&P(c,g),v)for(let S=0;S<v.length;S++)P(c,v[S]);if(y){let S=y.subTree;if(d===S){const E=y.vnode;Ce(c,E,E.scopeId,E.slotScopeIds,y.parent)}}},A=(c,d,g,v,y,S,E,T,k=0)=>{for(let b=k;b<c.length;b++){const O=c[b]=T?ft(c[b]):Je(c[b]);R(null,O,d,g,v,y,S,E,T)}},D=(c,d,g,v,y,S,E)=>{const T=d.el=c.el;let{patchFlag:k,dynamicChildren:b,dirs:O}=d;k|=c.patchFlag&16;const x=c.props||ae,I=d.props||ae;let B;g&&kt(g,!1),(B=I.onVnodeBeforeUpdate)&&Ge(B,g,d,c),O&&Ct(d,c,g,"beforeUpdate"),g&&kt(g,!0);const W=y&&d.type!=="foreignObject";if(b?V(c.dynamicChildren,b,T,g,v,W,S):E||te(c,d,T,null,g,v,W,S,!1),k>0){if(k&16)ce(T,d,x,I,g,v,y);else if(k&2&&x.class!==I.class&&r(T,"class",null,I.class,y),k&4&&r(T,"style",x.style,I.style,y),k&8){const se=d.dynamicProps;for(let ee=0;ee<se.length;ee++){const fe=se[ee],je=x[fe],Dt=I[fe];(Dt!==je||fe==="value")&&r(T,fe,je,Dt,y,c.children,g,v,st)}}k&1&&c.children!==d.children&&f(T,d.children)}else!E&&b==null&&ce(T,d,x,I,g,v,y);((B=I.onVnodeUpdated)||O)&&Pe(()=>{B&&Ge(B,g,d,c),O&&Ct(d,c,g,"updated")},v)},V=(c,d,g,v,y,S,E)=>{for(let T=0;T<d.length;T++){const k=c[T],b=d[T],O=k.el&&(k.type===Y||!$t(k,b)||k.shapeFlag&70)?m(k.el):g;R(k,b,O,null,v,y,S,E,!0)}},ce=(c,d,g,v,y,S,E)=>{if(g!==v){if(g!==ae)for(const T in g)!Fs(T)&&!(T in v)&&r(c,T,g[T],null,E,d.children,y,S,st);for(const T in v){if(Fs(T))continue;const k=v[T],b=g[T];k!==b&&T!=="value"&&r(c,T,b,k,E,d.children,y,S,st)}"value"in v&&r(c,"value",g.value,v.value)}},$=(c,d,g,v,y,S,E,T,k)=>{const b=d.el=c?c.el:a(""),O=d.anchor=c?c.anchor:a("");let{patchFlag:x,dynamicChildren:I,slotScopeIds:B}=d;B&&(T=T?T.concat(B):B),c==null?(i(b,g,v),i(O,g,v),A(d.children,g,O,y,S,E,T,k)):x>0&&x&64&&I&&c.dynamicChildren?(V(c.dynamicChildren,I,g,y,S,E,T),(d.key!=null||y&&d===y.subTree)&&ua(c,d,!0)):te(c,d,g,O,y,S,E,T,k)},oe=(c,d,g,v,y,S,E,T,k)=>{d.slotScopeIds=T,c==null?d.shapeFlag&512?y.ctx.activate(d,g,v,E,k):Ae(d,g,v,y,S,E,k):Ne(c,d,k)},Ae=(c,d,g,v,y,S,E)=>{const T=c.component=Xc(c,v,y);if(ui(c)&&(T.ctx.renderer=Rt),Qc(T),T.asyncDep){if(y&&y.registerDep(T,X),!c.el){const k=T.subTree=K(Le);ie(null,k,d,g)}return}X(T,c,d,g,y,S,E)},Ne=(c,d,g)=>{const v=d.component=c.component;if(lc(c,d,g))if(v.asyncDep&&!v.asyncResolved){ue(v,d,g);return}else v.next=d,sc(v.update),v.update();else d.el=c.el,v.vnode=d},X=(c,d,g,v,y,S,E)=>{const T=()=>{if(c.isMounted){let{next:O,bu:x,u:I,parent:B,vnode:W}=c,se=O,ee;kt(c,!1),O?(O.el=W.el,ue(c,O,E)):O=W,x&&rn(x),(ee=O.props&&O.props.onVnodeBeforeUpdate)&&Ge(ee,B,O,W),kt(c,!0);const fe=on(c),je=c.subTree;c.subTree=fe,R(je,fe,m(je.el),Cs(je),c,y,S),O.el=fe.el,se===null&&cc(c,fe.el),I&&Pe(I,y),(ee=O.props&&O.props.onVnodeUpdated)&&Pe(()=>Ge(ee,B,O,W),y)}else{let O;const{el:x,props:I}=d,{bm:B,m:W,parent:se}=c,ee=os(d);if(kt(c,!1),B&&rn(B),!ee&&(O=I&&I.onVnodeBeforeMount)&&Ge(O,se,d),kt(c,!0),x&&sn){const fe=()=>{c.subTree=on(c),sn(x,c.subTree,c,y,null)};ee?d.type.__asyncLoader().then(()=>!c.isUnmounted&&fe()):fe()}else{const fe=c.subTree=on(c);R(null,fe,g,v,c,y,S),d.el=fe.el}if(W&&Pe(W,y),!ee&&(O=I&&I.onVnodeMounted)){const fe=d;Pe(()=>Ge(O,se,fe),y)}(d.shapeFlag&256||se&&os(se.vnode)&&se.vnode.shapeFlag&256)&&c.a&&Pe(c.a,y),c.isMounted=!0,d=g=v=null}},k=c.effect=new Nn(T,()=>Gn(b),c.scope),b=c.update=()=>k.run();b.id=c.uid,kt(c,!0),b()},ue=(c,d,g)=>{d.component=c;const v=c.vnode.props;c.vnode=d,c.next=null,Uc(c,d.props,v,g),Nc(c,d.children,g),Jt(),Sr(),Xt()},te=(c,d,g,v,y,S,E,T,k=!1)=>{const b=c&&c.children,O=c?c.shapeFlag:0,x=d.children,{patchFlag:I,shapeFlag:B}=d;if(I>0){if(I&128){Ss(b,x,g,v,y,S,E,T,k);return}else if(I&256){Tt(b,x,g,v,y,S,E,T,k);return}}B&8?(O&16&&st(b,y,S),x!==b&&f(g,x)):O&16?B&16?Ss(b,x,g,v,y,S,E,T,k):st(b,y,S,!0):(O&8&&f(g,""),B&16&&A(x,g,v,y,S,E,T,k))},Tt=(c,d,g,v,y,S,E,T,k)=>{c=c||Nt,d=d||Nt;const b=c.length,O=d.length,x=Math.min(b,O);let I;for(I=0;I<x;I++){const B=d[I]=k?ft(d[I]):Je(d[I]);R(c[I],B,g,null,y,S,E,T,k)}b>O?st(c,y,S,!0,!1,x):A(d,g,v,y,S,E,T,k,x)},Ss=(c,d,g,v,y,S,E,T,k)=>{let b=0;const O=d.length;let x=c.length-1,I=O-1;for(;b<=x&&b<=I;){const B=c[b],W=d[b]=k?ft(d[b]):Je(d[b]);if($t(B,W))R(B,W,g,null,y,S,E,T,k);else break;b++}for(;b<=x&&b<=I;){const B=c[x],W=d[I]=k?ft(d[I]):Je(d[I]);if($t(B,W))R(B,W,g,null,y,S,E,T,k);else break;x--,I--}if(b>x){if(b<=I){const B=I+1,W=B<O?d[B].el:v;for(;b<=I;)R(null,d[b]=k?ft(d[b]):Je(d[b]),g,W,y,S,E,T,k),b++}}else if(b>I)for(;b<=x;)ze(c[b],y,S,!0),b++;else{const B=b,W=b,se=new Map;for(b=W;b<=I;b++){const Ie=d[b]=k?ft(d[b]):Je(d[b]);Ie.key!=null&&se.set(Ie.key,b)}let ee,fe=0;const je=I-W+1;let Dt=!1,hr=0;const Zt=new Array(je);for(b=0;b<je;b++)Zt[b]=0;for(b=B;b<=x;b++){const Ie=c[b];if(fe>=je){ze(Ie,y,S,!0);continue}let Ke;if(Ie.key!=null)Ke=se.get(Ie.key);else for(ee=W;ee<=I;ee++)if(Zt[ee-W]===0&&$t(Ie,d[ee])){Ke=ee;break}Ke===void 0?ze(Ie,y,S,!0):(Zt[Ke-W]=b+1,Ke>=hr?hr=Ke:Dt=!0,R(Ie,d[Ke],g,null,y,S,E,T,k),fe++)}const fr=Dt?Vc(Zt):Nt;for(ee=fr.length-1,b=je-1;b>=0;b--){const Ie=W+b,Ke=d[Ie],pr=Ie+1<O?d[Ie+1].el:v;Zt[b]===0?R(null,Ke,g,pr,y,S,E,T,k):Dt&&(ee<0||b!==fr[ee]?St(Ke,g,pr,2):ee--)}}},St=(c,d,g,v,y=null)=>{const{el:S,type:E,transition:T,children:k,shapeFlag:b}=c;if(b&6){St(c.component.subTree,d,g,v);return}if(b&128){c.suspense.move(d,g,v);return}if(b&64){E.move(c,d,g,Rt);return}if(E===Y){i(S,d,g);for(let x=0;x<k.length;x++)St(k[x],d,g,v);i(c.anchor,d,g);return}if(E===Bs){re(c,d,g);return}if(v!==2&&b&1&&T)if(v===0)T.beforeEnter(S),i(S,d,g),Pe(()=>T.enter(S),y);else{const{leave:x,delayLeave:I,afterLeave:B}=T,W=()=>i(S,d,g),se=()=>{x(S,()=>{W(),B&&B()})};I?I(S,W,se):se()}else i(S,d,g)},ze=(c,d,g,v=!1,y=!1)=>{const{type:S,props:E,ref:T,children:k,dynamicChildren:b,shapeFlag:O,patchFlag:x,dirs:I}=c;if(T!=null&&Cn(T,null,g,c,!0),O&256){d.ctx.deactivate(c);return}const B=O&1&&I,W=!os(c);let se;if(W&&(se=E&&E.onVnodeBeforeUnmount)&&Ge(se,d,c),O&6)Za(c.component,g,v);else{if(O&128){c.suspense.unmount(g,v);return}B&&Ct(c,null,d,"beforeUnmount"),O&64?c.type.remove(c,d,g,y,Rt,v):b&&(S!==Y||x>0&&x&64)?st(b,d,g,!1,!0):(S===Y&&x&384||!y&&O&16)&&st(k,d,g),v&&ur(c)}(W&&(se=E&&E.onVnodeUnmounted)||B)&&Pe(()=>{se&&Ge(se,d,c),B&&Ct(c,null,d,"unmounted")},g)},ur=c=>{const{type:d,el:g,anchor:v,transition:y}=c;if(d===Y){Qa(g,v);return}if(d===Bs){U(c);return}const S=()=>{n(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(c.shapeFlag&1&&y&&!y.persisted){const{leave:E,delayLeave:T}=y,k=()=>E(g,S);T?T(c.el,S,k):k()}else S()},Qa=(c,d)=>{let g;for(;c!==d;)g=_(c),n(c),c=g;n(d)},Za=(c,d,g)=>{const{bum:v,scope:y,update:S,subTree:E,um:T}=c;v&&rn(v),y.stop(),S&&(S.active=!1,ze(E,c,d,g)),T&&Pe(T,d),Pe(()=>{c.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},st=(c,d,g,v=!1,y=!1,S=0)=>{for(let E=S;E<c.length;E++)ze(c[E],d,g,v,y)},Cs=c=>c.shapeFlag&6?Cs(c.component.subTree):c.shapeFlag&128?c.suspense.next():_(c.anchor||c.el),dr=(c,d,g)=>{c==null?d._vnode&&ze(d._vnode,null,null,!0):R(d._vnode||null,c,d,null,null,null,g),Sr(),Ho(),d._vnode=c},Rt={p:R,um:ze,m:St,r:ur,mt:Ae,mc:A,pc:te,pbc:V,n:Cs,o:e};let tn,sn;return t&&([tn,sn]=t(Rt)),{render:dr,hydrate:tn,createApp:Rc(dr,tn)}}function kt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function ua(e,t,s=!1){const i=e.children,n=t.children;if(F(i)&&F(n))for(let r=0;r<i.length;r++){const o=i[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=ft(n[r]),a.el=o.el),s||ua(o,a)),a.type===hi&&(a.el=o.el)}}function Vc(e){const t=e.slice(),s=[0];let i,n,r,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(n=s[s.length-1],e[n]<u){t[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,e[s[a]]<u?r=a+1:o=a;u<e[s[r]]&&(r>0&&(t[i]=s[r-1]),s[r]=i)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}const Wc=e=>e.__isTeleport,Y=Symbol.for("v-fgt"),hi=Symbol.for("v-txt"),Le=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),cs=[];let We=null;function w(e=!1){cs.push(We=e?null:[])}function qc(){cs.pop(),We=cs[cs.length-1]||null}let vs=1;function Dr(e){vs+=e}function da(e){return e.dynamicChildren=vs>0?We||Nt:null,qc(),vs>0&&We&&We.push(e),e}function C(e,t,s,i,n,r){return da(h(e,t,s,i,n,r,!0))}function xe(e,t,s,i,n){return da(K(e,t,s,i,n,!0))}function Xs(e){return e?e.__v_isVNode===!0:!1}function $t(e,t){return e.type===t.type&&e.key===t.key}const fi="__vInternal",ha=({key:e})=>e??null,Ls=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||de(e)||j(e)?{i:Se,r:e,k:t,f:!!s}:e:null);function h(e,t=null,s=null,i=0,n=null,r=e===Y?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ha(t),ref:t&&Ls(t),scopeId:ci,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Se};return a?(Qn(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=me(s)?8:16),vs>0&&!o&&We&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&We.push(l),l}const K=zc;function zc(e,t=null,s=null,i=0,n=null,r=!1){if((!e||e===Cc)&&(e=Le),Xs(e)){const a=_t(e,t,!0);return s&&Qn(a,s),vs>0&&!r&&We&&(a.shapeFlag&6?We[We.indexOf(e)]=a:We.push(a)),a.patchFlag|=-2,a}if(su(e)&&(e=e.__vccOpts),t){t=Kc(t);let{class:a,style:l}=t;a&&!me(a)&&(t.class=J(a)),le(l)&&(Do(l)&&!F(l)&&(l=he({},l)),t.style=ii(l))}const o=me(e)?1:uc(e)?128:Wc(e)?64:le(e)?4:j(e)?2:0;return h(e,t,s,i,n,o,r,!0)}function Kc(e){return e?Do(e)||fi in e?he({},e):e:null}function _t(e,t,s=!1){const{props:i,ref:n,patchFlag:r,children:o}=e,a=t?Gc(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&ha(a),ref:t&&t.ref?s&&n?F(n)?n.concat(Ls(t)):[n,Ls(t)]:Ls(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Y?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&_t(e.ssContent),ssFallback:e.ssFallback&&_t(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function pt(e=" ",t=0){return K(hi,null,e,t)}function fa(e,t){const s=K(Bs,null,e);return s.staticCount=t,s}function _e(e="",t=!1){return t?(w(),xe(Le,null,e)):K(Le,null,e)}function Je(e){return e==null||typeof e=="boolean"?K(Le):F(e)?K(Y,null,e.slice()):typeof e=="object"?ft(e):K(hi,null,String(e))}function ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:_t(e)}function Qn(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(F(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Qn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!(fi in t)?t._ctx=Se:n===3&&Se&&(Se.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else j(t)?(t={default:t,_ctx:Se},s=32):(t=String(t),i&64?(s=16,t=[pt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Gc(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=J([t.class,i.class]));else if(n==="style")t.style=ii([t.style,i.style]);else if(ei(n)){const r=t[n],o=i[n];o&&r!==o&&!(F(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=i[n])}return t}function Ge(e,t,s,i=null){Be(e,t,7,[s,i])}const Yc=na();let Jc=0;function Xc(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Yc,r={uid:Jc++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new bo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oa(i,n),emitsOptions:Wo(i,n),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:i.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=rc.bind(null,r),e.ce&&e.ce(r),r}let we=null;const pa=()=>we||Se;let Zn,Mt,Mr="__VUE_INSTANCE_SETTERS__";(Mt=gn()[Mr])||(Mt=gn()[Mr]=[]),Mt.push(e=>we=e),Zn=e=>{Mt.length>1?Mt.forEach(t=>t(e)):Mt[0](e)};const Gt=e=>{Zn(e),e.scope.on()},It=()=>{we&&we.scope.off(),Zn(null)};function ga(e){return e.vnode.shapeFlag&4}let _s=!1;function Qc(e,t=!1){_s=t;const{props:s,children:i}=e.vnode,n=ga(e);Fc(e,s,n,t),Lc(e,i);const r=n?Zc(e,t):void 0;return _s=!1,r}function Zc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=oi(new Proxy(e.ctx,Ec));const{setup:i}=s;if(i){const n=e.setupContext=i.length>1?tu(e):null;Gt(e),Jt();const r=yt(i,e,0,[e.props,n]);if(Xt(),It(),po(r)){if(r.then(It,It),t)return r.then(o=>{Fr(e,o,t)}).catch(o=>{ai(o,e,0)});e.asyncDep=r}else Fr(e,r,t)}else ma(e,t)}function Fr(e,t,s){j(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=Bo(t)),ma(e,s)}let Ur;function ma(e,t,s){const i=e.type;if(!e.render){if(!t&&Ur&&!i.render){const n=i.template||Jn(e).template;if(n){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=he(he({isCustomElement:r,delimiters:a},o),l);i.render=Ur(n,u)}}e.render=i.render||qe}Gt(e),Jt(),Ac(e),Xt(),It()}function eu(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Oe(e,"get","$attrs"),t[s]}}))}function tu(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return eu(e)},slots:e.slots,emit:e.emit,expose:t}}function pi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Bo(oi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in as)return as[s](e)},has(t,s){return s in t||s in as}}))}function su(e){return j(e)&&"__vccOpts"in e}const ya=(e,t)=>Zl(e,t,_s);function iu(e,t,s){const i=arguments.length;return i===2?le(t)&&!F(t)?Xs(t)?K(e,null,[t]):K(e,t):K(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Xs(s)&&(s=[s]),K(e,t,s))}const nu=Symbol.for("v-scx"),ru=()=>ls(nu),ou="3.3.4",au="http://www.w3.org/2000/svg",xt=typeof document<"u"?document:null,Br=xt&&xt.createElement("template"),lu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t?xt.createElementNS(au,e):xt.createElement(e,s?{is:s}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,r){const o=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Br.innerHTML=i?`<svg>${e}</svg>`:e;const a=Br.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function cu(e,t,s){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function uu(e,t,s){const i=e.style,n=me(s);if(s&&!n){if(t&&!me(t))for(const r in t)s[r]==null&&kn(i,r,"");for(const r in s)kn(i,r,s[r])}else{const r=i.display;n?t!==s&&(i.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const Lr=/\s*!important$/;function kn(e,t,s){if(F(s))s.forEach(i=>kn(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=du(e,t);Lr.test(s)?e.setProperty(Yt(i),s.replace(Lr,""),"important"):e[i]=s}}const Nr=["Webkit","Moz","ms"],cn={};function du(e,t){const s=cn[t];if(s)return s;let i=zt(t);if(i!=="filter"&&i in e)return cn[t]=i;i=yo(i);for(let n=0;n<Nr.length;n++){const r=Nr[n]+i;if(r in e)return cn[t]=r}return t}const jr="http://www.w3.org/1999/xlink";function hu(e,t,s,i,n){if(i&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(jr,t.slice(6,t.length)):e.setAttributeNS(jr,t,s);else{const r=gl(t);s==null||r&&!vo(s)?e.removeAttribute(t):e.setAttribute(t,r?"":s)}}function fu(e,t,s,i,n,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,n,r),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=s;const u=a==="OPTION"?e.getAttribute("value"):e.value,f=s??"";u!==f&&(e.value=f),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=vo(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function pu(e,t,s,i){e.addEventListener(t,s,i)}function gu(e,t,s,i){e.removeEventListener(t,s,i)}function mu(e,t,s,i,n=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=yu(t);if(i){const u=r[t]=bu(i,n);pu(e,a,u,l)}else o&&(gu(e,a,o,l),r[t]=void 0)}}const Hr=/(?:Once|Passive|Capture)$/;function yu(e){let t;if(Hr.test(e)){t={};let i;for(;i=e.match(Hr);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let un=0;const vu=Promise.resolve(),_u=()=>un||(vu.then(()=>un=0),un=Date.now());function bu(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Be(wu(i,s.value),t,5,[i])};return s.value=e,s.attached=_u(),s}function wu(e,t){if(F(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Vr=/^on[a-z]/,Tu=(e,t,s,i,n=!1,r,o,a,l)=>{t==="class"?cu(e,i,n):t==="style"?uu(e,s,i):ei(t)?Mn(t)||mu(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Su(e,t,i,n))?fu(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),hu(e,t,i,n))};function Su(e,t,s,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Vr.test(t)&&j(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Vr.test(t)&&me(s)?!1:t in e}const ut="transition",es="animation",er=(e,{slots:t})=>iu(pc,_a(e),t);er.displayName="Transition";const va={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Cu=er.props=he({},Yo,va),Et=(e,t=[])=>{F(e)?e.forEach(s=>s(...t)):e&&e(...t)},Wr=e=>e?F(e)?e.some(t=>t.length>1):e.length>1:!1;function _a(e){const t={};for(const $ in e)$ in va||(t[$]=e[$]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:u=o,appearToClass:f=a,leaveFromClass:m=`${s}-leave-from`,leaveActiveClass:_=`${s}-leave-active`,leaveToClass:P=`${s}-leave-to`}=e,H=ku(n),R=H&&H[0],Z=H&&H[1],{onBeforeEnter:ie,onEnter:ne,onEnterCancelled:re,onLeave:U,onLeaveCancelled:Q,onBeforeAppear:De=ie,onAppear:Ce=ne,onAppearCancelled:A=re}=t,D=($,oe,Ae)=>{dt($,oe?f:a),dt($,oe?u:o),Ae&&Ae()},V=($,oe)=>{$._isLeaving=!1,dt($,m),dt($,P),dt($,_),oe&&oe()},ce=$=>(oe,Ae)=>{const Ne=$?Ce:ne,X=()=>D(oe,$,Ae);Et(Ne,[oe,X]),qr(()=>{dt(oe,$?l:r),it(oe,$?f:a),Wr(Ne)||zr(oe,i,R,X)})};return he(t,{onBeforeEnter($){Et(ie,[$]),it($,r),it($,o)},onBeforeAppear($){Et(De,[$]),it($,l),it($,u)},onEnter:ce(!1),onAppear:ce(!0),onLeave($,oe){$._isLeaving=!0;const Ae=()=>V($,oe);it($,m),wa(),it($,_),qr(()=>{$._isLeaving&&(dt($,m),it($,P),Wr(U)||zr($,i,Z,Ae))}),Et(U,[$,Ae])},onEnterCancelled($){D($,!1),Et(re,[$])},onAppearCancelled($){D($,!0),Et(A,[$])},onLeaveCancelled($){V($),Et(Q,[$])}})}function ku(e){if(e==null)return null;if(le(e))return[dn(e.enter),dn(e.leave)];{const t=dn(e);return[t,t]}}function dn(e){return cl(e)}function it(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function dt(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function qr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Eu=0;function zr(e,t,s,i){const n=e._endId=++Eu,r=()=>{n===e._endId&&i()};if(s)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=ba(e,t);if(!o)return i();const u=o+"end";let f=0;const m=()=>{e.removeEventListener(u,_),r()},_=P=>{P.target===e&&++f>=l&&m()};setTimeout(()=>{f<l&&m()},a+1),e.addEventListener(u,_)}function ba(e,t){const s=window.getComputedStyle(e),i=H=>(s[H]||"").split(", "),n=i(`${ut}Delay`),r=i(`${ut}Duration`),o=Kr(n,r),a=i(`${es}Delay`),l=i(`${es}Duration`),u=Kr(a,l);let f=null,m=0,_=0;t===ut?o>0&&(f=ut,m=o,_=r.length):t===es?u>0&&(f=es,m=u,_=l.length):(m=Math.max(o,u),f=m>0?o>u?ut:es:null,_=f?f===ut?r.length:l.length:0);const P=f===ut&&/\b(transform|all)(,|$)/.test(i(`${ut}Property`).toString());return{type:f,timeout:m,propCount:_,hasTransform:P}}function Kr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>Gr(s)+Gr(e[i])))}function Gr(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function wa(){return document.body.offsetHeight}const Ta=new WeakMap,Sa=new WeakMap,Ca={name:"TransitionGroup",props:he({},Cu,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=pa(),i=Go();let n,r;return Zo(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Iu(n[0].el,s.vnode.el,o))return;n.forEach(xu),n.forEach(Pu);const a=n.filter(Ou);wa(),a.forEach(l=>{const u=l.el,f=u.style;it(u,o),f.transform=f.webkitTransform=f.transitionDuration="";const m=u._moveCb=_=>{_&&_.target!==u||(!_||/transform$/.test(_.propertyName))&&(u.removeEventListener("transitionend",m),u._moveCb=null,dt(u,o))};u.addEventListener("transitionend",m)})}),()=>{const o=z(e),a=_a(o);let l=o.tag||Y;n=r,r=t.default?Yn(t.default()):[];for(let u=0;u<r.length;u++){const f=r[u];f.key!=null&&ms(f,gs(f,a,i,s))}if(n)for(let u=0;u<n.length;u++){const f=n[u];ms(f,gs(f,a,i,s)),Ta.set(f,f.el.getBoundingClientRect())}return K(l,null,r)}}},Au=e=>delete e.mode;Ca.props;const $u=Ca;function xu(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Pu(e){Sa.set(e,e.el.getBoundingClientRect())}function Ou(e){const t=Ta.get(e),s=Sa.get(e),i=t.left-s.left,n=t.top-s.top;if(i||n){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${n}px)`,r.transitionDuration="0s",e}}function Iu(e,t,s){const i=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),s.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:r}=ba(i);return n.removeChild(i),r}const ka={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ts(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),ts(e,!0),i.enter(e)):i.leave(e,()=>{ts(e,!1)}):ts(e,t))},beforeUnmount(e,{value:t}){ts(e,t)}};function ts(e,t){e.style.display=t?e._vod:"none"}const Ru=he({patchProp:Tu},lu);let Yr;function Du(){return Yr||(Yr=jc(Ru))}const Mu=(...e)=>{const t=Du().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Fu(i);if(!n)return;const r=t._component;!j(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Fu(e){return me(e)?document.querySelector(e):e}var Uu=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ea;const gi=e=>Ea=e,Aa=Symbol();function En(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var us;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(us||(us={}));function Bu(){const e=wo(!0),t=e.run(()=>Uo({}));let s=[],i=[];const n=oi({install(r){gi(n),n._a=r,r.provide(Aa,n),r.config.globalProperties.$pinia=n,i.forEach(o=>s.push(o)),i=[]},use(r){return!this._a&&!Uu?i.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const $a=()=>{};function Jr(e,t,s,i=$a){e.push(t);const n=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!s&&To()&&yl(n),n}function Ft(e,...t){e.slice().forEach(s=>{s(...t)})}const Lu=e=>e();function An(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,i)=>e.set(i,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const i=t[s],n=e[s];En(n)&&En(i)&&e.hasOwnProperty(s)&&!de(i)&&!mt(i)?e[s]=An(n,i):e[s]=i}return e}const Nu=Symbol();function ju(e){return!En(e)||!e.hasOwnProperty(Nu)}const{assign:ht}=Object;function Hu(e){return!!(de(e)&&e.effect)}function Vu(e,t,s,i){const{state:n,actions:r,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const f=Yl(s.state.value[e]);return ht(f,r,Object.keys(o||{}).reduce((m,_)=>(m[_]=oi(ya(()=>{gi(s);const P=s._s.get(e);return o[_].call(P,P)})),m),{}))}return l=xa(e,u,t,s,i,!0),l}function xa(e,t,s={},i,n,r){let o;const a=ht({actions:{}},s),l={deep:!0};let u,f,m=[],_=[],P;const H=i.state.value[e];!r&&!H&&(i.state.value[e]={}),Uo({});let R;function Z(A){let D;u=f=!1,typeof A=="function"?(A(i.state.value[e]),D={type:us.patchFunction,storeId:e,events:P}):(An(i.state.value[e],A),D={type:us.patchObject,payload:A,storeId:e,events:P});const V=R=Symbol();No().then(()=>{R===V&&(u=!0)}),f=!0,Ft(m,D,i.state.value[e])}const ie=r?function(){const{state:D}=s,V=D?D():{};this.$patch(ce=>{ht(ce,V)})}:$a;function ne(){o.stop(),m=[],_=[],i._s.delete(e)}function re(A,D){return function(){gi(i);const V=Array.from(arguments),ce=[],$=[];function oe(X){ce.push(X)}function Ae(X){$.push(X)}Ft(_,{args:V,name:A,store:Q,after:oe,onError:Ae});let Ne;try{Ne=D.apply(this&&this.$id===e?this:Q,V)}catch(X){throw Ft($,X),X}return Ne instanceof Promise?Ne.then(X=>(Ft(ce,X),X)).catch(X=>(Ft($,X),Promise.reject(X))):(Ft(ce,Ne),Ne)}}const U={_p:i,$id:e,$onAction:Jr.bind(null,_),$patch:Z,$reset:ie,$subscribe(A,D={}){const V=Jr(m,A,D.detached,()=>ce()),ce=o.run(()=>Us(()=>i.state.value[e],$=>{(D.flush==="sync"?f:u)&&A({storeId:e,type:us.direct,events:P},$)},ht({},l,D)));return V},$dispose:ne},Q=ri(U);i._s.set(e,Q);const De=i._a&&i._a.runWithContext||Lu,Ce=i._e.run(()=>(o=wo(),De(()=>o.run(t))));for(const A in Ce){const D=Ce[A];if(de(D)&&!Hu(D)||mt(D))r||(H&&ju(D)&&(de(D)?D.value=H[A]:An(D,H[A])),i.state.value[e][A]=D);else if(typeof D=="function"){const V=re(A,D);Ce[A]=V,a.actions[A]=D}}return ht(Q,Ce),ht(z(Q),Ce),Object.defineProperty(Q,"$state",{get:()=>i.state.value[e],set:A=>{Z(D=>{ht(D,A)})}}),i._p.forEach(A=>{ht(Q,o.run(()=>A({store:Q,app:i._a,pinia:i,options:a})))}),H&&r&&s.hydrate&&s.hydrate(Q.$state,H),u=!0,f=!0,Q}function Wu(e,t,s){let i,n;const r=typeof t=="function";typeof e=="string"?(i=e,n=r?s:t):(n=e,i=e.id);function o(a,l){const u=Mc();return a=a||(u?ls(Aa,null):null),a&&gi(a),a=Ea,a._s.has(i)||(r?xa(i,t,n,a):Vu(i,n,a)),a._s.get(i)}return o.$id=i,o}function be(e,t){return Array.isArray(t)?t.reduce((s,i)=>(s[i]=function(){return e(this.$pinia)[i]},s),{}):Object.keys(t).reduce((s,i)=>(s[i]=function(){const n=e(this.$pinia),r=t[i];return typeof r=="function"?r.call(this,n):n[r]},s),{})}function Ee(e,t){return Array.isArray(t)?t.reduce((s,i)=>(s[i]=function(...n){return e(this.$pinia)[i](...n)},s),{}):Object.keys(t).reduce((s,i)=>(s[i]=function(...n){return e(this.$pinia)[t[i]](...n)},s),{})}const mi="/assets/castle-27a3d291.svg",yi="/assets/close-f5d846ec.svg",vi="/assets/defense-bd9c3f5b.svg",_i="/assets/flag-54741b89.svg",bi="/assets/give-d1ccf0c7.svg",wi="/assets/help-518d5cb1.svg",Ti="/assets/load-9b6a67c5.svg",Si="/assets/archer-06aeaf2c.svg",Ci="/assets/footman-f32b5165.svg",ki="/assets/horse-dac998a4.svg",Ei="/assets/knight-4b6e0df3.svg",Ai="/assets/ore-bcbc3549.svg",$i="/assets/peasant-11e0c611.svg",xi="/assets/rice-8aa3a52c.svg",Pi="/assets/serf-251385a3.svg",Oi="/assets/tree-f893f7da.svg",Ii="/assets/wand-c232b03a.svg",Ri="/assets/wizard-e457c3e5.svg",Di="/assets/menu-05ddd784.svg",Mi="/assets/move-75d7174f.svg",Fi="/assets/next-393dbd13.svg",Ui="/assets/offense-bbc31d54.svg",Bi="/assets/ranged-c9fa731e.svg",Li="/assets/reset-57391f15.svg",Ni="/assets/save-b0d06498.svg",ji="/assets/settings-620ec5c9.svg",Hi="/assets/take-82478436.svg",Vi="/assets/coffin-1f64f4eb.svg",Wi="/assets/flesh-f41315ff.svg",qi="/assets/ghost-61325e9a.svg",zi="/assets/moonshine-c9dc1f10.svg",Ki="/assets/remains-f1908e87.svg",Gi="/assets/scroll-b658ab93.svg",Yi="/assets/skeleton-81760aa6.svg",Ji="/assets/soul-6693ca8c.svg",Xi="/assets/vampire-a7eeb5df.svg",Qi="/assets/werewolf-bc9ac783.svg",Zi="/assets/zombie-36ad5e99.svg",qu="/assets/arrow-6a3f0288.mp3",zu="/assets/caching-e90fdd11.mp3",Ku="/assets/crumble-f8dbfea6.mp3",Gu="/assets/death-03083ae2.mp3",Yu="/assets/dice-a1881af1.mp3",Ju="/assets/fanfare-a0410765.mp3",Xu="/assets/horse-ca99b5f3.mp3",Qu="/assets/magic-8e64b0c2.mp3",Zu="/assets/march-c5cf354f.mp3",ed="/assets/monster-600e610e.mp3",td="/assets/pitchfork-fec95f6f.mp3",sd="/assets/sword-36ee8c5f.mp3",id="/assets/victory-bfae5a2c.mp3",nd="/assets/bones-4021280c.mp3",rd="/assets/boo-5aef38fd.mp3",od="/assets/caching-af777d2f.mp3",ad="/assets/crumble-f8dbfea6.mp3",ld="/assets/death-31e8be97.mp3",cd="/assets/dice-a1881af1.mp3",ud="/assets/fanfare-06a95c51.mp3",dd="/assets/howl-03eeec67.mp3",hd="/assets/march-57b19690.mp3",fd="/assets/monster-c9f19d27.mp3",pd="/assets/suck-773fc40c.mp3",gd="/assets/victory-ecbacebc.mp3",md="/assets/zombie-5e039676.mp3",yd={resourceTypes:[{id:1,type:"village",resource:"Loyal Serf",icon:"serf",color:"#03a9f4",value:1},{id:2,type:"farm",resource:"Tasty Ration",icon:"rice",color:"lightgreen",value:1},{id:3,type:"mine",resource:"Iron Chunk",icon:"ore",color:"#505050",value:2},{id:4,type:"forest",resource:"Dead Tree",icon:"tree",color:"darkgreen",value:2},{id:5,type:"tower",resource:"Magic Wand",icon:"wand",color:"purple",value:3},{id:6,type:"stables",resource:"Noble Steed",icon:"horse",color:"#987554",value:3},{id:7,type:"desert",resource:"",icon:"",color:"white",value:0}],separateResourceTypes:["tower","stables","desert"],unitTypes:[{id:1,type:"peasant",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"pitchfork"},value:1},{id:2,type:"footman",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:20,ranged:!1,sound:"sword"},value:2},{id:3,type:"archer",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:10,defense:10,ranged:!0,sound:"arrow"},value:2},{id:4,type:"knight",move:2,cost:[[1,1],[2,1],[3,1],[6,1]],battle:{offense:20,defense:30,ranged:!1,sound:"horse"},value:3},{id:5,type:"wizard",move:5,cost:[[1,1],[2,1],[4,1],[5,1]],battle:{offense:30,defense:5,ranged:!0,sound:"magic"},value:3}],startingUnits:["peasant","peasant","peasant","peasant","footman","archer","footman"],monsterName:"dragon"},vd={resourceTypes:[{id:1,type:"battlefield",resource:"Human Remains",icon:"remains",color:"#339966",value:1},{id:2,type:"library",resource:"Reanimate Scroll",icon:"scroll",color:"#FFCC99",value:1},{id:3,type:"dungeon",resource:"Spare Flesh",icon:"flesh",color:"#990000",value:2},{id:4,type:"cemetary",resource:"Lost Soul",icon:"soul",color:"gray",value:2},{id:5,type:"distillery",resource:"Moon Shine",icon:"moonshine",color:"purple",value:3},{id:6,type:"lair",resource:"Used Coffin",icon:"coffin",color:"#634121",value:3},{id:7,type:"church",resource:"",icon:"",color:"#ffffff",value:0}],separateResourceTypes:["distillery","shop","church"],unitTypes:[{id:1,type:"skeleton",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"bones"},value:1},{id:2,type:"zombie",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:15,ranged:!1,sound:"zombie"},value:2},{id:3,type:"ghost",move:2,cost:[[1,1],[2,1],[4,1]],battle:{offense:5,defense:10,ranged:!0,sound:"boo"},value:2},{id:4,type:"werewolf",move:3,cost:[[1,1],[2,1],[3,1],[5,1]],battle:{offense:20,defense:20,ranged:!1,sound:"howl"},value:3},{id:5,type:"vampire",move:4,cost:[[1,1],[2,1],[4,1],[6,1]],battle:{offense:25,defense:5,ranged:!0,sound:"suck"},value:3}],startingUnits:["skeleton","skeleton","skeleton","skeleton","zombie","ghost","zombie"],monsterName:"angel"};var Ns=(e=>(e[e.start=0]="start",e[e.roll=1]="roll",e[e.march=2]="march",e))(Ns||{}),Ye=(e=>(e[e.none=0]="none",e[e.points=1]="points",e[e.siege=2]="siege",e[e.concede=3]="concede",e))(Ye||{});const L={turnPhases:[{phase:0,description:"Select a starting location!"},{phase:1,description:"Roll the dice to collect resources!"},{phase:2,description:"Train units, reposition troops, or march to war!"}],turnLength:90,minPlayers:2,maxPlayers:4,gridSize:[[],[],[3,4,5,4,3],[4,5,6,5,4],[5,6,7,6,5]],gridMakeup:[{},{},{1:4,2:4,3:3,4:3,5:2,6:2,7:1},{1:5,2:5,3:4,4:4,5:2,6:2,7:2},{1:6,2:6,3:5,4:5,5:2,6:2,7:3}],gridRolls:[[],[],[2,3,4,4,5,5,5,6,6,8,8,9,9,9,10,10,11,12],[2,3,3,4,4,5,5,5,6,6,6,8,8,8,9,9,9,10,10,11,11,12],[2,2,3,3,4,4,4,5,5,5,6,6,6,8,8,8,9,9,9,10,10,10,11,11,12,12]],monsterRoll:7,monsterMove:"The monster is on the move!",tradeSurcharge:2,baseGeneration:3,maxMoveDistance:10,tileUnitMax:8,startingLife:100,controlPoints:5,winningPoints:100,settingsBaseSound:100,settingsBaseSpeed:2,statStrings:{pointsMax:"Highest Victory Points",tilesMax:"Highest Controlled Tiles",resourcesGathered:"Resources Gathered",resourcesSpent:"Resources Spent",resourcesTraded:"Resources Traded",unitsTrained:"Units Trained",unitsLost:"Units Lost",unitsKilled:"Units Killed",unitsMoved:"Units Moved",unitsMax:"Highest Unit Count",damageTotal:"Total Damage"},themeData:{medieval:yd,undead:vd}};function _d(e,t,s){const i=new Date;i.setTime(i.getTime()+s*24*60*60*1e3);const n="expires="+i.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function bd(e){const t=e+"=",i=decodeURIComponent(document.cookie).split(";");for(let n=0;n<i.length;n++){let r=i[n];for(;r.charAt(0)==" ";)r=r.substring(1);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return""}class Xr{constructor(){p(this,"users");p(this,"local");p(this,"host");this.users=[],this.local="",this.host=""}isHostLocal(){return this.local!==""&&this.local===this.host}}class Qr{constructor(){p(this,"turnsCount");p(this,"rollSpread");p(this,"unitSpread");p(this,"resourceSpread");p(this,"battlesCount");p(this,"monsterKills");this.turnsCount=1,this.rollSpread=[],this.unitSpread=[],this.resourceSpread=[],this.battlesCount=0,this.monsterKills=0}init(t,s,i){for(let n=0;n<t;n++)this.unitSpread.push(0);for(let n=0;n<s-1;n++)this.resourceSpread.push(0);for(let n=0;n<new Set(L.gridRolls[i]).size+1;n++)this.rollSpread.push(0)}}var Vt;let js=(Vt=class{constructor(t){p(this,"id");p(this,"base");p(this,"life");p(this,"resources");p(this,"points");p(this,"computer");p(this,"remote");p(this,"end");p(this,"stats");this.id=t,this.base=null,this.life=L.startingLife,this.resources=[],this.points=0,this.computer=!1,this.remote=!1,this.end=0,this.stats=new Qs}name(){return this.computer?"Computer":`Player ${this.id}`}startingLife(){return L.startingLife}winTotal(){return L.winningPoints}resourceCount(t){return this.resources[t]}resourceScore(){let t=0;return this.resources.forEach(s=>t+=s),t}updateResource(t,s){let i=this.resources[t];i=i+s,this.resources[t]=i}save(){var t;return new wd({i:this.id,b:(t=this.base)==null?void 0:t.id,l:this.life,r:this.resources,p:this.points,c:this.computer?1:0,o:this.remote?1:0,e:this.end,s:this.stats.save()})}static load(t){const s=new Vt(t.i);return s.life=t.l,s.resources=t.r,s.points=t.p,s.computer=t.c>0,s.remote=t.o>0,s.end=t.e,s.stats=Qs.load(t.s),s}},p(Vt,"playerID",1),Vt);class wd{constructor(t){p(this,"i");p(this,"b");p(this,"l");p(this,"r");p(this,"p");p(this,"c");p(this,"o");p(this,"e");p(this,"s");this.i=t.i,this.b=t.b,this.l=t.l,this.r=t.r,this.p=t.p,this.c=t.c,this.o=t.o,this.e=t.e,this.s=t.s}}class Qs{constructor(){p(this,"pointsMax");p(this,"tilesMax");p(this,"resourcesGathered");p(this,"resourcesSpent");p(this,"resourcesTraded");p(this,"unitsTrained");p(this,"unitsLost");p(this,"unitsKilled");p(this,"unitsMoved");p(this,"unitsMax");p(this,"damageTotal");this.pointsMax=0,this.tilesMax=0,this.resourcesGathered=0,this.resourcesSpent=0,this.resourcesTraded=0,this.unitsTrained=0,this.unitsLost=0,this.unitsKilled=0,this.unitsMoved=0,this.unitsMax=0,this.damageTotal=0}save(){return new Td({p:this.pointsMax,t:this.tilesMax,rg:this.resourcesGathered,rs:this.resourcesSpent,rt:this.resourcesTraded,ut:this.unitsTrained,ul:this.unitsLost,uk:this.unitsKilled,um:this.unitsMoved,u:this.unitsMax,d:this.damageTotal})}static load(t){const s=new Qs;return s.pointsMax=t.p,s.tilesMax=t.t,s.resourcesGathered=t.rg,s.resourcesSpent=t.rs,s.resourcesTraded=t.rt,s.unitsTrained=t.ut,s.unitsLost=t.ul,s.unitsKilled=t.uk,s.unitsMoved=t.um,s.unitsMax=t.u,s.damageTotal=t.d,s}}class Td{constructor(t){p(this,"p");p(this,"t");p(this,"rg");p(this,"rs");p(this,"rt");p(this,"ut");p(this,"ul");p(this,"uk");p(this,"um");p(this,"u");p(this,"d");this.p=t.p,this.t=t.t,this.rg=t.rg,this.rs=t.rs,this.rt=t.rt,this.ut=t.ut,this.ul=t.ul,this.uk=t.uk,this.um=t.um,this.u=t.u,this.d=t.d}}var Wt;let Hs=(Wt=class{constructor(t){p(this,"id");p(this,"roll");p(this,"type");p(this,"units");p(this,"adjacent");p(this,"base");this.id=t,this.roll=0,this.type=null,this.units=[],this.adjacent=[],this.base=null}playerController(){return this.base&&!this.base.end?this.base:this.units.length&&this.units[0].player||null}unitsSelected(){return this.units.filter(t=>t.selected)||[]}score(){var s;let t=((s=this.type)==null?void 0:s.value)||0;return this.roll&&(t+=6-Math.abs(7-this.roll)),t}startScore(){var s;if((s=this.base)!=null&&s.id)return 0;let t=this.score();return t?(this.adjacent.forEach(i=>t+=i.score()),this.adjacent.forEach(i=>{var n;t=(n=i.base)!=null&&n.id?0:t}),t):0}unitScore(){let t=0;return this.units.forEach(s=>t+=s.type.value),t}dangerScore(t){let s=0;return this.adjacent.forEach(i=>{i.units.length&&i.units[0].player!==t&&i.units.forEach(n=>s+=n.type.value)}),s}save(){var t,s;return new Sd({i:this.id,r:this.roll,t:(t=this.type)==null?void 0:t.id,b:(s=this.base)==null?void 0:s.id})}static load(t){const s=new Wt(t.i);return s.roll=t.r,s}},p(Wt,"tileID",1),Wt);class Sd{constructor(t){p(this,"i");p(this,"r");p(this,"t");p(this,"b");this.i=t.i,this.r=t.r,this.t=t.t,this.b=t.b}}class nt{constructor(t){p(this,"id");p(this,"player");p(this,"tile");p(this,"type");p(this,"sent");p(this,"hide");p(this,"spend");p(this,"delay");this.id=t,this.player=null,this.tile=null,this.type=null,this.sent=!1,this.hide=!1,this.spend=!1,this.delay=0}}p(nt,"resourceID",1);class bs{constructor(t){p(this,"id");p(this,"type");p(this,"resource");p(this,"icon");p(this,"color");p(this,"value");this.id=t.id,this.type=t.type,this.resource=t.resource,this.icon=t.icon,this.color=t.color,this.value=t.value}static resourceTypes(t){return L.themeData[t].resourceTypes.map(s=>new bs(s))}static resourceTypesValid(t){return bs.resourceTypes(t).filter(s=>s.resource)}}class Zr{constructor(){p(this,"give");p(this,"take");p(this,"cost");p(this,"valid");this.give=0,this.take=0,this.cost=0,this.valid=!1}}var qt;let Ut=(qt=class{constructor(t,s){p(this,"id");p(this,"tile");p(this,"player");p(this,"selected");p(this,"moved");p(this,"staying");p(this,"stranded");p(this,"type");p(this,"damage");this.id=t,this.tile=null,this.player=null,this.selected=!1,this.moved=!1,this.staying=!1,this.stranded=!1,this.type=s,this.damage=0}static unitTypes(t){return L.themeData[t].unitTypes.map(s=>new Pa(s))}isAtBase(){var t;return((t=this.tile)==null?void 0:t.base)===this.player}isAlone(){var t;return((t=this.tile)==null?void 0:t.units.length)===1}resetMove(){this.selected=!1,this.moved=!1,this.staying=!1}save(){var t,s,i;return new Cd({i:this.id,m:this.moved?1:0,t:(t=this.tile)==null?void 0:t.id,y:(s=this.type)==null?void 0:s.id,p:(i=this.player)==null?void 0:i.id})}static load(t,s){const i=new qt(t.i,s);return i.moved=t.m>0,i}},p(qt,"unitID",1),qt);class Cd{constructor(t){p(this,"i");p(this,"m");p(this,"t");p(this,"y");p(this,"p");this.i=t.i,this.m=t.m,this.t=t.t,this.y=t.y,this.p=t.p}}class Pa{constructor(t){p(this,"id");p(this,"type");p(this,"move");p(this,"cost");p(this,"battle");p(this,"value");this.id=t.id,this.type=t.type,this.move=t.move,this.cost=t.cost,this.battle=new kd(t.battle),this.value=t.value}}class kd{constructor(t){p(this,"offense");p(this,"defense");p(this,"ranged");p(this,"sound");this.offense=t.offense,this.defense=t.defense,this.ranged=t.ranged,this.sound=t.sound}}class Oa{constructor(t,s){p(this,"index");p(this,"value");this.index=t,this.value=s}}let eo=class{constructor(){p(this,"location");p(this,"moving");p(this,"hungry");this.location=0,this.moving=!1,this.hungry=!1}};class Lt{constructor(){p(this,"player");p(this,"phase");p(this,"roll");p(this,"time");this.player=0,this.phase=0,this.roll=new Zs,this.time=L.turnLength}static load(t){const s=new Lt;return s.player=t.player,s.phase=t.phase,s.roll=Zs.load(t.roll),s.time=t.time,s}}class Zs{constructor(){p(this,"dieOne");p(this,"dieTwo");p(this,"total");p(this,"rolled");this.dieOne=3,this.dieTwo=4,this.total=7,this.rolled=!1}roll(){this.dieOne=Math.floor(Math.random()*6+1),this.dieTwo=Math.floor(Math.random()*6+1),this.total=this.dieOne+this.dieTwo,this.rolled=!0}setRoll(t,s){this.dieOne=t,this.dieTwo=s,this.total=this.dieOne+this.dieTwo,this.rolled=!0}static load(t){const s=new Zs;return s.dieOne=t.dieOne,s.dieTwo=t.dieTwo,s.total=t.total,s.rolled=t.rolled,s}}class to{constructor(t,s){p(this,"x");p(this,"y");this.x=t,this.y=s}}var Fe=(e=>(e[e.PvC=0]="PvC",e[e.PvPLocal=1]="PvPLocal",e[e.PvPOnline=2]="PvPOnline",e[e.CvC=3]="CvC",e[e.ModeCount=4]="ModeCount",e))(Fe||{});let hn=class Ia{constructor(){p(this,"open");p(this,"mode");p(this,"players");p(this,"sound");p(this,"speed");p(this,"theme");this.open=!1,this.mode=0,this.players=L.minPlayers,this.sound=null,this.speed=null,this.theme="medieval"}static load(t){const s=new Ia;return s.open=!1,s.mode=(t==null?void 0:t.mode)||0,s.players=(t==null?void 0:t.players)||L.minPlayers,s.sound=(t==null?void 0:t.sound)||L.settingsBaseSound,s.speed=(t==null?void 0:t.speed)||L.settingsBaseSpeed,s.theme=(t==null?void 0:t.theme)||"medieval",s}};class Ed{constructor(){p(this,"p");p(this,"g");p(this,"u");p(this,"t");p(this,"d");p(this,"s");p(this,"x");p(this,"h");this.p="",this.g="",this.u="",this.t="",this.d="",this.s="",this.x="",this.h=""}}const Ze=Object.create(null);Ze.open="0";Ze.close="1";Ze.ping="2";Ze.pong="3";Ze.message="4";Ze.upgrade="5";Ze.noop="6";const Vs=Object.create(null);Object.keys(Ze).forEach(e=>{Vs[Ze[e]]=e});const $n={type:"error",data:"parser error"},Ra=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Da=typeof ArrayBuffer=="function",Ma=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,tr=({type:e,data:t},s,i)=>Ra&&t instanceof Blob?s?i(t):so(t,i):Da&&(t instanceof ArrayBuffer||Ma(t))?s?i(t):so(new Blob([t]),i):i(Ze[e]+(t||"")),so=(e,t)=>{const s=new FileReader;return s.onload=function(){const i=s.result.split(",")[1];t("b"+(i||""))},s.readAsDataURL(e)};function io(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fn;function Ad(e,t){if(Ra&&e.data instanceof Blob)return e.data.arrayBuffer().then(io).then(t);if(Da&&(e.data instanceof ArrayBuffer||Ma(e.data)))return t(io(e.data));tr(e,!1,s=>{fn||(fn=new TextEncoder),t(fn.encode(s))})}const no="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<no.length;e++)rs[no.charCodeAt(e)]=e;const $d=e=>{let t=e.length*.75,s=e.length,i,n=0,r,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(i=0;i<s;i+=4)r=rs[e.charCodeAt(i)],o=rs[e.charCodeAt(i+1)],a=rs[e.charCodeAt(i+2)],l=rs[e.charCodeAt(i+3)],f[n++]=r<<2|o>>4,f[n++]=(o&15)<<4|a>>2,f[n++]=(a&3)<<6|l&63;return u},xd=typeof ArrayBuffer=="function",sr=(e,t)=>{if(typeof e!="string")return{type:"message",data:Fa(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:Pd(e.substring(1),t)}:Vs[s]?e.length>1?{type:Vs[s],data:e.substring(1)}:{type:Vs[s]}:$n},Pd=(e,t)=>{if(xd){const s=$d(e);return Fa(s,t)}else return{base64:!0,data:e}},Fa=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ua=String.fromCharCode(30),Od=(e,t)=>{const s=e.length,i=new Array(s);let n=0;e.forEach((r,o)=>{tr(r,!1,a=>{i[o]=a,++n===s&&t(i.join(Ua))})})},Id=(e,t)=>{const s=e.split(Ua),i=[];for(let n=0;n<s.length;n++){const r=sr(s[n],t);if(i.push(r),r.type==="error")break}return i};function Rd(){return new TransformStream({transform(e,t){Ad(e,s=>{const i=s.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const r=new DataView(n.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{n=new Uint8Array(9);const r=new DataView(n.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let pn;function Os(e){return e.reduce((t,s)=>t+s.length,0)}function Is(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let i=0;for(let n=0;n<t;n++)s[n]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),s}function Dd(e,t){pn||(pn=new TextDecoder);const s=[];let i=0,n=-1,r=!1;return new TransformStream({transform(o,a){for(s.push(o);;){if(i===0){if(Os(s)<1)break;const l=Is(s,1);r=(l[0]&128)===128,n=l[0]&127,n<126?i=3:n===126?i=1:i=2}else if(i===1){if(Os(s)<2)break;const l=Is(s,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Os(s)<8)break;const l=Is(s,8),u=new DataView(l.buffer,l.byteOffset,l.length),f=u.getUint32(0);if(f>Math.pow(2,53-32)-1){a.enqueue($n);break}n=f*Math.pow(2,32)+u.getUint32(4),i=3}else{if(Os(s)<n)break;const l=Is(s,n);a.enqueue(sr(r?l:pn.decode(l),t)),i=0}if(n===0||n>e){a.enqueue($n);break}}}})}const Ba=4;function ge(e){if(e)return Md(e)}function Md(e){for(var t in ge.prototype)e[t]=ge.prototype[t];return e}ge.prototype.on=ge.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ge.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};ge.prototype.off=ge.prototype.removeListener=ge.prototype.removeAllListeners=ge.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,n=0;n<s.length;n++)if(i=s[n],i===t||i.fn===t){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+e],this};ge.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(s){s=s.slice(0);for(var i=0,n=s.length;i<n;++i)s[i].apply(this,t)}return this};ge.prototype.emitReserved=ge.prototype.emit;ge.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ge.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ue=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function La(e,...t){return t.reduce((s,i)=>(e.hasOwnProperty(i)&&(s[i]=e[i]),s),{})}const Fd=Ue.setTimeout,Ud=Ue.clearTimeout;function en(e,t){t.useNativeTimers?(e.setTimeoutFn=Fd.bind(Ue),e.clearTimeoutFn=Ud.bind(Ue)):(e.setTimeoutFn=Ue.setTimeout.bind(Ue),e.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const Bd=1.33;function Ld(e){return typeof e=="string"?Nd(e):Math.ceil((e.byteLength||e.size)*Bd)}function Nd(e){let t=0,s=0;for(let i=0,n=e.length;i<n;i++)t=e.charCodeAt(i),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(i++,s+=4);return s}function jd(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function Hd(e){let t={},s=e.split("&");for(let i=0,n=s.length;i<n;i++){let r=s[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Vd extends Error{constructor(t,s,i){super(t),this.description=s,this.context=i,this.type="TransportError"}}class ir extends ge{constructor(t){super(),this.writable=!1,en(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,i){return super.emitReserved("error",new Vd(t,s,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=sr(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=jd(t);return s.length?"?"+s:""}}const Na="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xn=64,Wd={};let ro=0,Rs=0,oo;function ao(e){let t="";do t=Na[e%xn]+t,e=Math.floor(e/xn);while(e>0);return t}function ja(){const e=ao(+new Date);return e!==oo?(ro=0,oo=e):e+"."+ao(ro++)}for(;Rs<xn;Rs++)Wd[Na[Rs]]=Rs;let Ha=!1;try{Ha=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const qd=Ha;function Va(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||qd))return new XMLHttpRequest}catch{}if(!t)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function zd(){}const Kd=function(){return new Va({xdomain:!1}).responseType!=null}();class Gd extends ir{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let n=location.port;n||(n=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}const s=t&&t.forceBase64;this.supportsBinary=Kd&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||s()})),this.writable||(i++,this.once("drain",function(){--i||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Id(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Od(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=ja()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Qe(this.uri(),t)}doWrite(t,s){const i=this.request({method:"POST",data:t});i.on("success",s),i.on("error",(n,r)=>{this.onError("xhr post error",n,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,i)=>{this.onError("xhr poll error",s,i)}),this.pollXhr=t}}class Qe extends ge{constructor(t,s){super(),en(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=La(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const i=this.xhr=new Va(s);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var n;i.readyState===3&&((n=this.opts.cookieJar)===null||n===void 0||n.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=Qe.requestsCount++,Qe.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=zd,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Qe.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Qe.requestsCount=0;Qe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",lo);else if(typeof addEventListener=="function"){const e="onpagehide"in Ue?"pagehide":"unload";addEventListener(e,lo,!1)}}function lo(){for(let e in Qe.requests)Qe.requests.hasOwnProperty(e)&&Qe.requests[e].abort()}const nr=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0))(),Ds=Ue.WebSocket||Ue.MozWebSocket,co=!0,Yd="arraybuffer",uo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Jd extends ir{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,i=uo?{}:La(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=co&&!uo?s?new Ds(t,s):new Ds(t):new Ds(t,s,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const i=t[s],n=s===t.length-1;tr(i,this.supportsBinary,r=>{const o={};try{co&&this.ws.send(r)}catch{}n&&nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=ja()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Ds}}class Xd extends ir{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=Dd(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(s).getReader(),n=Rd();n.readable.pipeTo(t.writable),this.writer=n.writable.getWriter();const r=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const i=t[s],n=s===t.length-1;this.writer.write(i).then(()=>{n&&nr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Qd={websocket:Jd,webtransport:Xd,polling:Gd},Zd=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pn(e){const t=e,s=e.indexOf("["),i=e.indexOf("]");s!=-1&&i!=-1&&(e=e.substring(0,s)+e.substring(s,i).replace(/:/g,";")+e.substring(i,e.length));let n=Zd.exec(e||""),r={},o=14;for(;o--;)r[eh[o]]=n[o]||"";return s!=-1&&i!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=th(r,r.path),r.queryKey=sh(r,r.query),r}function th(e,t){const s=/\/{2,9}/g,i=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function sh(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,r){n&&(s[n]=r)}),s}let Wa=class Bt extends ge{constructor(t,s={}){super(),this.binaryType=Yd,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=Pn(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=Pn(s.host).host),en(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Hd(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=Ba,s.transport=t,this.id&&(s.sid=this.id);const i=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Qd[t](i)}open(){let t;if(this.opts.rememberUpgrade&&Bt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),i=!1;Bt.priorWebsocketSuccess=!1;const n=()=>{i||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Bt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=s.name,this.emitReserved("upgradeError",_)}}))};function r(){i||(i=!0,f(),s.close(),s=null)}const o=m=>{const _=new Error("probe error: "+m);_.transport=s.name,r(),this.emitReserved("upgradeError",_)};function a(){o("transport closed")}function l(){o("socket closed")}function u(m){s&&m.name!==s.name&&r()}const f=()=>{s.removeListener("open",n),s.removeListener("error",o),s.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};s.once("open",n),s.once("error",o),s.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Bt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(s+=Ld(n)),i>0&&s>this.maxPayload)return this.writeBuffer.slice(0,i);s+=2}return this.writeBuffer}write(t,s,i){return this.sendPacket("message",t,s,i),this}send(t,s,i){return this.sendPacket("message",t,s,i),this}sendPacket(t,s,i,n){if(typeof s=="function"&&(n=s,s=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:t,data:s,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},i=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){Bt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let i=0;const n=t.length;for(;i<n;i++)~this.transports.indexOf(t[i])&&s.push(t[i]);return s}};Wa.protocol=Ba;function ih(e,t="",s){let i=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),i=Pn(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(s&&s.port===i.port?"":":"+i.port),i}const nh=typeof ArrayBuffer=="function",rh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,qa=Object.prototype.toString,oh=typeof Blob=="function"||typeof Blob<"u"&&qa.call(Blob)==="[object BlobConstructor]",ah=typeof File=="function"||typeof File<"u"&&qa.call(File)==="[object FileConstructor]";function rr(e){return nh&&(e instanceof ArrayBuffer||rh(e))||oh&&e instanceof Blob||ah&&e instanceof File}function Ws(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,i=e.length;s<i;s++)if(Ws(e[s]))return!0;return!1}if(rr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ws(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Ws(e[s]))return!0;return!1}function lh(e){const t=[],s=e.data,i=e;return i.data=On(s,t),i.attachments=t.length,{packet:i,buffers:t}}function On(e,t){if(!e)return e;if(rr(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let i=0;i<e.length;i++)s[i]=On(e[i],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=On(e[i],t));return s}return e}function ch(e,t){return e.data=In(e.data,t),delete e.attachments,e}function In(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=In(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=In(e[s],t));return e}const uh=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dh=5;var q;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(q||(q={}));class hh{constructor(t){this.replacer=t}encode(t){return(t.type===q.EVENT||t.type===q.ACK)&&Ws(t)?this.encodeAsBinary({type:t.type===q.EVENT?q.BINARY_EVENT:q.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===q.BINARY_EVENT||t.type===q.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=lh(t),i=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(i),n}}function ho(e){return Object.prototype.toString.call(e)==="[object Object]"}class or extends ge{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const i=s.type===q.BINARY_EVENT;i||s.type===q.BINARY_ACK?(s.type=i?q.EVENT:q.ACK,this.reconstructor=new fh(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(rr(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const i={type:Number(t.charAt(0))};if(q[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===q.BINARY_EVENT||i.type===q.BINARY_ACK){const r=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(r,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(t.charAt(s+1)==="/"){const r=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););i.nsp=t.substring(r,s)}else i.nsp="/";const n=t.charAt(s+1);if(n!==""&&Number(n)==n){const r=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}i.id=Number(t.substring(r,s+1))}if(t.charAt(++s)){const r=this.tryParse(t.substr(s));if(or.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case q.CONNECT:return ho(s);case q.DISCONNECT:return s===void 0;case q.CONNECT_ERROR:return typeof s=="string"||ho(s);case q.EVENT:case q.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&uh.indexOf(s[0])===-1);case q.ACK:case q.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class fh{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=ch(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ph=Object.freeze(Object.defineProperty({__proto__:null,Decoder:or,Encoder:hh,get PacketType(){return q},protocol:dh},Symbol.toStringTag,{value:"Module"}));function He(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const gh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class za extends ge{constructor(t,s,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[He(t,"open",this.onopen.bind(this)),He(t,"packet",this.onpacket.bind(this)),He(t,"error",this.onerror.bind(this)),He(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(gh.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const i={type:q.EVENT,data:s};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,a=s.pop();this._registerAckCallback(o,a),i.id=o}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,s){var i;const n=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(n===void 0){this.acks[t]=s;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(r),s.apply(this,[null,...o])}}emitWithAck(t,...s){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((n,r)=>{s.push((o,a)=>i?o?r(o):n(a):n(o)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...r)=>i!==this._queue[0]?void 0:(n!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case q.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case q.EVENT:case q.BINARY_EVENT:this.onevent(t);break;case q.ACK:case q.BINARY_ACK:this.onack(t);break;case q.DISCONNECT:this.ondisconnect();break;case q.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const i of s)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let i=!1;return function(...n){i||(i=!0,s.packet({type:q.ACK,id:t,data:n}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let i=0;i<s.length;i++)if(t===s[i])return s.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let i=0;i<s.length;i++)if(t===s[i])return s.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const i of s)i.apply(this,t.data)}}}function Qt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};Qt.prototype.reset=function(){this.attempts=0};Qt.prototype.setMin=function(e){this.ms=e};Qt.prototype.setMax=function(e){this.max=e};Qt.prototype.setJitter=function(e){this.jitter=e};class Rn extends ge{constructor(t,s){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,en(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((i=s.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Qt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||ph;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Wa(this.uri,this.opts);const s=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=He(s,"open",function(){i.onopen(),t&&t()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=He(s,"error",r);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{n(),r(new Error("timeout")),s.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(He(t,"ping",this.onping.bind(this)),He(t,"data",this.ondata.bind(this)),He(t,"error",this.onerror.bind(this)),He(t,"close",this.onclose.bind(this)),He(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){nr(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new za(this,t,s),this.nsps[t]=i),i}_destroy(t){const s=Object.keys(this.nsps);for(const i of s)if(this.nsps[i].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let i=0;i<s.length;i++)this.engine.write(s[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},s);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ss={};function qs(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=ih(e,t.path||"/socket.io"),i=s.source,n=s.id,r=s.path,o=ss[n]&&r in ss[n].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Rn(i,t):(ss[n]||(ss[n]=new Rn(i,t)),l=ss[n]),s.query&&!t.query&&(t.query=s.queryKey),l.socket(s.path,t)}Object.assign(qs,{Manager:Rn,Socket:za,io:qs,connect:qs});class mh{constructor(){p(this,"socket")}setupSocketConnection(){this.socket=qs("https://solid-garden-397801.wl.r.appspot.com/"),this.socket.on("users",t=>this.usersUpdated(t)),this.socket.on("host",t=>this.hostUpdated(t)),this.socket.on("joined",t=>this.joined(t)),this.socket.on("left",t=>this.userLeft(t)),this.socket.on("synced",t=>this.synced(t)),this.socket.on("acted",t=>this.acted(t))}usersUpdated(t){const s=M().multiplayer;s.users=t,s.local||(s.local=t[t.length-1],this.joinGame())}joinGame(){this.socket&&this.socket.emit("join",M().multiplayer.local)}hostUpdated(t){const s=M().multiplayer;s.host=t}joined(t){const s=M().settings.players,i=M().multiplayer;t&&s===i.users.length&&i.isHostLocal()&&(M().randomizeStartingPlayer(),this.syncGame())}syncGame(){if(!this.socket)return;const t=M().multiplayer;if(t.local&&t.isHostLocal()){const s=M().createSetupPacket();s.h=t.host,this.socket.emit("sync",s)}}userLeft(t){const s=M().multiplayer;s.users=s.users.filter(i=>i!==t)}synced(t){const s=M().multiplayer;s.host=t.h,s.local&&(s.isHostLocal()||M().loadSetupPacket(t),this.assignRemoteStatus())}assignRemoteStatus(){const t=M().multiplayer;if(!t.local)return;const s=t.users.indexOf(t.local);for(let i=0;i<4;i++)this.setPlayerRemote(i+1,s!==i)}setPlayerRemote(t,s){const i=M().playerForID(t);i&&(i.remote=s)}selectStart(t,s){this.socket&&this.socket.emit("act",{act:0,pID:t,tID:s})}rollDice(t,s,i){this.socket&&this.socket.emit("act",{act:1,pID:t,d1:s,d2:i})}moveMonster(t,s){this.socket&&this.socket.emit("act",{act:2,pID:t,tID:s})}tradeResource(t,s){this.socket&&this.socket.emit("act",{act:3,pID:t,rID:s})}spendResource(t,s,i,n){this.socket&&this.socket.emit("act",{act:4,pID:t,rID:s,amt:i,tID:n})}trainUnit(t,s,i){this.socket&&this.socket.emit("act",{act:5,pID:t,uID:s,tID:i})}moveUnits(t,s,i,n){this.socket&&this.socket.emit("act",{act:6,pID:t,uIDs:s,fID:i,tID:n})}toggleBattle(t,s){this.socket&&this.socket.emit("act",{act:7,pID:t,battle:s})}unitDamageUnit(t,s,i,n,r,o){this.socket&&this.socket.emit("act",{act:8,pID:t,aID:s,fID:i,dID:n,tID:r,dam:o})}unitDamageCastle(t,s,i,n,r){this.socket&&this.socket.emit("act",{act:9,pID:t,aID:s,fID:i,tID:n,dam:r})}nextTurn(t){this.socket&&this.socket.emit("act",{act:10,pID:t})}concedeGame(t){this.socket&&this.socket.emit("act",{act:11,pID:t})}acted(t){var i;const s=M();(i=s.playerForID(t.pID))!=null&&i.remote&&(t.act===0?s.playerSelectStartingTile(t.pID,t.tID):t.act===1?s.setRoll(t.d1,t.d2):t.act===2?s.moveMonsterToTile(t.tID):t.act===3?s.playerTradeForResource(t.pID,t.rID):t.act===4?s.playerSpendResource(t.pID,t.rID,t.amt,t.tID):t.act===5?s.playerTrainUnitOnTile(t.pID,t.uID,t.tID):t.act===6?s.playerMoveUnits(t.pID,t.uIDs,t.fID,t.tID):t.act===7?s.toggleBattle(t.battle):t.act===8?s.unitDamageUnit(t.aID,t.fID,t.dID,t.tID,t.dam):t.act===9?s.unitDamageCastle(t.aID,t.fID,t.tID,t.dam):t.act===10?s.nextTurn():t.act===11&&s.playerConcedeGame(t.pID))}disconnect(){this.socket&&this.socket.disconnect()}}const ve=new mh,M=Wu("game",{state:()=>({players:[],multiplayer:new Xr,grid:[],resources:[],trade:new Zr,train:0,turn:new Lt,timer:0,monster:new eo,battling:!1,stats:new Qr,settings:new hn,menu:!1,tutorial:!1,victory:Ye.none,error:""}),getters:{playerActive({players:e,turn:t}){return e.find(s=>s.id===t.player)||null},playerWinner({players:e}){return e.find(t=>t.end===1)||null},nextPlayerPlacement(){return this.players.filter(e=>!e.end).length},lastPlayerStanding(){return this.nextPlayerPlacement===1&&this.players.find(e=>!e.end)||null},tilesAll(){const e=[];return this.grid.forEach(t=>t.forEach(s=>e.push(s))),e},tilesOfActivePlayer(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()===this.playerActive)},tilesOfTheEnemy(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()!==this.playerActive)},tilesWithinDistance(){const e=this.unitsSelectedTile;if(!e)return[];const t=[e];t.push(...e.adjacent);for(let s=1;s<this.unitsMoveDistance;s++){const i=[];t.forEach(n=>{n.adjacent.forEach(r=>{!t.includes(r)&&!i.includes(r)&&i.push(r)})}),t.push(...i)}return t},resourceTypes(){return bs.resourceTypes(this.settings.theme)},resourceTypesValid(){return bs.resourceTypesValid(this.settings.theme)},unitTypes(){return Ut.unitTypes(this.settings.theme)},unitsSelected({grid:e}){const t=[];return e.forEach(s=>{s.forEach(i=>{i.units.forEach(n=>{n.selected&&t.push(n)})})}),t},unitsSelectedTile(){const e=this.unitsSelected;return e.length?e[0].tile:null},unitsMoveDistance(){let e=L.maxMoveDistance;return this.unitsSelected.forEach(t=>{const s=t.type;s&&(e=Math.min(e,s.move))}),e},unitsMovableForActivePlayer(){const e=[];return this.tilesOfActivePlayer.forEach(t=>t.units.forEach(s=>{!s.moved&&!s.staying&&e.push(s)})),e},turnPhase({turn:e}){return L.turnPhases[e.phase]},startPhase(){return this.turnPhase.phase===Ns.start},rollPhase(){return this.turnPhase.phase===Ns.roll},marchPhase(){return this.turnPhase.phase===Ns.march},rolled(){return this.turn.roll.rolled},vsComputer(){return this.players&&this.players.length>1?this.players[1].computer:!1},isComputerTurn(){return this.playerActive?this.vsComputer&&this.playerActive.computer:!1},isOpponentTurn(){return this.playerActive?this.playerActive.computer||this.playerActive.remote:!1},gameSpeed(){var e;return(e=this.settings)!=null&&e.speed?this.settings.speed:1},theme(){return this.settings.theme},themeOptions(){return Object.keys(L.themeData)},monsterName(){return L.themeData[this.settings.theme].monsterName},victoryString(){switch(this.victory){case Ye.none:return"";case Ye.concede:return"Opponent Conceded";case Ye.points:return"Victory Points Winner";case Ye.siege:return"Opponent's Castle Destroyed"}},matchStrings(){return["Player - vs - Computer","Player - vs - Player Local","Player - vs - Player Online","Computer - vs - Computer"]},playerCountOptions(){const e=[];for(let t=L.minPlayers;t<=L.maxPlayers;t++)e.push(t);return e},pvpOnline(){return this.settings.mode===Fe.PvPOnline},waitingForOnlinePlayer(){return this.settings.mode==Fe.PvPOnline&&this.multiplayer.users.length<this.settings.players?!0:this.settings.mode==Fe.PvPOnline?!this.players.find(e=>e.remote):!1}},actions:{init(){this.reset(),this.loadSettings(),this.buildPlayers(),this.randomizeStartingPlayer(),this.buildGrid(),this.calculateGridAdjacents(),this.ensureValidAdjacents(),this.logTileScores(),this.updateMatchMode(this.settings.mode),this.stats.init(L.themeData[this.theme].unitTypes.length,L.themeData[this.theme].resourceTypes.length,this.settings.players),this.timer=setInterval(this.updateTimer,1e3)},reset(){clearInterval(this.timer),this.players=[],this.multiplayer=new Xr,this.grid=[],this.resources=[],this.trade=new Zr,this.train=0,this.turn=new Lt,this.timer=0,this.monster=new eo,this.battling=!1,this.stats=new Qr,this.settings=new hn,this.menu=!1,this.tutorial=!1,this.victory=Ye.none,this.error=""},clearError(){this.error="",this.trade.take&&!this.trade.valid&&this.setTradeTake(0)},updateTimer(){this.startPhase||this.menu||this.victory||(this.turn.time--,this.turn.time<=0&&this.newTurn())},save(){this.savePlayers(),this.saveGrid(),this.saveUnits(),this.saveTurn(),this.saveMonster(),this.saveStats()},savePlayers(){this.saveObject(this.encodePlayers(),"p")},encodePlayers(){const e=[];return this.players.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveGrid(){this.saveObject(this.encodeGrid(),"g")},encodeGrid(){const e=[];return this.tilesAll.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveUnits(){this.saveObject(this.encodeUnits(),"u")},encodeUnits(){const e=[];return this.tilesAll.forEach(t=>{t.units.forEach(s=>{e.push(s.save())})}),this.encodeObject(e)},saveTurn(){const e=this.turn;this.saveObject(this.encodeObject(e),"t")},saveMonster(){const e=this.monster;this.saveObject(this.encodeObject(e),"d")},saveStats(){const e=this.stats;this.saveObject(this.encodeObject(e),"s")},saveSettings(){const e=this.settings;this.saveObject(this.encodeObject(e),"x")},createSetupPacket(){const e=new Ed;return e.p=this.encodePlayers(),e.g=this.encodeGrid(),e.u=this.encodeUnits(),e.t=this.encodeObject(this.turn),e.d=this.encodeObject(this.monster),e.s=this.encodeObject(this.stats),e.x=this.encodeObject(this.settings),e},saveObject(e,t){_d(t,e,999)},encodeObject(e){const t=JSON.stringify(e);return btoa(t)},load(){this.reset(),this.loadSettings(),this.loadPlayers(),this.loadGrid(),this.loadUnits(),this.loadTurn(),this.loadMonster(),this.loadStats()},loadPlayers(){this.decodePlayers(this.loadObject("p"))},decodePlayers(e){const t=this.decodeObject(e);this.players=[],t.forEach(s=>this.players.push(js.load(s)))},loadGrid(){this.decodeGrid(this.loadObject("g")),this.calculateGridAdjacents()},decodeGrid(e){this.grid=[];let t=0;const s=this.decodeObject(e);L.gridSize[this.settings.players].forEach(i=>{const n=[];for(let r=0;r<i;r++){const o=s[t++],a=Hs.load(o);a.type=this.resourceForID(o.t);const l=this.playerForID(o.b);l&&(a.base=l,l.base=a),n.push(a)}this.grid.push(n)})},loadUnits(){this.decodeUnits(this.loadObject("u"))},decodeUnits(e){let t=0;this.decodeObject(e).forEach(i=>{const n=this.unitTypeForID(i.y);if(n){const r=Ut.load(i,n),o=this.playerForID(i.p);o&&(r.player=o);const a=this.tileForID(i.t);a&&(r.tile=a,a.units.push(r))}t=Math.max(t,i.i)}),this.checkForStrandedUnits(),Ut.unitID=t+1},loadTurn(){this.turn=Lt.load(this.decodeObject(this.loadObject("t")))},loadMonster(){this.monster=this.decodeObject(this.loadObject("d"))},loadStats(){this.stats=this.decodeObject(this.loadObject("s"))},loadSettings(){const e=this.decodeObject(this.loadObject("x"));e&&(this.settings=hn.load(e))},loadSetupPacket(e){this.settings.theme=this.decodeObject(e.x).theme,this.settings.players=this.decodeObject(e.x).players,this.decodePlayers(e.p),this.decodeGrid(e.g),this.calculateGridAdjacents(),this.decodeUnits(e.u),this.turn=Lt.load(this.decodeObject(e.t)),this.monster=this.decodeObject(e.d),this.stats=this.decodeObject(e.s)},loadObject(e){const t=bd(e);return t||null},decodeObject(e){if(!e)return"";const t=atob(e);return JSON.parse(t)},buildPlayers(){for(let e=0;e<this.settings.players;e++){const t=new js(e+js.playerID);this.resourceTypes.forEach(()=>t.resources.push(0)),this.players.push(t)}},playerForID(e){return this.players.find(t=>t.id===e)||null},randomizeStartingPlayer(){const e=Math.floor(Math.random()*this.players.length)+1;this.turn.player=e},buildGrid(){const e=[...L.gridRolls[this.settings.players]],t=[...this.gridOptions()];L.gridSize[this.settings.players].forEach(s=>{var n;const i=[];for(let r=0;r<s;r++){const o=new Hs(Hs.tileID++),a=Math.floor(Math.random()*t.length),l=this.resourceForType(t.splice(a,1)[0]);l&&(o.type=l,(n=o.type)!=null&&n.resource?o.roll=e.splice(Math.floor(Math.random()*e.length),1)[0]:this.monster.location||(this.monster.location=o.id)),i.push(o)}this.grid.push(i)})},gridOptions(){const e=[];return Object.entries(L.gridMakeup[this.settings.players]).forEach(t=>{for(let s=0;s<t[1];s++){const n=+t[0],r=this.resourceForID(n);r&&e.push(r.type)}}),e},calculateGridAdjacents(){const e=this.grid.length;for(let t=0;t<e;t++){const s=this.grid[t].length;for(let i=0;i<s;i++){const n=this.grid[t][i];n.adjacent=[];const r=i===s-1,o=this.tileForID(n.id+1);!r&&o&&n.adjacent.push(o);const a=i===0,l=this.tileForID(n.id-1);!a&&l&&n.adjacent.push(l),this.addAdjacentsBelow(n,t,a,r,s),this.addAdjacentsAbove(n,t,a,r,s)}}},addAdjacentsBelow(e,t,s,i,n){if(!(t===this.grid.length-1)){const o=this.grid[t+1].length,a=this.tileForID(e.id+n);a&&(!i||o>n)&&e.adjacent.push(a);const l=this.tileForID(e.id+o);l&&(!s||o>n)&&e.adjacent.push(l)}},addAdjacentsAbove(e,t,s,i,n){if(!(t===0)){const o=this.grid[t-1].length,a=this.tileForID(e.id-n);a&&(!s||o>n)&&e.adjacent.push(a);const l=this.tileForID(e.id-o);l&&(!i||o>n)&&e.adjacent.push(l)}},ensureValidAdjacents(){let e=!1;this.tilesAll.forEach(t=>{var i;const s=((i=t.type)==null?void 0:i.type)||null;s&&L.themeData[this.theme].separateResourceTypes.includes(s)&&t.adjacent.forEach(n=>{var r;((r=n.type)==null?void 0:r.type)===s&&(e=!0)}),t.adjacent.forEach(n=>{n.roll===t.roll&&(e=!0)})}),e&&(this.monster.location=0,this.shuffleGrid(),this.ensureValidAdjacents())},shuffleTiles(e){return e.map(t=>({value:t,sort:Math.random()})).sort((t,s)=>t.sort-s.sort).map(({value:t})=>t)},shuffleGrid(){let e=this.tilesAll;e=this.shuffleTiles(e);let t=0;this.grid=[],L.gridSize[this.settings.players].forEach(s=>{var n;const i=[];for(let r=0;r<s;r++){const o=e[t++];o.id=t,!((n=o.type)!=null&&n.value)&&!this.monster.location&&(this.monster.location=o.id),i.push(o)}this.grid.push(i)}),this.calculateGridAdjacents()},logTileScores(){this.tilesAll.forEach(e=>{}),this.tilesAll.reduce((e,t)=>e.startScore()>t.startScore()?e:t)},tileForID(e){return this.tilesAll.find(t=>t.id===e)||null},tileUnitForID(e,t){return e.units.find(s=>s.id===t)||null},playerControllingTile(e){return e.base?e.base:e.units.length?e.units[0].player:null},playerActiveControllingTile(e){const t=this.playerControllingTile(e);return this.playerActive===t},tileWithinDistance(e){return this.tilesWithinDistance.includes(e)},selectTile(e){this.startPhase?this.selectStartingTile(e):this.rollPhase&&this.monster.moving?this.moveMonster(e):this.marchPhase&&this.train?this.trainUnitOnTile(e):this.marchPhase&&this.unitsSelectedTile===e?this.selectTileUnits(e):this.marchPhase&&this.unitsSelectedTile?this.moveUnitsToTile(e):this.marchPhase&&!this.train&&this.selectTileUnits(e),this.calculateVictoryPoints()},selectStartingTile(e){var t;if(e.base&&(this.error="You can't select another players starting location!"),(t=e.type)!=null&&t.resource||(this.error="Why would you want to put your castle there?"),e.adjacent.find(s=>s.base)&&(this.error="Maybe don't start so close to the other player..."),this.playerActive&&!this.error&&!this.playerActive.base){const s=this.playerActive.id,i=e.id;this.playerSelectStartingTile(s,i),ve.selectStart(s,i)}},playerSelectStartingTile(e,t){const s=this.playerForID(e),i=this.tileForID(t);!s||!i||(s.base=i,i.base=s,L.themeData[this.theme].startingUnits.forEach(n=>this.createUnitOnTile(n,i)),this.distributeResourcesToPlayerForTile(i),this.playSound("fanfare"),this.nextTurn())},moveMonster(e){var s;if(e.base){this.error=`The ${this.monsterName} is too smart to go near a castle, you know?`;return}if(this.monster.location===e.id){this.error=`The ${this.monsterName} is bored of that spot. Try somewhere else.`;return}const t=((s=this.playerActive)==null?void 0:s.id)||0;ve.moveMonster(t,e.id),this.moveMonsterToTile(e.id)},moveMonsterToTile(e){this.monster.location=e,this.monster.moving=!1,this.playSound("monster"),this.nextPhase()},monsterEats(){if(this.monster.hungry){this.monster.hungry=!1;const e=this.tileForID(this.monster.location);if(e&&e.units.length){const t=e.units.sort((s,i)=>i.id-s.id)[0];this.playSound("monster"),this.playSound("death"),e.units=e.units.filter(s=>s!==t),this.stats.monsterKills++}}},rollDice(){if(this.turn.roll.roll(),!this.playerActive)return;const e=this.playerActive.id;ve.rollDice(e,this.turn.roll.dieOne,this.turn.roll.dieTwo),this.rollActions()},setRoll(e,t){this.turn.roll.setRoll(e,t),this.rollActions()},rollActions(){this.playSound("dice"),this.statsIncrementRollSpread(),this.monster.moving=this.turn.roll.total===L.monsterRoll,this.monster.moving||(this.resolveRoll(this.turn.roll.total),this.monster.hungry=!0)},resolveRoll(e){this.tilesAll.forEach(t=>{var s;if(t.roll===e&&((s=t.type)!=null&&s.type)&&t.id!==this.monster.location){const i=this.playerControllingTile(t);i&&this.checkSupplyLinesForTile(t,[],i)&&this.distributeResourcesToPlayerForTile(t)}}),this.nextPhase()},checkSupplyLinesForTile(e,t,s){if(e.base)return!0;const i=t||[];i.push(e);for(let n=0;n<e.adjacent.length;n++){const r=e.adjacent[n];if(!i.includes(r)){let o=!1;if(this.playerControllingTile(r)===s&&(o=this.checkSupplyLinesForTile(r,i,s)),i.push(r),o)return o}}return!1},distributeBaseResource(){if(!this.playerActive)return;const e=this.playerActive.base;if(!e)return;const t=new nt(nt.resourceID++);t.player=this.playerActive,t.tile=e,t.type=e.type,this.resources.push(t)},distributeResourcesToPlayerForTile(e){const t=this.playerControllingTile(e);if(!t)return;let s=0;e.units.length&&(s+=e.units.length),e.base&&(s+=L.baseGeneration);for(let i=0;i<s;i++){const n=new nt(nt.resourceID++);n.player=t,n.tile=e,n.type=e.type,n.delay=i,this.resources.push(n)}},tradeForResource(e){if(!this.playerActive)return;const t=this.playerActive.id;ve.tradeResource(t,e),this.playerTradeForResource(t,e)},playerTradeForResource(e,t){const s=this.resourceForID(t),i=this.playerForID(e);if(!s||!i)return;const n=new nt(nt.resourceID++);n.player=i,n.tile=i.base,n.type=s,i.stats.resourcesTraded++,this.resources.push(n)},spendResource(e,t,s=null){if(!this.playerActive)return;const i=this.playerActive.id,n=(s==null?void 0:s.id)||0;ve.spendResource(i,e,t,n),this.playerSpendResource(i,e,t,n)},playerSpendResource(e,t,s,i){const n=this.resourceForID(t),r=this.playerForID(e);if(!(!n||!r)){for(let o=0;o<s;o++){const a=new nt(nt.resourceID++);a.player=r,i?a.tile=this.tileForID(i):a.tile=r.base,a.type=n,a.spend=!0,a.delay=o,this.resources.push(a),r.stats.resourcesSpent++}r.updateResource(t,s*-1)}},resourceForID(e){return this.resourceTypes.find(t=>t.id===e)||null},resourceForType(e){return this.resourceTypes.find(t=>t.type===e)||null},transitionResourceToPlayer(e){const t=e.player;!t||!e.type||(e.spend||(t.updateResource(e.type.id,1),t.stats.resourcesGathered++,this.playSound("caching"),this.statsIncrementResourceSpread(e.type.id)),e.hide=!0,this.flushResources())},styleResource(e,t){const s=document.getElementById(e),i=this.resourceForType(t);if(!s||!i)return;const n=new URL(Object.assign({"../assets/icons/castle.svg":mi,"../assets/icons/close.svg":yi,"../assets/icons/defense.svg":vi,"../assets/icons/flag.svg":_i,"../assets/icons/give.svg":bi,"../assets/icons/help.svg":wi,"../assets/icons/load.svg":Ti,"../assets/icons/medieval/archer.svg":Si,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":ki,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":Ai,"../assets/icons/medieval/peasant.svg":$i,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":Pi,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Ii,"../assets/icons/medieval/wizard.svg":Ri,"../assets/icons/menu.svg":Di,"../assets/icons/move.svg":Mi,"../assets/icons/next.svg":Fi,"../assets/icons/offense.svg":Ui,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ni,"../assets/icons/settings.svg":ji,"../assets/icons/take.svg":Hi,"../assets/icons/undead/coffin.svg":Vi,"../assets/icons/undead/flesh.svg":Wi,"../assets/icons/undead/ghost.svg":qi,"../assets/icons/undead/moonshine.svg":zi,"../assets/icons/undead/remains.svg":Ki,"../assets/icons/undead/scroll.svg":Gi,"../assets/icons/undead/skeleton.svg":Yi,"../assets/icons/undead/soul.svg":Ji,"../assets/icons/undead/vampire.svg":Xi,"../assets/icons/undead/werewolf.svg":Qi,"../assets/icons/undead/zombie.svg":Zi})[`../assets/icons/${this.theme}/${i.icon}.svg`],self.location).href;s.style.maskImage=`url(${n})`,s.style.webkitMaskImage=`url(${n})`,s.style.background=i.color},flushResources(){this.resources.find(e=>!e.hide)||(this.resources=[])},clearTrade(){this.setTradeGive(0),this.setTradeTake(0)},setTradeGive(e){this.trade.give=e},setTradeTake(e){this.trade.take=e,this.calculateTradeValidity()},calculateTradeValidity(){var s;const e=this.resourceForID(this.trade.give),t=this.resourceForID(this.trade.take);t?e&&this.playerActive&&(this.trade.cost=t.value*L.tradeSurcharge,this.trade.valid=((s=this.playerActive)==null?void 0:s.resourceCount(e.id))>=this.trade.cost,this.trade.valid?this.playerActive&&(this.tradeForResource(t.id),this.spendResource(e.id,this.trade.cost),this.clearTrade()):this.error=`You need ${this.trade.cost} ${e.resource}'s to trade for 1 ${t.resource}...`):(this.trade.cost=0,this.trade.valid=!1)},unitTypeForID(e){return this.unitTypes.find(t=>t.id===e)||null},unitTypeForType(e){return this.unitTypes.find(t=>t.type===e)||null},selectTrainUnit(e){const t=e.id;this.train===t?this.train=0:this.train=t},canAffordUnit(e){return this.canAffordUnitResources(e)===e.cost.length},canAffordUnitResources(e){let t=0;return e.cost.forEach(s=>{const i=this.resourceForID(s[0]);i&&this.canAffordUnitResource(e,i)&&t++}),t},canAffordUnitResource(e,t){let s=!1;return e.cost.forEach(i=>{var n;if(t&&this.playerActive&&i[0]===t.id){const r=(n=this.playerActive)==null?void 0:n.resourceCount(t.id);i[1]<=r&&(s=!0)}}),s},trainUnitOnTile(e){if(e.units.length>=L.tileUnitMax){this.error="There just isn't any more room there...";return}const t=this.unitTypeForID(this.train);if(!t||!this.playerActive)return;const s=this.playerActive.id;ve.trainUnit(s,t.id,e.id),this.playerTrainUnitOnTile(s,t.id,e.id)},playerTrainUnitOnTile(e,t,s){var r;const i=this.unitTypeForID(t),n=this.tileForID(s);!i||!n||(this.createUnitOnTile(i==null?void 0:i.type,n),this.playSound((r=i.battle)==null?void 0:r.sound),this.checkForStrandedUnits(),i.cost.forEach(o=>{const a=this.resourceForID(o[0]);e&&a&&this.playerSpendResource(e,a.id,o[1],n.id)}),this.train=0)},createUnitOnTile(e,t){const s=this.unitTypeForType(e);if(!s)return;const i=new Ut(Ut.unitID++,s);i.tile=t,i.moved=!0,this.playerActive&&(i.player=this.playerActive,this.playerActive.stats.unitsTrained++),t.units.push(i),this.statsIncrementUnitSpread(s.id)},selectTileUnits(e){let t=!0;e.units.find(s=>!s.selected&&!s.moved)||(t=!1),e.units.forEach(s=>{s.moved||(s.selected=t)})},moveUnitsToTile(e){const t=this.unitsSelectedTile;if(!t||e===t)return;const s=e.playerController();if(s&&s!==this.playerActive){e.adjacent.includes(t)?e.units.length&&t?this.battleTiles(t,e):this.siegeCastle(t,e):this.error="You can't start a battle from that far away...";return}e.units.length+this.unitsSelected.length>L.tileUnitMax?this.error="You think those are all going to fit?":this.moveSelectedUnitsToTile(this.unitsSelected,e)},moveSelectedUnitsToTile(e,t){var o;if(!this.playerActive)return;const s=this.playerActive.id,i=e.map(a=>a.id),n=((o=e[0].tile)==null?void 0:o.id)||0,r=t.id;ve.moveUnits(s,i,n,r),this.playerMoveUnits(s,i,n,r)},playerMoveUnits(e,t,s,i){t.forEach(n=>this.moveUnitFromTileToTile(e,n,s,i)),this.playSound("march"),this.checkForStrandedUnits(),this.calculateVictoryPoints()},moveUnitFromTileToTile(e,t,s,i){const n=this.playerForID(e),r=this.tileForID(s),o=this.tileForID(i);if(!n||!r||!o)return;const a=this.tileUnitForID(r,t);a&&(r.units=r.units.filter(l=>a!==l),a.tile=o,a.moved=!0,a.selected=!1,o.units.push(a),n&&n.stats.unitsMoved++)},checkForStrandedUnits(){this.tilesAll.forEach(e=>{e.units.forEach(t=>{const s=e.playerController();s&&(t.stranded=!this.checkSupplyLinesForTile(e,[],s))})})},resetUnitMoves(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.resetMove()))},resetUnitDamage(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.damage=0))},async battlePause(){await new Promise(e=>setTimeout(e,1e3/this.gameSpeed))},attackerTileUnits(e){const t=e.units.filter(s=>s.selected);return t.length?t:null},toggleBattle(e){this.battling=e,e||this.stats.battlesCount++},async battleTiles(e,t){var n;ve.toggleBattle(((n=this.playerActive)==null?void 0:n.id)||0,!0),this.toggleBattle(!0);let s=!0,i=!1;for(;this.attackerTileUnits(e)&&t.units.length;)await this.resolveAttackWave(e,t,i,s),i&&(s=!s),i=!i,await this.battlePause();this.finishBattle(e,t)},finishBattle(e,t){var i;const s=this.attackerTileUnits(e);s&&!t.base?this.moveUnitsToTile(t):s&&s.forEach(n=>{n.moved=!0,n.selected=!1}),this.toggleBattle(!1),ve.toggleBattle(((i=this.playerActive)==null?void 0:i.id)||0,!1)},async resolveAttackWave(e,t,s,i){let n=s?this.attackerTileUnits(e):t.units;if(n)n=n==null?void 0:n.filter(o=>o.type.battle.ranged===i);else return;const r=s?t:e;for(let o=0;o<n.length;o++)await this.unitAttackTile(n[o],r,s)},async unitAttackTile(e,t,s){const i=s?t.units:this.attackerTileUnits(t);i&&(i.sort((n,r)=>{var o,a;return((o=r.type)==null?void 0:o.battle.defense)-((a=n.type)==null?void 0:a.battle.defense)}),this.unitDamageTargets(e,i)),await this.battlePause()},unitDamageTargets(e,t){e.type&&this.distributeDamage(e,t.shuffle(),e.type.battle.offense)},distributeDamage(e,t,s){var r,o,a;const i=s,n=t[0];if(i&&n&&n.type){const l=((r=e.tile)==null?void 0:r.id)||0,u=((o=n.tile)==null?void 0:o.id)||0,f=((a=this.playerActive)==null?void 0:a.id)||0;ve.unitDamageUnit(f,e.id,l,n.id,u,i),this.unitDamageUnit(e.id,l,n.id,u,i)}},unitDamageUnit(e,t,s,i,n){const r=this.tileForID(t),o=this.tileForID(i);if(!r||!o)return;const a=this.tileUnitForID(r,e),l=this.tileUnitForID(o,s);if(!a||!l)return;const u=l.type.battle.defense-l.damage;u>0&&(this.playSound(a.type.battle.sound),a.player&&(a.player.stats.damageTotal+=n),u<=n?(l.damage=l.type.battle.defense,l.player&&l.player.stats.unitsLost++,a.player&&a.player.stats.unitsKilled++,this.playSound("death")):n&&(l.damage+=n)),o.units=o.units.filter(f=>f.damage<f.type.battle.defense)},async siegeCastle(e,t){var n,r,o;ve.toggleBattle(((n=this.playerActive)==null?void 0:n.id)||0,!0),this.toggleBattle(!0);const s=e.units.filter(a=>a.selected);if(t.base){for(let a=0;a<s.length;a++){const l=s[a];if(!l.type)continue;const u=l.type.battle.offense,f=((r=l.player)==null?void 0:r.id)||0;ve.unitDamageCastle(f,l.id,e.id,t.id,u),this.unitDamageCastle(l.id,e.id,t.id,u),await this.battlePause()}this.toggleBattle(!1),ve.toggleBattle(((o=this.playerActive)==null?void 0:o.id)||0,!1)}},unitDamageCastle(e,t,s,i){const n=this.tileForID(t),r=this.tileForID(s);if(!n||!r)return;const o=this.tileUnitForID(n,e),a=r==null?void 0:r.playerController();!o||!a||(a.life-=i,a.life=Math.max(0,a.life),o.player&&(o.player.stats.damageTotal+=i),o.moved=!0,o.selected=!1,this.playSound(o.type.battle.sound),this.checkBaseVictory(a))},checkBaseVictory(e){if(e.life<=0){e.end=this.nextPlayerPlacement;const t=this.lastPlayerStanding;t&&(t.end=1,this.victory=Ye.siege,this.playSound("crumble"))}},calculateVictoryPoints(){this.players.forEach(e=>{let t=0,s=0,i=0;this.tilesAll.forEach(n=>{t+=this.calculateVictoryPointsForTile(n,e);const r=n.base==e,o=n.units.length>0&&n.units[0].player===e;(r||o)&&s++,o&&(i+=n.units.length)}),e.points=t,e.stats.pointsMax=Math.max(e.stats.pointsMax,t),e.stats.tilesMax=Math.max(e.stats.tilesMax,s),e.stats.unitsMax=Math.max(e.stats.unitsMax,i),this.checkVictoryPointsWinner(e)})},checkVictoryPointsWinner(e){if(e.points>=L.winningPoints){let t=1;this.players.filter(i=>!i.end).sort((i,n)=>n.points-i.points).forEach(i=>i.end=t++),this.victory=Ye.points,this.playSound("victory")}},calculateVictoryPointsForTile(e,t){let s=0;const i=e.base===t,n=e.units.length>0&&e.units[0].player===t;return n&&e.units.forEach(r=>{var o;r.type&&(s+=(o=r.type)==null?void 0:o.value)}),(i||n)&&(s+=L.controlPoints),s},concede(){this.playerActive&&(ve.concedeGame(this.playerActive.id),this.playerConcedeGame(this.playerActive.id))},playerConcedeGame(e){const t=this.playerForID(e);if(!t)return;t.life=0,t.end=this.nextPlayerPlacement,this.playSound("crumble");const s=this.lastPlayerStanding;s&&(s.end=1,this.victory=Ye.concede,this.playSound("victory")),this.nextTurn()},playSound(e){const t=new URL(Object.assign({"../assets/sounds/medieval/arrow.mp3":qu,"../assets/sounds/medieval/caching.mp3":zu,"../assets/sounds/medieval/crumble.mp3":Ku,"../assets/sounds/medieval/death.mp3":Gu,"../assets/sounds/medieval/dice.mp3":Yu,"../assets/sounds/medieval/fanfare.mp3":Ju,"../assets/sounds/medieval/horse.mp3":Xu,"../assets/sounds/medieval/magic.mp3":Qu,"../assets/sounds/medieval/march.mp3":Zu,"../assets/sounds/medieval/monster.mp3":ed,"../assets/sounds/medieval/pitchfork.mp3":td,"../assets/sounds/medieval/sword.mp3":sd,"../assets/sounds/medieval/victory.mp3":id,"../assets/sounds/undead/bones.mp3":nd,"../assets/sounds/undead/boo.mp3":rd,"../assets/sounds/undead/caching.mp3":od,"../assets/sounds/undead/crumble.mp3":ad,"../assets/sounds/undead/death.mp3":ld,"../assets/sounds/undead/dice.mp3":cd,"../assets/sounds/undead/fanfare.mp3":ud,"../assets/sounds/undead/howl.mp3":dd,"../assets/sounds/undead/march.mp3":hd,"../assets/sounds/undead/monster.mp3":fd,"../assets/sounds/undead/suck.mp3":pd,"../assets/sounds/undead/victory.mp3":gd,"../assets/sounds/undead/zombie.mp3":md})[`../assets/sounds/${this.theme}/${e}.mp3`],self.location).pathname,s=new Audio(t),i=this.settings.sound||100;s.volume=i/100,s.play()},nextPhase(){this.playerWinner||(this.turn.phase++,this.turn.phase>=L.turnPhases.length&&(this.turn.phase=0,this.nextTurn()))},newTurn(){var t;if(this.playerWinner)return;const e=((t=this.playerActive)==null?void 0:t.id)||0;ve.nextTurn(e),this.nextTurn()},nextTurn(){this.turn.time=L.turnLength,this.turn.roll.rolled=!1,this.train=0,this.nextPlayerTurn(),this.resetUnitMoves(),this.resetUnitDamage(),this.calculateVictoryPoints(),this.clearTrade(),this.monsterEats(),this.flushResources(),this.distributeBaseResource(),this.stats.turnsCount++},nextPlayerTurn(){var t;if(this.turn.player++,this.turn.player>this.players.length&&(this.turn.player=1),(t=this.playerActive)!=null&&t.end){this.nextPlayerTurn();return}const e=this.players.find(s=>!s.base);e&&this.logTileScores(),this.turn.phase=e?0:1},statsIncrementRollSpread(){const e=this.turn.roll.total-2,t=this.stats.rollSpread[e];this.stats.rollSpread[e]=t+1},statsIncrementUnitSpread(e){const t=e-1,s=this.stats.unitSpread[t];this.stats.unitSpread[t]=s+1},statsIncrementResourceSpread(e){const t=e-1,s=this.stats.resourceSpread[t];this.stats.resourceSpread[t]=s+1},toggleSettings(){this.settings.open=!this.settings.open},toggleMenu(){this.menu=!this.menu},toggleTutorial(){this.tutorial=!this.tutorial},updateMatchMode(e){switch(this.settings.mode=e,e){case Fe.PvC:this.setMatchPVC();break;case Fe.PvPLocal:this.setMatchPVP();break;case Fe.CvC:this.setMatchCVC();break;case Fe.PvPOnline:this.setMatchOnline();break}},setMatchPVC(){this.players.forEach(e=>e.computer=e.id>1),this.turn.player=1,ve.disconnect()},setMatchPVP(){this.players.forEach(e=>e.computer=!1),ve.disconnect()},setMatchCVC(){this.players.forEach(e=>e.computer=!0),ve.disconnect()},setMatchOnline(){this.setMatchPVP(),ve.setupSocketConnection()}}}),yh="/assets/menu-05ddd784.svg",vh={class:"flex-row-spaced"},_h=h("h1",null,"RISKATAN",-1),bh=h("img",{src:yh},null,-1),wh=[bh],Th={computed:{...be(M,["matchStrings","settings"])},methods:{...Ee(M,["toggleMenu"])}},Sh=ye({...Th,__name:"Header",setup(e){return(t,s)=>(w(),C("header",vh,[_h,h("h2",null,N(t.matchStrings[t.settings.mode]),1),h("button",{onClick:s[0]||(s[0]=(...i)=>t.toggleMenu&&t.toggleMenu(...i)),class:"flex-column-center shadowed enabled"},wh)]))}});const Te=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Ch={},kh={class:"background"};function Eh(e,t){return w(),C("div",kh)}const Ah=Te(Ch,[["render",Eh],["__scopeId","data-v-532799a7"]]),$h="/assets/flag-54741b89.svg",Ka=e=>(et("data-v-2830f6e9"),e=e(),tt(),e),xh=["id"],Ph={class:"heading flex-row-spaced full-size padded"},Oh={key:0},Ih={key:0},Rh={key:1},Dh={key:2},Mh={key:3},Fh={key:1,class:"points flex-column-center"},Uh=Ka(()=>h("img",{src:$h},null,-1)),Bh=[Uh],Lh=["data-tooltip","onClick"],Nh=["id"],jh={key:1,class:"player flex-column-center"},Hh=Ka(()=>h("h3",null,"Waiting for player to join...",-1)),Vh=[Hh],Wh={props:{player:{type:js,default:null}},computed:{...be(M,["playerActive","trade","vsComputer","resourceTypesValid","settings","waitingForOnlinePlayer"]),playerIsActive(){var e,t;return((e=this.playerActive)==null?void 0:e.id)===((t=this.player)==null?void 0:t.id)},playerIsComputer(){return this.player.computer},playerIsRemote(){return this.player.remote},blurred(){return this.settings.mode==Fe.CvC?!1:this.settings.mode==Fe.PvC?this.playerIsComputer:this.settings.mode==Fe.PvPLocal?!this.playerIsActive:this.settings.mode==Fe.PvPOnline?this.playerIsRemote:!1}},mounted(){this.$nextTick(()=>{this.styleResources()})},watch:{waitingForOnlinePlayer(){this.waitingForOnlinePlayer||this.$nextTick(()=>{this.styleResources()})}},methods:{...Ee(M,["styleResource","setTradeGive","setTradeTake","concede"]),styleResources(){this.resourceTypesValid.forEach(e=>{const t=`${this.player.id}-${e.type}`;this.styleResource(t,e.type)})},tradeEnabled(e){return!(!this.playerIsActive||!this.player.resourceCount(e.id)&&!this.trade.give)},selectResource(e){this.tradeEnabled(e)&&(this.trade.give?this.trade.give===e.id?this.setTradeGive(0):this.trade.take===e.id?this.setTradeTake(0):this.setTradeTake(e.id):this.setTradeGive(e.id))}}},qh=ye({...Wh,__name:"Player",setup(e){return(t,s)=>e.player&&!t.waitingForOnlinePlayer?(w(),C("div",{key:0,id:`player-${e.player.id}`,class:J(["player flex-column-center",t.blurred?"blurred":""])},[h("div",Ph,[h("h2",{class:J(`p${e.player.id}-color`)},N(e.player.name()),3),e.player.end?(w(),C("h3",Oh,[e.player.end===1?(w(),C("span",Ih,"1st")):_e("",!0),e.player.end===2?(w(),C("span",Rh,"2nd")):_e("",!0),e.player.end===3?(w(),C("span",Dh,"3rd")):_e("",!0),e.player.end===4?(w(),C("span",Mh,"4th")):_e("",!0)])):(w(),C("div",Fh,[h("div",null,N(e.player.points),1),h("div",null,N(e.player.winTotal()),1)])),h("button",{"data-tooltip":"Giving up?",class:J(["tooltip flex-column-center shadowed",t.playerIsActive?"enabled":"disabled"]),onClick:s[0]||(s[0]=(...i)=>t.concede&&t.concede(...i))},Bh,2)]),h("table",null,[(w(!0),C(Y,null,pe(t.resourceTypesValid,(i,n)=>(w(),C("tr",{key:n},[h("td",{class:J(["icon shadowed",[t.tradeEnabled(i)?"enabled":"",t.trade.give&&i.id!==t.trade.give?"tooltip right":"",t.playerIsActive&&i.id===t.trade.give?"give":"",t.playerIsActive&&i.id===t.trade.take?"take":""]]),"data-tooltip":`Trade ${i.value*zn(L).tradeSurcharge} : 1`,onClick:r=>t.selectResource(i)},[h("div",{id:`${e.player.id}-${i.type}`,class:"mask"},null,8,Nh)],10,Lh),h("td",null,[h("h4",null,N(i.resource),1)]),h("td",{class:"count digits",style:ii(`color: ${i.color};`)},N(Math.floor(e.player.resourceCount(i.id)/10))+N(e.player.resourceCount(i.id)%10),5)]))),128))])],10,xh)):(w(),C("div",jh,Vh))}});const Ms=Te(qh,[["__scopeId","data-v-2830f6e9"]]),zh={computed:{...be(M,["isComputerTurn","menu","battling","turn","playerActive","playerWinner","rolled","monster","grid","tilesAll","tilesOfActivePlayer","tilesOfTheEnemy","unitTypes","unitsMovableForActivePlayer","resourceTypesValid","gameSpeed"]),canAct(){return!(!this.isComputerTurn||this.menu||this.battling||this.playerWinner)},shouldConcede(){if(this.isComputerTurn&&this.playerActive){const e=!!this.playerActive.base,t=!!this.tilesOfActivePlayer.find(s=>s.units.length>0);if(e&&!t)return!0}return!1}},watch:{isComputerTurn(){this.act()},menu(){this.act()},battling(){this.act()},turn:{handler(){this.act()},deep:!0}},mounted(){this.canAct&&this.act()},methods:{...Ee(M,["selectStartingTile","rollDice","moveMonster","moveSelectedUnitsToTile","moveUnitsToTile","selectTrainUnit","trainUnitOnTile","resourceForID","canAffordUnit","canAffordUnitResource","canAffordUnitResources","setTradeGive","setTradeTake","newTurn","concede"]),async act(e=0){this.canAct&&(await this.think(e),this.canAct&&this.chooseAction())},async think(e){const s=(Math.floor(Math.random()*20)+20+e)*100;await new Promise(i=>setTimeout(i,s/this.gameSpeed))},async chooseAction(){var t;let e=!1;if(this.shouldConcede){this.concede();return}(t=this.playerActive)!=null&&t.base?this.rolled?this.monster.moving?this.directMonster():this.unitsMovableForActivePlayer.length?await this.moveOrBattle():this.playerActive.resourceScore()?e=this.getUnits():e=!0:this.rollDice():this.selectBase(),e&&this.endTurn()},selectBase(){if(!this.grid)return;let e=this.grid[0][0];this.tilesAll.forEach(t=>{t.startScore()>e.startScore()&&(e=t)}),this.selectStartingTile(e)},directMonster(){const e=this.tilesOfTheEnemy;e.filter(s=>!s.base).length?this.directMonsterToEnemyUnitTile(e):this.directMonsterToNearEnemyBase(e)},directMonsterToEnemyUnitTile(e){const s=e.filter(i=>!i.base).filter(i=>this.monster.location!==i.id).reduce((i,n)=>i.unitScore()>n.unitScore()?i:n);this.moveMonster(s)},directMonsterToNearEnemyBase(e){const t=e.find(i=>i.base)||null;if(!t)return;const s=t.adjacent.filter(i=>this.monster.location!==i.id).reduce((i,n)=>i.score()>n.score()?i:n);this.moveMonster(s)},async moveOrBattle(){if(this.battling)return;const e=this.unitsInDanger();if(e.length){this.moveUnit(e[0],!0),this.act();return}let t=!1;this.unitsStranded().length&&(t=this.reconnectSupplyLines(this.unitsMovableForActivePlayer[0]));const s=this.battleTileMatches();!t&&s.length?await this.battleTileFromTile(s[0],s[1]):t||this.moveUnit(this.unitsMovableForActivePlayer[0],!1),this.act()},unitsInDanger(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{let s=!1;(t.id===this.monster.location||t.dangerScore(this.playerActive)>t.unitScore())&&(s=!0),s&&e.push(...t.units)}),e=e.filter(t=>!t.moved&&!t.staying),e},unitsStranded(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{t.units.forEach(s=>{s.stranded&&e.push(s)})}),e},reconnectSupplyLines(e){let t=!1;const s=this.unitsStranded();return s.length&&!e.stranded&&s.forEach(i=>{var r;const n=(r=e.tile)==null?void 0:r.adjacent.filter(o=>{var a;return((a=i.tile)==null?void 0:a.adjacent.includes(o))&&this.tileMovable(o)&&o.id!==this.monster.location});!t&&n&&n.length&&(n.sort((o,a)=>a.score()-o.score()),this.moveSelectedUnitsToTile([e],n[0]),t=!0)}),t},battleTileMatches(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{if(!t.units.find(s=>s.moved)&&!e.length){const s=[];t.adjacent.forEach(i=>{i.playerController()&&i.playerController()!==this.playerActive&&t.unitScore()>i.unitScore()&&s.push(i)}),s.length&&(s.sort((i,n)=>i.unitScore()-n.unitScore()),e.push(t),e.push(s[0]))}}),e},async battleTileFromTile(e,t){e.units.forEach(s=>s.selected=!0),this.moveUnitsToTile(t)},moveUnit(e,t){const s=e?e.tile:null;if(!e||!s)return;let i=[s];for(let o=0;o<e.type.move;o++)i.forEach(a=>this.adjacentTilesMovable(a).forEach(l=>{var u;!i.includes(l)&&((u=l.type)!=null&&u.value)&&i.push(l)}));i=i.filter(o=>o!==s&&o.id!==this.monster.location),t?i.sort((o,a)=>a.unitScore()-o.unitScore()):i.sort((o,a)=>a.score()-o.score());const n=e.isAtBase()&&e.isAlone();let r=!1;i.forEach(o=>{!r&&!n&&(r=this.unitMoved(e,s,o,t))}),(!r||n)&&(e.staying=!0)},adjacentTilesMovable(e){return e.adjacent.filter(t=>this.tileMovable(t)&&t.id!==this.monster.location)},tileMovable(e){const t=e.units.length<L.tileUnitMax,i=!!e.playerController()&&e.playerController()!==this.playerActive;return t&&!i},unitMoved(e,t,s,i){const n=s.unitScore()+e.type.value<t.unitScore(),r=s.type?s.type.value>0:!1,o=s.id===this.monster.location,a=s.dangerScore(this.playerActive)>s.unitScore()+e.type.value;return i?(this.moveSelectedUnitsToTile([e],s),!0):a?this.bandMoved(t,s):n&&r&&!o?(this.moveSelectedUnitsToTile([e],s),!0):!1},bandMoved(e,t){let s=0,i=[],n=!1;return e.units.forEach(r=>{!r.moved&&!n&&(s+=r.type.value,i.push(r),t.dangerScore(this.playerActive)<=s&&(n=!0))}),n&&this.bandMove(i,t),n},bandMove(e,t){var i;const s=e[e.length-1];s.isAtBase()&&((i=s.tile)==null?void 0:i.units.length)===e.length&&(e=e.filter(n=>n!==s),s.staying=!0),this.moveSelectedUnitsToTile(e,t)},getUnits(){let e=!this.trainUnits();return e&&(e=!this.tradeResources()),e},trainUnits(){const e=this.unitTypes.filter(t=>this.canAffordUnit(t));if(e.length){e.sort((s,i)=>i.value-s.value),this.selectTrainUnit(e[0]);let t=this.trainingTileBest();if(t)return this.trainUnitOnTile(t),this.act(),!0}return!1},trainingTileBest(){let e=[...this.tilesOfActivePlayer];return e=e.filter(t=>t.units.length<L.tileUnitMax),e.sort((t,s)=>s.score()-t.score()),e.sort((t,s)=>s.dangerScore(this.playerActive)-t.dangerScore(this.playerActive)),e.length?e[0]:null},tradeResources(){const e=[...this.unitTypes];if(e.sort((t,s)=>s.value-t.value),e.sort((t,s)=>t.cost.length-this.canAffordUnitResources(t)-(s.cost.length-this.canAffordUnitResources(s))),e.length){const t=e[0];let s=this.resourceForID(t.cost[0][0]);return t.cost.forEach(i=>{const n=this.resourceForID(i[0]);n&&!this.canAffordUnitResource(t,n)&&(s=n)}),s?this.tradeForResource(s):!1}else return!1},tradeForResource(e){let t=!1;const s=e.value*L.tradeSurcharge;return this.resourceTypesValid.forEach(i=>{var o;const r=(((o=this.playerActive)==null?void 0:o.resourceCount(i.id))||0)>s;r&&(t=!0),r&&i&&e&&this.tradeResourceForResource(i,e)}),t},tradeResourceForResource(e,t){this.setTradeGive(e.id),this.setTradeTake(t.id),this.act(30)},endTurn(){this.newTurn()}}},Kh=ye({...zh,__name:"Computer",setup(e){return(t,s)=>(w(),C("div"))}}),Gh="/assets/desert-e2390f07.jpeg",Yh="/assets/farm-3ac71b15.jpeg",Jh="/assets/forest-e4379267.jpeg",Xh="/assets/mine-16ad4638.jpeg",Qh="/assets/stables-4cd7f347.jpeg",Zh="/assets/tower-022a0fc1.jpeg",ef="/assets/village-0857c7a9.jpeg",tf="/assets/texture-92077bf6.jpeg",sf="/assets/battlefield-18f47d3d.jpeg",nf="/assets/cemetary-4b3e0442.jpeg",rf="/assets/church-ec31c9dd.jpeg",of="/assets/distillery-33f366f6.jpeg",af="/assets/dungeon-50b2b726.jpeg",lf="/assets/lair-8caaa7d8.jpeg",cf="/assets/library-679d839b.jpeg",uf={props:{damages:{type:Array,default:null}}},df=ye({...uf,__name:"Damages",setup(e){return(t,s)=>(w(),xe($u,{name:"float"},{default:bt(()=>[(w(!0),C(Y,null,pe(e.damages,i=>(w(),C("div",{key:i.index,class:"damage taken shadowed"}," -"+N(i.value),1))),128))]),_:1}))}});const Ga=Te(df,[["__scopeId","data-v-3fbbddf9"]]),hf=["src"],ff={data(){return{index:0,takenDamage:[],lastDamage:0}},props:{unit:{type:Ut,default:null}},computed:{...be(M,["marchPhase","playerActive","unitsSelectedTile","battling","isOpponentTurn","theme"]),enabled(){return this.isOpponentTurn||this.battling||this.unitsSelectedTile&&this.unitsSelectedTile!==this.unit.tile?!1:this.marchPhase&&this.unit.player===this.playerActive&&!this.unit.moved},unitDamageTaken(){return this.unit.damage}},watch:{unitDamageTaken(){if(!this.unitDamageTaken)return;const e=this.index++,t=this.unitDamageTaken-this.lastDamage;this.lastDamage=this.unitDamageTaken;const s=new Oa(e,t);this.takenDamage.push(s),setTimeout(()=>{this.takenDamage=this.takenDamage.filter(i=>i.index!==e)},500)}},methods:{selectUnit(e){e.stopPropagation(),this.enabled&&this.$emit("selected")},iconForUnit(e){var t;return new URL(Object.assign({"../assets/icons/castle.svg":mi,"../assets/icons/close.svg":yi,"../assets/icons/defense.svg":vi,"../assets/icons/flag.svg":_i,"../assets/icons/give.svg":bi,"../assets/icons/help.svg":wi,"../assets/icons/load.svg":Ti,"../assets/icons/medieval/archer.svg":Si,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":ki,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":Ai,"../assets/icons/medieval/peasant.svg":$i,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":Pi,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Ii,"../assets/icons/medieval/wizard.svg":Ri,"../assets/icons/menu.svg":Di,"../assets/icons/move.svg":Mi,"../assets/icons/next.svg":Fi,"../assets/icons/offense.svg":Ui,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ni,"../assets/icons/settings.svg":ji,"../assets/icons/take.svg":Hi,"../assets/icons/undead/coffin.svg":Vi,"../assets/icons/undead/flesh.svg":Wi,"../assets/icons/undead/ghost.svg":qi,"../assets/icons/undead/moonshine.svg":zi,"../assets/icons/undead/remains.svg":Ki,"../assets/icons/undead/scroll.svg":Gi,"../assets/icons/undead/skeleton.svg":Yi,"../assets/icons/undead/soul.svg":Ji,"../assets/icons/undead/vampire.svg":Xi,"../assets/icons/undead/werewolf.svg":Qi,"../assets/icons/undead/zombie.svg":Zi})[`../assets/icons/${this.theme}/${(t=e==null?void 0:e.type)==null?void 0:t.type}.svg`],self.location).href}}},pf=ye({...ff,__name:"Unit",setup(e){return(t,s)=>{var i;return e.unit?(w(),C("div",{key:0,class:J(["unit","shadowed",t.enabled?"enabled":"",`p${(i=e.unit.player)==null?void 0:i.id}-background`,e.unit.selected?"selected":"",e.unit.moved?"disabled":"",e.unit.stranded?"stranded":""]),onClick:s[0]||(s[0]=(...n)=>t.selectUnit&&t.selectUnit(...n))},[h("img",{src:t.iconForUnit(e.unit)},null,8,hf),K(Ga,{damages:t.takenDamage},null,8,["damages"])],2)):_e("",!0)}}});const gf=Te(pf,[["__scopeId","data-v-3bc59da0"]]),mf=e=>(et("data-v-a0faba6e"),e=e(),tt(),e),yf=["id"],vf=["fill"],_f=["stroke"],bf={key:0,class:"mask"},wf=["src"],Tf={class:"details flex-column-spaced"},Sf={key:0,class:"life"},Cf={key:1,class:"life"},kf={key:1},Ef=mf(()=>h("br",null,null,-1)),Af=[Ef],$f={class:"units flex-row-center flex-wrap"},xf={key:0,class:"digits"},Pf={key:1},Of={class:"score"},If={data(){return{index:0,takenDamage:[],lastDamage:0}},props:{tile:{type:Hs,default:null}},computed:{...be(M,["turn","rollPhase","marchPhase","train","monster","battling","unitsSelectedTile","isOpponentTurn","theme"]),enabled(){return!(this.rollPhase&&!this.monster.moving||this.train&&!this.playerActiveControllingTile(this.tile)||this.battling||this.isOpponentTurn||this.marchPhase&&this.unitsSelectedTile&&!this.tileWithinDistance(this.tile)||this.marchPhase&&!this.unitsSelectedTile&&!this.playerActiveControllingTile(this.tile))},playerLife(){return this.tile.playerController()?this.tile.playerController().life:0},tileBackground(){var e,t;return this.tile?new URL(Object.assign({"../assets/images/medieval/desert.jpeg":Gh,"../assets/images/medieval/farm.jpeg":Yh,"../assets/images/medieval/forest.jpeg":Jh,"../assets/images/medieval/mine.jpeg":Xh,"../assets/images/medieval/stables.jpeg":Qh,"../assets/images/medieval/tower.jpeg":Zh,"../assets/images/medieval/village.jpeg":ef,"../assets/images/texture.jpeg":tf,"../assets/images/undead/battlefield.jpeg":sf,"../assets/images/undead/cemetary.jpeg":nf,"../assets/images/undead/church.jpeg":rf,"../assets/images/undead/distillery.jpeg":of,"../assets/images/undead/dungeon.jpeg":af,"../assets/images/undead/lair.jpeg":lf,"../assets/images/undead/library.jpeg":cf})[`../assets/images/${this.theme}/${(t=(e=this.tile)==null?void 0:e.type)==null?void 0:t.type}.jpeg`],self.location).href:""},scoreDots(){const e=6-Math.abs(7-this.tile.roll),t=[];for(let s=0;s<e;s++)t.push(0);return t}},watch:{playerLife(){if(!this.playerLife)return;if(this.playerLife===L.startingLife){this.lastDamage=this.playerLife;return}const e=this.index++,t=this.lastDamage-this.playerLife;this.lastDamage=this.playerLife;const s=new Oa(e,t);this.takenDamage.push(s),setTimeout(()=>{this.takenDamage=this.takenDamage.filter(i=>i.index!==e)},500)}},methods:{...Ee(M,["selectTile","playerActiveControllingTile","tileWithinDistance"]),selectedTile(){this.enabled&&this.selectTile(this.tile)}}},Rf=ye({...If,__name:"Tile",setup(e){return(t,s)=>e.tile.type?(w(),C("div",{key:0,id:`tile-${e.tile.id}`,class:J(["tile","shadowed",t.enabled?"enabled":""]),onClick:s[0]||(s[0]=(...i)=>t.selectedTile&&t.selectedTile(...i))},[(w(),C("svg",{fill:e.tile.type.color,height:"150",width:"160",xmlns:"http://www.w3.org/2000/svg"},[h("path",{d:"m155 75-37.5 65h-75l-37.5-65 37.5-65h75z",stroke:e.tile.roll&&e.tile.roll===t.turn.roll.total?"gold":e.tile.type.color,"stroke-width":"5"},null,8,_f)],8,vf)),e.tile.type?(w(),C("div",bf,[h("img",{src:t.tileBackground},null,8,wf)])):_e("",!0),h("div",Tf,[e.tile.base?(w(),C("div",{key:0,class:J(["castle-container","shadowed",`p${e.tile.base.id}-border`])},[h("div",{class:J(["castle",[`p${e.tile.base.id}-background`]])},null,2),K(Ga,{damages:t.takenDamage},null,8,["damages"]),e.tile.base.life?(w(),C("div",Sf,N(e.tile.base.life/e.tile.base.startingLife()*100),1)):(w(),C("div",Cf,"✖✖"))],2)):(w(),C("div",kf,Af)),h("div",$f,[(w(!0),C(Y,null,pe(e.tile.units,(i,n)=>(w(),xe(gf,{key:n,unit:i,onSelected:r=>i.selected=!i.selected},null,8,["unit","onSelected"]))),128))]),h("div",{class:J(["roll","flex-column-center",e.tile.roll===t.turn.roll.total?"gold":"",e.tile.roll?"":"invisible"])},[t.monster.location!==e.tile.id?(w(),C("h4",xf,N(e.tile.roll),1)):(w(),C("h4",Pf,"✖")),h("div",Of,[(w(!0),C(Y,null,pe(t.scoreDots,(i,n)=>(w(),C("span",{key:n},"•"))),128))])],2)])],10,yf)):_e("",!0)}});const Df=Te(Rf,[["__scopeId","data-v-a0faba6e"]]),Mf={id:"grid",class:"grid"},Ff={computed:{...be(M,["grid","turn"])},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize,{passive:!0})}),this.onResize()},beforeUnmount(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){const e=document.getElementById("grid"),t=Math.max(window.innerWidth,1200)/1920*1.25,s=window.innerHeight/1080*1.25;e&&(e.style.transform=`scale(${Math.min(t,s)})`)}}},Uf=ye({...Ff,__name:"Grid",setup(e){return(t,s)=>(w(),C("div",Mf,[(w(!0),C(Y,null,pe(t.grid,(i,n)=>(w(),C("div",{key:n,class:"flex-row-center"},[(w(!0),C(Y,null,pe(i,(r,o)=>(w(),xe(Df,{key:o,tile:r,roll:t.turn.roll.total},null,8,["tile","roll"]))),128))]))),128))]))}});const Bf=Te(Uf,[["__scopeId","data-v-84972c96"]]),Lf=e=>(et("data-v-e14d75f0"),e=e(),tt(),e),Nf={class:"resources"},jf=["id"],Hf=["id"],Vf=Lf(()=>h("div",{class:"mask"},null,-1)),Wf=[Vf],qf={computed:{...be(M,["resources","gameSpeed"])},watch:{resources:{handler(){this.$nextTick(()=>{this.sendResources()})},deep:!0}},methods:{...Ee(M,["transitionResourceToPlayer","styleResource"]),sendResources(){this.resources.forEach(e=>{e.sent||(e.sent=!0,this.sendResource(e))})},sendResource(e){const t=`resource-${e.id}`,s=document.getElementById(t);s&&(this.setupResourceMask(e),e.spend?this.setResourcePointPlayer(s,e.player,e.type):this.setResourcePointTile(s,e.tile),setTimeout(()=>{this.sendResourceToPlayer(e,e.delay/10)},200))},setupResourceMask(e){var s;const t=`resource-color-${e.id}`;e.type&&this.styleResource(t,(s=e.type)==null?void 0:s.type)},centerCoordForObjectWithID(e){var t=document.getElementById(e);if(!t)return new to(0,0);var s=t.getBoundingClientRect(),i=new to(s.x+s.width/2,s.y+s.height/2);return i},sendResourceToPlayer(e,t){const s=`resource-${e.id}`,i=document.getElementById(s);if(!i||!e)return;e.spend?this.setResourcePointTile(i,e.tile):this.setResourcePointPlayer(i,e.player,e.type);const n=2/this.gameSpeed;i.style.transition=`all ${n}s ease-out`,i.style.transitionDelay=`${t}s`;const r=(1e3+200+t*1e3)*n;setTimeout(()=>{this.transitionResourceToPlayer(e)},r)},setResourcePointTile(e,t){if(!t)return;const s=`tile-${t==null?void 0:t.id}`,i=this.centerCoordForObjectWithID(s),n=e.getBoundingClientRect();e.style.top=`${i.y-n.height/2}px`,e.style.left=`${i.x-n.width/2}px`},setResourcePointPlayer(e,t,s){if(!t||!s)return;const i=`${t.id}-${s.type}`,n=this.centerCoordForObjectWithID(i),r=e.getBoundingClientRect();e.style.top=`${n.y-r.height/2}px`,e.style.left=`${n.x-r.width/2}px`}}},zf=ye({...qf,__name:"Resources",setup(e){return(t,s)=>(w(),C("div",Nf,[(w(!0),C(Y,null,pe(t.resources,(i,n)=>Ko((w(),C("div",{key:n,id:`resource-${i.id}`,class:"resource shadowed"},[h("div",{id:`resource-color-${i.id}`,class:"color"},Wf,8,Hf)],8,jf)),[[ka,!(i!=null&&i.hide)]])),128))]))}});const Kf=Te(zf,[["__scopeId","data-v-e14d75f0"]]),Gf="/assets/medieval-3e81f0a1.png",Yf="/assets/undead-11ea1864.png",Jf={id:"monster"},Xf={data(){return{x:0,y:0,dir:"",var:0}},computed:{...be(M,["monster","gameSpeed","theme"]),monsterLocation(){return this.monster.location},backgroundImage(){return new URL(Object.assign({"../assets/animations/medieval.png":Gf,"../assets/animations/undead.png":Yf})[`../assets/animations/${this.theme}.png`],self.location).href}},mounted(){setTimeout(()=>this.monsterMoveabout(),200),setInterval(()=>this.monsterMoveabout(),2e3),this.$nextTick(()=>{this.moveMonster(),window.addEventListener("resize",this.onResize,{passive:!0})}),this.setupMonster(this.backgroundImage)},beforeUnmount(){window.removeEventListener("resize",this.onResize)},watch:{monsterLocation(){this.monsterLocation&&this.$nextTick(()=>{this.moveMonster()})},backgroundImage(){this.backgroundImage&&this.$nextTick(()=>{this.setupMonster(this.backgroundImage)})}},methods:{onResize(){this.setupMonster(this.backgroundImage),this.moveMonster()},async setupMonster(e){const t=new Image;if(!e||(t.src=e,await t.decode(),t.src!==this.backgroundImage))return;const s=t.naturalWidth/3/(t.naturalHeight/4)*.03*window.innerWidth,i=document.getElementById("monster");i&&(i.style.width=`${s}px`);const n=document.getElementById("sprite");n&&(n.style.backgroundImage=`url('${e}')`)},moveMonster(){const e=document.getElementById("monster"),t=`tile-${this.monster.location}`,s=document.getElementById(t);if(e&&s){var i=e.getBoundingClientRect(),n=s.getBoundingClientRect();e.style.left=`${n.x}px`,e.style.top=`${n.y-i.height}px`,this.var=n.width/2}},monsterMoveabout(){const e=document.getElementById("monster");if(!e)return;const t=Math.floor(Math.random()*this.var),s=t-this.x;this.x=t;const i=Math.floor(Math.random()*this.var),n=i-this.y;this.y=i,e.style.transform=`translate(${this.x}px, ${this.y}px)`,e.style.transitionDuration=`${3/this.gameSpeed}s`,Math.abs(s)>Math.abs(n)?this.dir=s>0?"right":"left":this.dir=n>0?"down":"up"}}},Qf=ye({...Xf,__name:"Monster",setup(e){return(t,s)=>(w(),C("div",Jf,[h("div",{id:"sprite",class:J(["sprite shadowed",t.dir])},null,2)]))}});const Zf=Te(Qf,[["__scopeId","data-v-f08afa45"]]),ep="/assets/help-518d5cb1.svg",tp="/assets/settings-620ec5c9.svg",sp="/assets/save-b0d06498.svg",ip="/assets/load-9b6a67c5.svg",Ya="/assets/reset-57391f15.svg",np={props:{show:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!1},closable:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}},rp="/assets/close-f5d846ec.svg";const op=e=>(et("data-v-3fe8525a"),e=e(),tt(),e),ap={class:"modal-overlay flex-column-center"},lp={class:"modal flex-column-center padded shadowed"},cp=op(()=>h("img",{src:rp},null,-1)),up=[cp];function dp(e,t,s,i,n,r){return w(),xe(er,{name:"zoom"},{default:bt(()=>[Ko(h("div",ap,[s.backdrop?(w(),C("div",{key:0,class:"backdrop full-size",onClick:t[0]||(t[0]=(...o)=>r.close&&r.close(...o))})):_e("",!0),h("div",lp,[s.closable?(w(),C("button",{key:0,class:"close shadowed enabled",onClick:t[1]||(t[1]=(...o)=>r.close&&r.close(...o))},up)):_e("",!0),kc(e.$slots,"default",{onClose:t[2]||(t[2]=(...o)=>r.close&&r.close(...o))},void 0,!0)])],512),[[ka,s.show]])]),_:3})}const ws=Te(np,[["render",dp],["__scopeId","data-v-3fe8525a"]]),hp={class:"menu"},fp=h("h2",null,"Menu",-1),pp=h("br",null,null,-1),gp=h("img",{src:ep},null,-1),mp=h("span",null,"Help",-1),yp=[gp,mp],vp=h("img",{src:tp},null,-1),_p=h("span",null,"Settings",-1),bp=[vp,_p],wp=h("img",{src:sp},null,-1),Tp=h("span",null,"Save",-1),Sp=[wp,Tp],Cp=h("img",{src:ip},null,-1),kp=h("span",null,"Load",-1),Ep=[Cp,kp],Ap=h("img",{src:Ya},null,-1),$p=h("span",null,"Reset",-1),xp=[Ap,$p],Pp={data(){return{show:!1}},computed:{...be(M,["menu","pvpOnline"]),menuOpen(){return this.menu}},watch:{menuOpen(){this.menuOpen&&(this.show=!0)}},methods:{...Ee(M,["init","save","load","toggleMenu","toggleSettings","toggleTutorial"]),help(){this.toggleTutorial()},settings(){this.toggleSettings()},saveGame(){this.pvpOnline||(this.save(),this.close())},loadGame(){this.pvpOnline||(this.load(),this.close())},resetGame(){this.pvpOnline||(this.init(),this.close())},close(){this.show=!1,setTimeout(()=>{this.menu&&this.toggleMenu()},500)}}},Op=ye({...Pp,__name:"Menu",setup(e){return(t,s)=>(w(),xe(ws,{show:t.show,closable:"",backdrop:"",onClose:t.close},{default:bt(()=>[h("div",hp,[fp,pp,h("button",{"data-tooltip":"Here you can figure out how to play",onClick:s[0]||(s[0]=(...i)=>t.help&&t.help(...i)),class:"flex-row-spaced shadowed enabled tooltip"},yp),h("button",{"data-tooltip":"You can change some settings",onClick:s[1]||(s[1]=(...i)=>t.settings&&t.settings(...i)),class:"flex-row-spaced shadowed enabled tooltip"},bp),h("button",{"data-tooltip":"You only get one save spot",onClick:s[2]||(s[2]=(...i)=>t.saveGame&&t.saveGame(...i)),class:J(["flex-row-spaced",t.pvpOnline?"disabled":"shadowed enabled tooltip"])},Sp,2),h("button",{"data-tooltip":"You lose your current progress if you load another game",onClick:s[3]||(s[3]=(...i)=>t.loadGame&&t.loadGame(...i)),class:J(["flex-row-spaced",t.pvpOnline?"disabled":"shadowed enabled tooltip"])},Ep,2),h("button",{"data-tooltip":"You go back to start if you reset",onClick:s[4]||(s[4]=(...i)=>t.resetGame&&t.resetGame(...i)),class:J(["flex-row-spaced",t.pvpOnline?"disabled":"shadowed enabled tooltip"])},xp,2)])]),_:1},8,["show","onClose"]))}}),wt=e=>(et("data-v-10c2f874"),e=e(),tt(),e),Ip={class:"settings"},Rp=wt(()=>h("h2",null,"Settings",-1)),Dp={class:"setting"},Mp=["value"],Fp=wt(()=>h("label",{for:"sound-setting"},"SFX Volume",-1)),Up={class:"setting"},Bp=["value"],Lp=wt(()=>h("label",{for:"speed-setting"},"Game Speed",-1)),Np=wt(()=>h("div",{class:"divider"},null,-1)),jp=wt(()=>h("p",null,[h("i",null,"Warning: Changing the below will clear the current game and reload the page")],-1)),Hp={class:"setting"},Vp=["value"],Wp=["value"],qp=wt(()=>h("label",{for:"mode-setting"},"Mode",-1)),zp={class:"setting"},Kp=["value"],Gp=["value"],Yp=wt(()=>h("label",{for:"theme-setting"},"Theme",-1)),Jp={class:"setting"},Xp=["value"],Qp=["value"],Zp=wt(()=>h("label",{for:"players-setting"},"Players",-1)),eg={data(){return{show:!1}},computed:{...be(M,["settings","themeOptions","theme","matchStrings","playerCountOptions"]),settingsOpen(){return this.settings.open}},watch:{settingsOpen(){this.settingsOpen&&(this.show=!0)}},methods:{...Ee(M,["toggleSettings","saveSettings","updateMatchMode"]),updateSound(e){e.target&&(this.settings.sound=Number(e.target.value),this.saveSettings())},updateSpeed(e){e.target&&(this.settings.speed=Number(e.target.value),this.saveSettings())},updateMode(e){if(!e.target)return;const t=this.matchStrings.indexOf(e.target.value);this.updateMatchMode(t),this.saveSettings()},updateTheme(e){e.target&&(this.settings.theme=String(e.target.value),this.saveSettings(),location.reload())},updatePlayers(e){e.target&&(this.settings.players=Number(e.target.value),this.saveSettings(),location.reload())},close(){this.show=!1,setTimeout(()=>{this.toggleSettings()},500)}}},tg=ye({...eg,__name:"Settings",setup(e){return(t,s)=>(w(),xe(ws,{show:t.show,backdrop:"",closable:"",onClose:t.close},{default:bt(()=>[h("div",Ip,[Rp,h("div",Dp,[h("input",{id:"sound-setting",type:"range",class:"slider",min:"0",max:"100",value:t.settings.sound,onInput:s[0]||(s[0]=(...i)=>t.updateSound&&t.updateSound(...i))},null,40,Mp),Fp]),h("div",Up,[h("input",{id:"speed-setting",type:"range",class:"slider",min:"1",max:"3",value:t.settings.speed,onInput:s[1]||(s[1]=(...i)=>t.updateSpeed&&t.updateSpeed(...i))},null,40,Bp),Lp]),Np,jp,h("div",Hp,[h("select",{id:"mode-setting",onInput:s[2]||(s[2]=(...i)=>t.updateMode&&t.updateMode(...i)),value:t.matchStrings[t.settings.mode]},[(w(!0),C(Y,null,pe(t.matchStrings,(i,n)=>(w(),C("option",{key:n,value:i},N(i.toCapitalized()),9,Wp))),128))],40,Vp),qp]),h("div",zp,[h("select",{id:"theme-setting",onInput:s[3]||(s[3]=(...i)=>t.updateTheme&&t.updateTheme(...i)),value:t.theme},[(w(!0),C(Y,null,pe(t.themeOptions,(i,n)=>(w(),C("option",{key:n,value:i},N(i.toCapitalized()),9,Gp))),128))],40,Kp),Yp]),h("div",Jp,[h("select",{id:"players-setting",onInput:s[4]||(s[4]=(...i)=>t.updatePlayers&&t.updatePlayers(...i)),value:t.settings.players},[(w(!0),C(Y,null,pe(t.playerCountOptions,(i,n)=>(w(),C("option",{key:n,value:i},N(i)+" Players ",9,Qp))),128))],40,Xp),Zp])])]),_:1},8,["show","onClose"]))}});const sg=Te(tg,[["__scopeId","data-v-10c2f874"]]),ig="/assets/tut_00-322f3a71.jpg",ng="/assets/tut_01-c2f24d2d.jpg",rg="/assets/tut_02-b28d63f4.jpg",og="/assets/tut_03-2420e17d.jpg",ag="/assets/tut_04-03d82927.jpg",lg="/assets/tut_05-c68712a2.jpg",cg="/assets/tut_06-c701ba6e.jpg",ug="/assets/tut_07-3c66f32f.jpg",dg="/assets/tut_08-3cda92b9.jpg",hg="/assets/tut_09-01a72ba3.jpg",ar="/assets/next-393dbd13.svg",fg=[{img:"tut_00",txt:"Welcome to Riskatan! A game wholly original and based on no other games out there...."},{img:"tut_01",txt:"On your first turn, select a starting location"},{img:"tut_02",txt:"Each turn, you'll roll the dice"},{img:"tut_03",txt:"Move units to other tiles to gather more resources"},{img:"tut_04",txt:"On a 7 roll, the monster moves and blocks a tile resource"},{img:"tut_05",txt:"Move units to an enemy tile to initiate a battle"},{img:"tut_06",txt:"Trade resources for others that you need more of"},{img:"tut_07",txt:"Train a variety of units using the resources you have collected"},{img:"tut_08",txt:"Tiles you control and units you train give you victory points. Get enough victory points and you win!"},{img:"tut_09",txt:"Be sure to protect your home base. If it takes too much damage, you will lose!"}],lr=e=>(et("data-v-7d84f132"),e=e(),tt(),e),pg=lr(()=>h("h2",null,"How To Play",-1)),gg={class:"flex-row-center"},mg=lr(()=>h("img",{src:ar,class:"mirror"},null,-1)),yg=[mg],vg=["src"],_g={class:"description"},bg=lr(()=>h("img",{src:ar},null,-1)),wg=[bg],Tg={data(){return{show:!1,index:0,tuts:fg}},computed:{...be(M,["tutorial","monsterName"]),nextAvailable(){return this.index<this.tuts.length-1},prevAvailable(){return this.index>0},tutorialText(){return this.tuts[this.index].txt.replace("monster",this.monsterName)}},watch:{tutorial(){this.tutorial&&(this.show=!0)}},methods:{...Ee(M,["toggleTutorial"]),tutorialImageAtIndex(e){return new URL(Object.assign({"../assets/tutorial/tut_00.jpg":ig,"../assets/tutorial/tut_01.jpg":ng,"../assets/tutorial/tut_02.jpg":rg,"../assets/tutorial/tut_03.jpg":og,"../assets/tutorial/tut_04.jpg":ag,"../assets/tutorial/tut_05.jpg":lg,"../assets/tutorial/tut_06.jpg":cg,"../assets/tutorial/tut_07.jpg":ug,"../assets/tutorial/tut_08.jpg":dg,"../assets/tutorial/tut_09.jpg":hg})[`../assets/tutorial/${this.tuts[e].img}.jpg`],self.location).href},next(){this.index++,this.index=Math.min(this.index,this.tuts.length-1)},prev(){this.index--,this.index=Math.max(this.index,0)},close(){this.show=!1,setTimeout(()=>{this.toggleTutorial()},500)}}},Sg=ye({...Tg,__name:"Tutorial",setup(e){return(t,s)=>(w(),xe(ws,{show:t.show,closable:"",backdrop:"",onClose:t.close},{default:bt(()=>[pg,h("div",gg,[h("button",{class:J(["tooltip",["shadowed",t.prevAvailable?"enabled":"invisible"]]),"data-tooltip":"Previous",onClick:s[0]||(s[0]=(...i)=>t.prev&&t.prev(...i))},yg,2),h("div",null,[h("img",{class:"screenshot",src:t.tutorialImageAtIndex(t.index)},null,8,vg),h("p",_g,N(t.tutorialText),1)]),h("button",{class:J(["tooltip",["shadowed",t.nextAvailable?"enabled":"invisible"]]),"data-tooltip":"Next",onClick:s[1]||(s[1]=(...i)=>t.next&&t.next(...i))},wg,2)])]),_:1},8,["show","onClose"]))}});const Cg=Te(Sg,[["__scopeId","data-v-7d84f132"]]),kg=h("h2",null,"Ummm",-1),Eg={class:"margined"},Ag={data(){return{show:!1}},computed:{...be(M,["error"])},watch:{error(){this.error&&(this.show=!0)},show(){this.show||setTimeout(()=>{this.clearError()},500)}},methods:{...Ee(M,["clearError"])}},$g=ye({...Ag,__name:"Error",setup(e){return(t,s)=>(w(),xe(ws,{show:t.show,closable:"",backdrop:"",onClose:s[0]||(s[0]=i=>t.show=!1)},{default:bt(()=>[kg,h("p",Eg,N(t.error),1)]),_:1},8,["show"]))}}),lt=e=>(et("data-v-7bc235a7"),e=e(),tt(),e),xg={class:"flex-row-center full-size padded"},Pg={key:0,class:"stat"},Og=lt(()=>h("td",null,[h("h4",{class:"left-aligned"},"Stat")],-1)),Ig={class:"left-aligned"},Rg={class:"stat"},Dg=lt(()=>h("tr",null,[h("td",null,[h("h4",null,"Roll")]),h("td",null,[h("h4",null,"Count")])],-1)),Mg={class:"flex-column-center full-size"},Fg={class:"stat"},Ug=lt(()=>h("h4",null,"Total Turns",-1)),Bg={class:"stat"},Lg=lt(()=>h("h4",null,"Units Types Trained",-1)),Ng=["src"],jg=lt(()=>h("br",null,null,-1)),Hg={class:"stat"},Vg=lt(()=>h("h4",null,"Battles Fought",-1)),Wg={class:"stat"},qg=lt(()=>h("h4",null,"Resources Collected",-1)),zg=["id"],Kg=lt(()=>h("div",{class:"mask"},null,-1)),Gg=[Kg],Yg=lt(()=>h("br",null,null,-1)),Jg={class:"stat"},Xg={computed:{...be(M,["stats","players","theme","monsterName"])},mounted(){this.styleResources()},methods:{...Ee(M,["unitTypeForID","resourceForID","styleResource"]),styleResources(){this.stats.resourceSpread.forEach((e,t)=>{const s=this.resourceForID(t+1),i=`stat-resource-${t}`;s&&this.styleResource(i,s.type)})},highestPlayerScoreForStat(e,t){return e.stats[t]===0?!1:this.players.reduce((i,n)=>i.stats[t]>n.stats[t]?i:n).stats[t]===e.stats[t]},highestNumberForSpread(e){return e.reduce((t,s)=>t>s?t:s)},unitIconForIndex(e){var t;return new URL(Object.assign({"../assets/icons/castle.svg":mi,"../assets/icons/close.svg":yi,"../assets/icons/defense.svg":vi,"../assets/icons/flag.svg":_i,"../assets/icons/give.svg":bi,"../assets/icons/help.svg":wi,"../assets/icons/load.svg":Ti,"../assets/icons/medieval/archer.svg":Si,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":ki,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":Ai,"../assets/icons/medieval/peasant.svg":$i,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":Pi,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Ii,"../assets/icons/medieval/wizard.svg":Ri,"../assets/icons/menu.svg":Di,"../assets/icons/move.svg":Mi,"../assets/icons/next.svg":Fi,"../assets/icons/offense.svg":Ui,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ni,"../assets/icons/settings.svg":ji,"../assets/icons/take.svg":Hi,"../assets/icons/undead/coffin.svg":Vi,"../assets/icons/undead/flesh.svg":Wi,"../assets/icons/undead/ghost.svg":qi,"../assets/icons/undead/moonshine.svg":zi,"../assets/icons/undead/remains.svg":Ki,"../assets/icons/undead/scroll.svg":Gi,"../assets/icons/undead/skeleton.svg":Yi,"../assets/icons/undead/soul.svg":Ji,"../assets/icons/undead/vampire.svg":Xi,"../assets/icons/undead/werewolf.svg":Qi,"../assets/icons/undead/zombie.svg":Zi})[`../assets/icons/${this.theme}/${(t=this.unitTypeForID(e+1))==null?void 0:t.type}.svg`],self.location).href}}},Qg=ye({...Xg,__name:"Stats",setup(e){return(t,s)=>(w(),C("div",xg,[t.players.length?(w(),C("div",Pg,[h("table",null,[h("tr",null,[Og,(w(!0),C(Y,null,pe(t.players,(i,n)=>(w(),C("td",{key:n},[h("h4",{class:J(`p${i.id}-color`)},N(i.name()),3)]))),128))]),(w(!0),C(Y,null,pe(t.players[0].stats,(i,n,r)=>(w(),C("tr",{key:r},[h("td",Ig,N(zn(L).statStrings[n]),1),(w(!0),C(Y,null,pe(t.players,(o,a)=>(w(),C("td",{key:a,class:J(t.highestPlayerScoreForStat(o,n)?"gold":"")},N(o.stats[n]),3))),128))]))),128))])])):_e("",!0),h("div",Rg,[h("table",null,[Dg,(w(!0),C(Y,null,pe(t.stats.rollSpread,(i,n)=>(w(),C("tr",{key:n},[h("td",null,N(n+2),1),h("td",{class:J(t.highestNumberForSpread(t.stats.rollSpread)===i?"gold":"")},N(i),3)]))),128))])]),h("div",Mg,[h("div",Fg,[Ug,pt(" "+N(t.stats.turnsCount),1)]),h("div",Bg,[Lg,h("table",null,[h("tr",null,[(w(!0),C(Y,null,pe(t.stats.unitSpread,(i,n)=>(w(),C("td",{key:n},[h("img",{src:t.unitIconForIndex(n)},null,8,Ng)]))),128))]),h("tr",null,[(w(!0),C(Y,null,pe(t.stats.unitSpread,(i,n)=>(w(),C("td",{key:n,class:J(t.highestNumberForSpread(t.stats.unitSpread)===i?"gold":"")},N(i),3))),128))]),jg])]),h("div",Hg,[Vg,pt(" "+N(t.stats.battlesCount),1)]),h("div",Wg,[qg,h("table",null,[h("tr",null,[(w(!0),C(Y,null,pe(t.stats.resourceSpread,(i,n)=>(w(),C("td",{key:n},[h("div",{id:`stat-resource-${n}`,class:"color"},Gg,8,zg)]))),128))]),h("tr",null,[(w(!0),C(Y,null,pe(t.stats.resourceSpread,(i,n)=>(w(),C("td",{key:n,class:J(t.highestNumberForSpread(t.stats.resourceSpread)===i?"gold":"")},N(i),3))),128))]),Yg])]),h("div",Jg,[h("h4",null,N(t.monsterName.toCapitalized())+" Kills",1),pt(" "+N(t.stats.monsterKills),1)])])]))}});const Zg=Te(Qg,[["__scopeId","data-v-7bc235a7"]]),Ja=e=>(et("data-v-067d1eac"),e=e(),tt(),e),em={class:"flex-row-spaced full-size menu"},tm=Ja(()=>h("img",{src:Ya},null,-1)),sm=Ja(()=>h("span",null,"New Game",-1)),im=[tm,sm],nm={data(){return{show:!1}},computed:{...be(M,["playerWinner","victoryString"])},watch:{playerWinner(){this.playerWinner&&(this.show=!0)}},methods:{...Ee(M,["init"]),newGame(){this.show=!1,setTimeout(()=>{this.init()},500)}}},rm=ye({...nm,__name:"Victory",setup(e){return(t,s)=>(w(),xe(ws,{show:t.show,backdrop:""},{default:bt(()=>[h("div",em,[t.playerWinner?(w(),C("h1",{key:0,class:J(`p${t.playerWinner.id}-color`)},N(t.playerWinner.name())+" Wins! ",3)):_e("",!0),h("h3",null,N(t.victoryString.toUpperCase()),1),h("button",{onClick:s[0]||(s[0]=(...i)=>t.newGame&&t.newGame(...i)),class:"flex-row-spaced shadowed enabled"},im)]),t.playerWinner?(w(),xe(Zg,{key:0})):_e("",!0)]),_:1},8,["show"]))}});const om=Te(rm,[["__scopeId","data-v-067d1eac"]]),am={class:"container"},lm={ref:"dice1",class:"dice dice-one"},cm=fa('<div id="dice-one-side-one" class="side one" data-v-495945b0><div class="dot one-1" data-v-495945b0></div></div><div id="dice-one-side-two" class="side two" data-v-495945b0><div class="dot two-1" data-v-495945b0></div><div class="dot two-2" data-v-495945b0></div></div><div id="dice-one-side-three" class="side three" data-v-495945b0><div class="dot three-1" data-v-495945b0></div><div class="dot three-2" data-v-495945b0></div><div class="dot three-3" data-v-495945b0></div></div><div id="dice-one-side-four" class="side four" data-v-495945b0><div class="dot four-1" data-v-495945b0></div><div class="dot four-2" data-v-495945b0></div><div class="dot four-3" data-v-495945b0></div><div class="dot four-4" data-v-495945b0></div></div><div id="dice-one-side-five" class="side five" data-v-495945b0><div class="dot five-1" data-v-495945b0></div><div class="dot five-2" data-v-495945b0></div><div class="dot five-3" data-v-495945b0></div><div class="dot five-4" data-v-495945b0></div><div class="dot five-5" data-v-495945b0></div></div><div id="dice-one-side-six" class="side six" data-v-495945b0><div class="dot six-1" data-v-495945b0></div><div class="dot six-2" data-v-495945b0></div><div class="dot six-3" data-v-495945b0></div><div class="dot six-4" data-v-495945b0></div><div class="dot six-5" data-v-495945b0></div><div class="dot six-6" data-v-495945b0></div></div>',6),um=[cm],dm={class:"container"},hm={ref:"dice2",class:"dice dice-two"},fm=fa('<div id="dice-two-side-one" class="side one" data-v-495945b0><div class="dot one-1" data-v-495945b0></div></div><div id="dice-two-side-two" class="side two" data-v-495945b0><div class="dot two-1" data-v-495945b0></div><div class="dot two-2" data-v-495945b0></div></div><div id="dice-two-side-three" class="side three" data-v-495945b0><div class="dot three-1" data-v-495945b0></div><div class="dot three-2" data-v-495945b0></div><div class="dot three-3" data-v-495945b0></div></div><div id="dice-two-side-four" class="side four" data-v-495945b0><div class="dot four-1" data-v-495945b0></div><div class="dot four-2" data-v-495945b0></div><div class="dot four-3" data-v-495945b0></div><div class="dot four-4" data-v-495945b0></div></div><div id="dice-two-side-five" class="side five" data-v-495945b0><div class="dot five-1" data-v-495945b0></div><div class="dot five-2" data-v-495945b0></div><div class="dot five-3" data-v-495945b0></div><div class="dot five-4" data-v-495945b0></div><div class="dot five-5" data-v-495945b0></div></div><div id="dice-two-side-six" class="side six" data-v-495945b0><div class="dot six-1" data-v-495945b0></div><div class="dot six-2" data-v-495945b0></div><div class="dot six-3" data-v-495945b0></div><div class="dot six-4" data-v-495945b0></div><div class="dot six-5" data-v-495945b0></div><div class="dot six-6" data-v-495945b0></div></div>',6),pm=[fm],gm={computed:{...be(M,["turn","isOpponentTurn","rolled"]),enabled(){return!this.rolled&&!this.isOpponentTurn}},watch:{rolled(){this.rolled&&this.animateDice()}},mounted(){document.addEventListener("keydown",this.keyInput,!1)},beforeUnmount(){document.removeEventListener("keydown",this.keyInput)},methods:{...Ee(M,["rollDice"]),keyInput(e){e.code==="Space"&&this.enabled&&this.rollDice()},throwDice(){this.enabled&&this.rollDice()},animateDice(){const e=this.$refs,t=e.dice1,s=e.dice2;!t||!s||(this.animateDie(t,this.turn.roll.dieOne),this.animateDie(s,this.turn.roll.dieTwo))},animateDie(e,t){for(var s=1;s<=6;s++){const i=`show-${s}-a`,n=`show-${s}-b`,r=e.classList.contains(i);e.classList.remove(i),e.classList.remove(n),t===s&&(r?e.classList.add(n):e.classList.add(i))}}}},mm=ye({...gm,__name:"Dice",setup(e){return(t,s)=>(w(),C("div",{id:"dice",class:J(["tooltip",["shadowed",t.enabled?"enabled":"",`p${t.turn.player}-dice`]]),"data-tooltip":"Go ahead and give 'em a toss!",onClick:s[0]||(s[0]=(...i)=>t.throwDice&&t.throwDice(...i))},[h("div",am,[h("div",lm,um,512)]),h("div",dm,[h("div",hm,pm,512)])],2))}});const ym=Te(mm,[["__scopeId","data-v-495945b0"]]),vm="/assets/move-75d7174f.svg",_m="/assets/offense-bbc31d54.svg",bm="/assets/defense-bd9c3f5b.svg",wm="/assets/ranged-c9fa731e.svg",Ts=e=>(et("data-v-a8241fd2"),e=e(),tt(),e),Tm={class:"cost"},Sm={class:"unit-details"},Cm={class:"stats flex-row-spaced"},km={class:"stat flex-row-spaced"},Em=Ts(()=>h("img",{src:vm},null,-1)),Am={class:"stat flex-row-spaced"},$m=Ts(()=>h("img",{src:_m},null,-1)),xm={class:"stat flex-row-spaced"},Pm=Ts(()=>h("img",{src:bm},null,-1)),Om={class:"stat flex-row-spaced"},Im=Ts(()=>h("img",{src:wm},null,-1)),Rm={class:"flex-row-center"},Dm=["id"],Mm=Ts(()=>h("div",{class:"mask"},null,-1)),Fm=[Mm],Um={props:{unit:{type:Pa,default:null}},computed:{...be(M,["playerActive"])},mounted(){this.$nextTick(()=>{this.styleResources()})},methods:{...Ee(M,["styleResource","resourceForID"]),styleResources(){this.unit.cost.forEach(e=>{const t=this.resourceForID(e[0]),s=`cost-${e[0]}-${this.unit.type}`;t&&this.styleResource(s,t.type)})}}},Bm=ye({...Um,__name:"Cost",setup(e){return(t,s)=>(w(),C("div",Tm,[h("div",Sm,[h("h2",null,N(e.unit.type.toCapitalized()),1),h("div",Cm,[h("div",km,[Em,pt(N(e.unit.move),1)]),h("div",Am,[$m,pt(N(e.unit.battle.offense),1)]),h("div",xm,[Pm,pt(N(e.unit.battle.defense),1)]),h("div",Om,[Im,pt(N(e.unit.battle.ranged?"1":"0"),1)])])]),h("div",Rm,[(w(!0),C(Y,null,pe(e.unit.cost,(i,n)=>{var r;return w(),C("div",{key:n,class:J(["resource",(r=t.playerActive)!=null&&r.resourceCount(i[0])?"":"strikethrough"])},[h("div",{id:`cost-${i[0]}-${e.unit.type}`,class:"color"},Fm,8,Dm)],2)}),128))])]))}});const Lm=Te(Bm,[["__scopeId","data-v-a8241fd2"]]),Nm={class:"train"},jm=["onClick"],Hm=["src"],Vm={computed:{...be(M,["train","playerActive","isOpponentTurn","unitTypes","theme"])},methods:{...Ee(M,["selectTrainUnit","canAffordUnit"]),enabled(e){return this.canAffordUnit(e)&&!this.isOpponentTurn},selectUnit(e){this.enabled(e)&&this.selectTrainUnit(e)},unitIcon(e){return new URL(Object.assign({"../assets/icons/castle.svg":mi,"../assets/icons/close.svg":yi,"../assets/icons/defense.svg":vi,"../assets/icons/flag.svg":_i,"../assets/icons/give.svg":bi,"../assets/icons/help.svg":wi,"../assets/icons/load.svg":Ti,"../assets/icons/medieval/archer.svg":Si,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":ki,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":Ai,"../assets/icons/medieval/peasant.svg":$i,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":Pi,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Ii,"../assets/icons/medieval/wizard.svg":Ri,"../assets/icons/menu.svg":Di,"../assets/icons/move.svg":Mi,"../assets/icons/next.svg":Fi,"../assets/icons/offense.svg":Ui,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ni,"../assets/icons/settings.svg":ji,"../assets/icons/take.svg":Hi,"../assets/icons/undead/coffin.svg":Vi,"../assets/icons/undead/flesh.svg":Wi,"../assets/icons/undead/ghost.svg":qi,"../assets/icons/undead/moonshine.svg":zi,"../assets/icons/undead/remains.svg":Ki,"../assets/icons/undead/scroll.svg":Gi,"../assets/icons/undead/skeleton.svg":Yi,"../assets/icons/undead/soul.svg":Ji,"../assets/icons/undead/vampire.svg":Xi,"../assets/icons/undead/werewolf.svg":Qi,"../assets/icons/undead/zombie.svg":Zi})[`../assets/icons/${this.theme}/${e.type}.svg`],self.location).href}}},Wm=ye({...Vm,__name:"Train",setup(e){return(t,s)=>(w(),C("div",Nm,[(w(!0),C(Y,null,pe(t.unitTypes,(i,n)=>{var r,o;return w(),C("button",{key:n,class:J(["unit","shadowed",t.enabled(i)?"enabled":"disabled",i.id===t.train?`selected p${(r=t.playerActive)==null?void 0:r.id}-background`:""]),onClick:a=>t.selectUnit(i)},[h("img",{src:t.unitIcon(i),class:J(`p${(o=t.playerActive)==null?void 0:o.id}-filter`)},null,10,Hm),K(Lm,{unit:i,class:"cost"},null,8,["unit"])],10,jm)}),128))]))}});const qm=Te(Wm,[["__scopeId","data-v-139ae0e0"]]),cr=e=>(et("data-v-d183fa56"),e=e(),tt(),e),zm={class:"flex-row-spaced"},Km={class:"player quarter flex-row-centered"},Gm={key:0},Ym={key:0,class:"half flex-row-spaced"},Jm=cr(()=>h("div",null,null,-1)),Xm={key:0},Qm=cr(()=>h("div",null,null,-1)),Zm={key:1,class:"quarter flex-row-spaced"},ey=cr(()=>h("div",null,null,-1)),ty={class:"flex-column-center"},sy={key:0,class:"digits"},iy={key:2},ny={computed:{...be(M,["monster","monsterName","battling","rolled","turnPhase","startPhase","rollPhase","marchPhase","playerActive","isOpponentTurn","turn","victory"]),nextEnabled(){return!(this.startPhase||this.isOpponentTurn||this.rollPhase&&!this.rolled||this.rollPhase&&this.monster.moving||this.battling)},monsterMove(){return L.monsterMove.replace("monster",this.monsterName)}},mounted(){document.addEventListener("keydown",this.keyInput,!1)},beforeUnmount(){document.removeEventListener("keydown",this.keyInput)},methods:{...Ee(M,["newTurn"]),clickNext(){this.nextEnabled&&this.newTurn()},keyInput(e){e.code==="Space"&&this.nextEnabled&&this.newTurn()}}},ry=ye({...ny,__name:"Footer",setup(e){return(t,s)=>(w(),C("footer",zm,[h("div",Km,[t.playerActive?(w(),C("h2",Gm,[h("span",{class:J(`p${t.playerActive.id}-color`)},N(t.playerActive.name())+"'s Turn",3)])):_e("",!0),h("span",null,N(t.turnPhase.description),1)]),t.startPhase?_e("",!0):(w(),C("div",Ym,[Jm,t.monster.moving?(w(),C("h2",Xm,N(t.monsterMove),1)):t.marchPhase&&!t.isOpponentTurn?(w(),xe(qm,{key:1})):_e("",!0),Qm])),!t.startPhase&&t.playerActive?(w(),C("div",Zm,[ey,K(ym),h("div",ty,[h("button",{class:J(["tooltip",["shadowed",t.nextEnabled?"enabled":"disabled"]]),"data-tooltip":"End your turn?",onClick:s[0]||(s[0]=(...i)=>t.clickNext&&t.clickNext(...i))},[h("img",{src:ar,class:J(`p${t.playerActive.id}-filter`)},null,2)],2),t.victory?_e("",!0):(w(),C("span",sy,N(Math.floor(t.turn.time/600))+N(Math.floor(t.turn.time/60))+":"+N(Math.floor(t.turn.time%60/10))+N(Math.floor(t.turn.time%10)),1))])])):(w(),C("div",iy))]))}});const oy=Te(ry,[["__scopeId","data-v-d183fa56"]]),ay={key:0,class:"window-height flex-column-spaced"},ly={class:"flex-row-spaced"},cy={data(){return{unlocked:!1}},computed:{...be(M,["players","settings"])},mounted(){this.checkKeyEntry(),this.unlocked&&(this.init(),this.$nextTick(()=>{this.checkDebugParam()}))},methods:{...Ee(M,["init"]),checkKeyEntry(){const e=window.location.search;new URLSearchParams(e).get("key")==="kgs"&&(this.unlocked=!0)},checkDebugParam(){const e=window.location.search,s=new URLSearchParams(e).get("debug");s&&console.log(s)}}},uy=ye({...cy,__name:"App",setup(e){return(t,s)=>t.unlocked?(w(),C("div",ay,[K(Sh),h("main",ly,[K(Ah),h("div",{class:J(["players",t.settings.players==2?"flex-column-center":"flex-column-spaced"])},[K(Ms,{player:t.players[0]},null,8,["player"]),t.settings.players>2?(w(),xe(Ms,{key:0,player:t.players[2]},null,8,["player"])):_e("",!0)],2),K(Bf),h("div",{class:J(["players",t.settings.players==2?"flex-column-center":"flex-column-spaced"])},[K(Ms,{player:t.players[1]},null,8,["player"]),t.settings.players>3?(w(),xe(Ms,{key:0,player:t.players[3]},null,8,["player"])):_e("",!0)],2),K(Zf)]),K(Kf),K(Kh),K(Op),K(sg),K(Cg),K($g),K(om),K(oy)])):_e("",!0)}});const dy=Te(uy,[["__scopeId","data-v-d2ed409d"]]),Xa=Mu(dy);Xa.use(Bu());Xa.mount("#app");
