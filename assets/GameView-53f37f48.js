import{d as h,P as Y,u as b,s as $,c as o,Z as ee,o as n,a as l,n as w,p as A,b as L,e as a,_ as x,f as se,t as I,g as v,F as O,r as D,h as te,i as U,C as ne,S as E,j as B,D as C,T as G,k as m,O as oe,l as V,m as M,q as ae,B as le}from"./index-bd842cf5.js";const ce=s=>(A("data-v-c112d9ea"),s=s(),L(),s),ie=["id"],re=ce(()=>a("div",{class:"spacing"},null,-1)),_e=[re],de=h({__name:"PlaceComp",props:{place:{type:Y,default:null},hidden:{type:Boolean,defau:!1}},setup(s){const e=s,t=b(),{altar:_,getSelectedOfferings:c}=$(t),d=o(()=>e.place?e.place.getID():""),i=o(()=>{var u;return(u=_.value)==null?void 0:u.getOpenPlaces().includes(e.place)}),r=o(()=>c.value.length&&i.value),p=o(()=>{var u;return((u=e.place)==null?void 0:u.zone)!==ee.Altar});function f(){r.value&&t.selectPlace(e.place)}return(u,P)=>{var k;return n(),l("div",{id:d.value,class:w(["place",[(k=e.place)==null?void 0:k.type,s.hidden?"invisible":"",r.value?"enabled":"",p.value?"spread":""]]),onClick:f},_e,10,ie)}}});const F=x(de,[["__scopeId","data-v-c112d9ea"]]),ue=s=>(A("data-v-73f8adba"),s=s(),L(),s),ve=ue(()=>a("br",null,null,-1)),ge={key:0},pe={key:1},fe={class:"digits padded"},me=h({__name:"PlayerComp",props:{player:{type:se,default:null}},setup(s){const e=s,t=b(),{getTurnPhaseString:_,getCurrentPlayerTurn:c}=$(t),d=o(()=>e.player?e.player.getRows():[]),i=o(()=>t.getPlayerFortunes(e.player.id)),r=ne.fortuneMajor,p=o(()=>i.value.find(u=>u.length===r)),f=o(()=>e.player.turn&&c.value);return(u,P)=>s.player?(n(),l("div",{key:0,class:w(["player flex-column-center",f.value?"turn":""])},[a("h2",null,I(v(E).player)+" "+I(s.player.id),1),ve,s.player.turn?(n(),l("h3",ge,I(v(_)),1)):(n(),l("p",pe,I(v(E).waiting),1)),(n(!0),l(O,null,D(d.value,(k,S)=>(n(),l("div",{key:S,class:"flex-row-center"},[(n(!0),l(O,null,D(k,(g,y)=>(n(),B(F,{key:y,place:g,hidden:S===0},null,8,["place","hidden"]))),128))]))),128)),a("h3",null,[te(I(v(E).fortunes.toUpperCase())+": ",1),a("span",fe,I(i.value.length)+I(p.value?"*":""),1)])],2)):U("",!0)}});const z=x(me,[["__scopeId","data-v-73f8adba"]]),ye={class:"limbo margined flex-column-center"},he={class:"flex-row-center"},be=h({__name:"LimboComp",setup(s){const e=b(),{limbo:t}=$(e),_=o(()=>{var c;return(c=t.value)==null?void 0:c.getRow()});return(c,d)=>(n(),l("div",ye,[a("div",he,[(n(!0),l(O,null,D(_.value,(i,r)=>(n(),B(F,{key:r,place:i,hidden:""},null,8,["place"]))),128))])]))}}),$e="/assets/direction-22e37f0e.svg",Ce=["alt"],we=h({__name:"DirectionComp",props:{dir:{type:Number,default:C.None}},setup(s){const e=s,t=b(),{turn:_,getEnabledDirections:c}=$(t),d=o(()=>_.value===G.Push),i=o(()=>c.value.includes(e.dir)),r=o(()=>e.dir===C.Up?"up":e.dir===C.Right?"right":e.dir===C.Down?"down":e.dir===C.Left?"left":"");function p(){i.value&&t.pushOfferings(e.dir)}return(f,u)=>(n(),l("div",{class:w(["margined",d.value?"":"invisible"])},[a("button",{class:w(["shadow",i.value?"enabled":"disabled"]),onClick:p},[a("img",{src:$e,alt:r.value,class:w(r.value)},null,10,Ce)],2)],2))}});const T=x(we,[["__scopeId","data-v-4d41f646"]]),xe={class:"flex-row-center"},ke={class:"flex-column-center"},Ie={class:"altar flex-column-center"},Oe=h({__name:"AltarComp",setup(s){const e=b(),{altar:t}=$(e),_=o(()=>{var c;return(c=t.value)==null?void 0:c.getRows()});return(c,d)=>(n(),l("div",xe,[m(T,{dir:v(C).Left},null,8,["dir"]),a("div",ke,[m(T,{dir:v(C).Up},null,8,["dir"]),a("div",Ie,[(n(!0),l(O,null,D(_.value,(i,r)=>(n(),l("div",{key:r,class:"flex-row-center"},[(n(!0),l(O,null,D(i,(p,f)=>(n(),B(F,{key:f,place:p},null,8,["place"]))),128))]))),128))]),m(T,{dir:v(C).Down},null,8,["dir"])]),m(T,{dir:v(C).Right},null,8,["dir"])]))}});const De=x(Oe,[["__scopeId","data-v-0d49d5ba"]]),Pe={class:"kitty margined padded flex-column-center"},Se=h({__name:"KittyComp",setup(s){const e=b(),{kitty:t}=$(e);return(_,c)=>{var d;return n(),l("div",Pe,[a("h2",null,I(v(E).kitty),1),m(F,{place:(d=v(t))==null?void 0:d.place,hidden:""},null,8,["place"])])}}});const Be=x(Se,[["__scopeId","data-v-ea9b8f41"]]),K="/assets/close-f5d846ec.svg",Z="/assets/direction-22e37f0e.svg",q="/assets/knight-f324979a.svg",H="/assets/ore-bcbc3549.svg",J="/assets/tree-f893f7da.svg",Q="/assets/wand-c232b03a.svg",W="/assets/wizard-229bfef3.svg",Te=["id"],Ee=["id"],Ae=h({__name:"OmenComp",props:{omen:{type:oe,default:null}},setup(s){const e=s,t=b(),{getAltarActiveOmens:_,turn:c}=$(t),d=o(()=>e.omen?e.omen.getID():""),i=o(()=>t.playerForID(e.omen.player)),r=o(()=>t.getPlayerFortunes(e.omen.player)),p=o(()=>_.value.includes(e.omen)),f=o(()=>p.value&&c.value===G.Collect),u=o(()=>{var g;return i.value&&!((g=i.value)!=null&&g.turn)}),P=o(()=>r.value.find(g=>g.includes(e.omen)));V(()=>{M(()=>{k()})});function k(){const g=document.getElementById(`style-${e.omen.getID()}`);if(!g)return;const y=new URL(Object.assign({"../assets/svgs/close.svg":K,"../assets/svgs/direction.svg":Z,"../assets/svgs/knight.svg":q,"../assets/svgs/ore.svg":H,"../assets/svgs/tree.svg":J,"../assets/svgs/wand.svg":Q,"../assets/svgs/wizard.svg":W})[`../assets/svgs/${e.omen.getImage()}.svg`],self.location).href;g.style.backgroundImage=`url(${y})`,g.classList.add(`${e.omen.getColor()}-background`),g.classList.add(`${e.omen.getColor()}-border`)}function S(){f.value&&t.selectOmen(e.omen)}return(g,y)=>(n(),l("div",{id:d.value,class:w(["container shadow flex-column-center",P.value?"fortune":""])},[a("div",{class:w(["omen",p.value?"active":"",f.value?"enabled":"",u.value?"disabled":""]),onClick:S},[a("div",{id:`style-${d.value}`,class:"icon"},null,8,Ee)],2)],10,Te))}});const Le=x(Ae,[["__scopeId","data-v-e27644bc"]]),Fe="/assets/flame-e9cdbf27.gif",X=s=>(A("data-v-663ec9f1"),s=s(),L(),s),Re=["id"],Ve=["id"],je=X(()=>a("div",{class:"mask"},null,-1)),Ne=[je],ze={key:0,class:"flame"},Ue=X(()=>a("img",{src:Fe,alt:"burning"},null,-1)),Ge=[Ue],Me=h({__name:"OfferingComp",props:{offering:{type:ae,default:null},tilted:{type:Boolean,defaut:!1}},setup(s){const e=s,t=b(),{getAltarPortentOfferings:_,getEnabledOfferings:c,getDisabledOfferings:d,getBurnableOfferings:i}=$(t),r=o(()=>e.offering?e.offering.getID():""),p=o(()=>_.value.includes(e.offering)),f=o(()=>c.value.includes(e.offering)),u=o(()=>d.value.includes(e.offering)),P=o(()=>i.value.includes(e.offering)),k=o(()=>p.value&&!P.value);V(()=>{M(()=>{S()})});function S(){const y=document.getElementById(`style-${e.offering.getID()}`);if(!y)return;const j=e.offering.getImage(),N=new URL(Object.assign({"../assets/svgs/close.svg":K,"../assets/svgs/direction.svg":Z,"../assets/svgs/knight.svg":q,"../assets/svgs/ore.svg":H,"../assets/svgs/tree.svg":J,"../assets/svgs/wand.svg":Q,"../assets/svgs/wizard.svg":W})[`../assets/svgs/${j}.svg`],self.location).href;y.style.maskImage=`url(${N})`,y.style.webkitMaskImage=`url(${N})`,y.classList.add(`${e.offering.getColor()}-background`)}function g(){u.value||f.value&&t.selectOffering(e.offering)}return(y,j)=>(n(),l("div",{id:r.value,class:"container shadow flex-column-center"},[a("div",{class:w(["offering",[k.value?"active":"",f.value?"enabled":"",u.value?"disabled":"",P.value?"burner":"",s.offering.burning?"burning":"",s.offering.selected?"selected":""]]),onClick:g},[a("div",{id:`style-${r.value}`,class:"color"},Ne,8,Ve),s.offering.burning?(n(),l("div",ze,Ge)):U("",!0)],2)],8,Re))}});const Ke=x(Me,[["__scopeId","data-v-663ec9f1"]]),Ze={class:"tiles"},qe=h({__name:"TilesComp",setup(s){const e=b(),{omens:t,offerings:_}=$(e);return(c,d)=>(n(),l("div",Ze,[(n(!0),l(O,null,D(v(t),(i,r)=>(n(),B(Le,{key:r,omen:i},null,8,["omen"]))),128)),(n(!0),l(O,null,D(v(_),(i,r)=>(n(),B(Ke,{key:r,offering:i},null,8,["offering"]))),128))]))}});const He=x(qe,[["__scopeId","data-v-9a8c39f4"]]),R=s=>(A("data-v-2df7b374"),s=s(),L(),s),Je={class:"flex-row-spaced window-height"},Qe=R(()=>a("div",null,null,-1)),We={class:"flex-column-spaced"},Xe=R(()=>a("div",{class:"margined"},null,-1)),Ye=R(()=>a("div",{class:"margined"},null,-1)),es=R(()=>a("div",null,null,-1)),ss=h({__name:"GameView",setup(s){const e=b(),{players:t,getCurrentPlayerTurn:_}=$(e);return V(()=>{e.gameStart()}),(c,d)=>(n(),l("main",{class:w(v(_)?"":"waiting")},[m(le,{bg:"game.jpeg"}),a("div",Je,[Qe,m(z,{player:v(t)[0]},null,8,["player"]),a("div",We,[m(be),Xe,m(De),Ye,m(Be)]),m(z,{player:v(t)[1]},null,8,["player"]),es]),m(He)],2))}});const ns=x(ss,[["__scopeId","data-v-2df7b374"]]);export{ns as default};
