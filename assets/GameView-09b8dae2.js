import{d as v,P as W,u as m,s as y,c as u,o as t,a as l,n as C,b as o,Z as X,p as L,e as T,f as a,_ as h,F as O,r as P,g as D,D as $,T as N,h as f,t as x,S as B,i as Y,C as ee,j as se,k as z,O as te,l as j,m as U,q as ne,B as oe}from"./index-5590ea75.js";const ae=s=>(L("data-v-4d028023"),s=s(),T(),s),le=["id"],ce=ae(()=>a("div",{class:"spacing"},null,-1)),ie=[ce],re=v({__name:"PlaceComp",props:{place:{type:W,default:null},hidden:{type:Boolean,defau:!1}},setup(s){const e=s,n=m(),{getOpenAltarPlaces:_,getSelectedOfferings:c}=y(n),i=u(()=>c.value.length&&_.value.includes(e.place));function r(){i.value&&n.selectPlace(e.place)}return(d,b)=>{var g,w,p;return t(),l("div",{id:(g=e.place)==null?void 0:g.getID(),class:C(["place",[(w=e.place)==null?void 0:w.type,s.hidden?"invisible":"",i.value?"enabled":"",((p=e.place)==null?void 0:p.zone)!==o(X).Altar?"spread":""]]),onClick:r},ie,10,le)}}});const E=h(re,[["__scopeId","data-v-4d028023"]]),_e={class:"limbo flex-column-center"},de={class:"flex-row-center"},ue=v({__name:"LimboComp",setup(s){const e=m(),{limbo:n}=y(e);let _=u(()=>{var c;return(c=n.value)==null?void 0:c.getRow()});return(c,i)=>(t(),l("div",_e,[a("div",de,[(t(!0),l(O,null,P(o(_),(r,d)=>(t(),D(E,{key:d,place:r,hidden:""},null,8,["place"]))),128))])]))}});const pe=h(ue,[["__scopeId","data-v-d8dd6ce0"]]),ge="/assets/direction-22e37f0e.svg",fe=v({__name:"DirectionComp",props:{dir:{type:Number,default:$.None}},setup(s){const e=s,n=m(),{turn:_,getEnabledDirections:c}=y(n),i=u(()=>c.value.includes(e.dir)),r=u(()=>e.dir===$.Up?"up":e.dir===$.Right?"right":e.dir===$.Down?"down":e.dir===$.Left?"left":"");function d(){i.value&&n.pushOfferings(e.dir)}return(b,g)=>(t(),l("div",{class:C(["margined",o(_)===o(N).Push?"":"invisible"])},[a("button",{class:C(["shadow",i.value?"enabled":"disabled"]),onClick:d},[a("img",{src:ge,alt:"direction",class:C(r.value)},null,2)],2)],2))}});const S=h(fe,[["__scopeId","data-v-2fe7509e"]]),ve={class:"flex-row-center"},me={class:"flex-column-center"},ye={class:"altar flex-column-center"},he=v({__name:"AltarComp",setup(s){const e=m(),{altar:n}=y(e);let _=u(()=>{var c;return(c=n.value)==null?void 0:c.getRows()});return(c,i)=>(t(),l("div",ve,[f(S,{dir:o($).Left},null,8,["dir"]),a("div",me,[f(S,{dir:o($).Up},null,8,["dir"]),a("div",ye,[(t(!0),l(O,null,P(o(_),(r,d)=>(t(),l("div",{key:d,class:"flex-row-center"},[(t(!0),l(O,null,P(r,(b,g)=>(t(),D(E,{key:g,place:b},null,8,["place"]))),128))]))),128))]),f(S,{dir:o($).Down},null,8,["dir"])]),f(S,{dir:o($).Right},null,8,["dir"])]))}});const be=h(he,[["__scopeId","data-v-c9a88255"]]),$e={class:"kitty margined flex-column-center"},Ce=v({__name:"KittyComp",setup(s){const e=m(),{kitty:n}=y(e);return(_,c)=>{var i;return t(),l("div",$e,[a("h2",null,x(o(B).kitty),1),f(E,{place:(i=o(n))==null?void 0:i.place,hidden:""},null,8,["place"])])}}});const we=h(Ce,[["__scopeId","data-v-e23e723a"]]),xe=s=>(L("data-v-73978171"),s=s(),T(),s),ke=xe(()=>a("br",null,null,-1)),Ie={key:0},Oe={key:1},Pe={class:"digits padded"},De=v({__name:"PlayerComp",props:{player:{type:Y,default:null}},setup(s){const e=s,n=m(),{getTurnPhaseString:_,isCurrentPlayerTurn:c}=y(n);let i=u(()=>e.player?e.player.getRows():[]),r=u(()=>n.getPlayerFortunes(e.player.id)),d=u(()=>r.value.find(g=>g.length===ee.fortuneMajor)),b=u(()=>e.player.turn&&c.value);return(g,w)=>s.player?(t(),l("div",{key:0,class:C(["player flex-column-center",o(b)?"turn":""])},[a("h2",null,x(o(B).player)+" "+x(s.player.id),1),ke,s.player.turn?(t(),l("h3",Ie,x(o(_)),1)):(t(),l("p",Oe,x(o(B).waiting),1)),(t(!0),l(O,null,P(o(i),(p,k)=>(t(),l("div",{key:k,class:"flex-row-center"},[(t(!0),l(O,null,P(p,(R,I)=>(t(),D(E,{key:I,place:R,hidden:k===0},null,8,["place","hidden"]))),128))]))),128)),a("h3",null,[se(x(o(B).fortunes.toUpperCase())+": ",1),a("span",Pe,x(o(r).length)+x(o(d)?"*":""),1)])],2)):z("",!0)}});const F=h(De,[["__scopeId","data-v-73978171"]]),G="/assets/close-f5d846ec.svg",M="/assets/direction-22e37f0e.svg",K="/assets/knight-f324979a.svg",Z="/assets/ore-bcbc3549.svg",q="/assets/tree-f893f7da.svg",H="/assets/wand-c232b03a.svg",J="/assets/wizard-229bfef3.svg",Se=["id"],Be=["id"],Le=v({__name:"OmenComp",props:{omen:{type:te,default:null}},setup(s){const e=s,n=m(),{getAltarActiveOmens:_,turn:c}=y(n),i=u(()=>e.omen?e.omen.getID():""),r=u(()=>_.value.includes(e.omen)),d=u(()=>r.value&&c.value===N.Collect),b=u(()=>n.getPlayerFortunes(e.omen.player).find(p=>p.includes(e.omen)));j(()=>{U(()=>{g()})});function g(){const p=document.getElementById(`style-${e.omen.getID()}`);if(!p)return;const k=new URL(Object.assign({"../assets/svgs/close.svg":G,"../assets/svgs/direction.svg":M,"../assets/svgs/knight.svg":K,"../assets/svgs/ore.svg":Z,"../assets/svgs/tree.svg":q,"../assets/svgs/wand.svg":H,"../assets/svgs/wizard.svg":J})[`../assets/svgs/${e.omen.getImage()}.svg`],self.location).href;p.style.backgroundImage=`url(${k})`,p.classList.add(`${e.omen.getColor()}-background`),p.classList.add(`${e.omen.getColor()}-border`)}function w(){d.value&&n.selectOmen(e.omen)}return(p,k)=>(t(),l("div",{id:i.value,class:C(["container shadow flex-column-center",b.value?"fortune":""])},[a("div",{class:C(["omen",[r.value?"active":"",d.value?"enabled":""]]),onClick:w},[a("div",{id:`style-${i.value}`,class:"icon"},null,8,Be)],2)],10,Se))}});const Te=h(Le,[["__scopeId","data-v-162db744"]]),Ee="/assets/flame-e9cdbf27.gif",Q=s=>(L("data-v-5a3f6dac"),s=s(),T(),s),Ae=["id"],Re=["id"],Ve=Q(()=>a("div",{class:"mask"},null,-1)),je=[Ve],Fe={key:0,class:"flame"},Ne=Q(()=>a("img",{src:Ee},null,-1)),ze=[Ne],Ue=v({__name:"OfferingComp",props:{offering:{type:ne,default:null},tilted:{type:Boolean,defaut:!1}},setup(s){const e=s,n=m(),{getAltarPortentOfferings:_,getEnabledOfferings:c,getDisabledOfferings:i,getBurnableOfferings:r}=y(n),d=u(()=>e.offering?e.offering.getID():""),b=u(()=>_.value.includes(e.offering)),g=u(()=>c.value.includes(e.offering)),w=u(()=>i.value.includes(e.offering)),p=u(()=>r.value.includes(e.offering));j(()=>{U(()=>{k()})});function k(){const I=document.getElementById(`style-${e.offering.getID()}`);if(!I)return;const V=new URL(Object.assign({"../assets/svgs/close.svg":G,"../assets/svgs/direction.svg":M,"../assets/svgs/knight.svg":K,"../assets/svgs/ore.svg":Z,"../assets/svgs/tree.svg":q,"../assets/svgs/wand.svg":H,"../assets/svgs/wizard.svg":J})[`../assets/svgs/${e.offering.getImage()}.svg`],self.location).href;I.style.maskImage=`url(${V})`,I.style.webkitMaskImage=`url(${V})`,I.classList.add(`${e.offering.getColor()}-background`)}function R(){w.value||g.value&&n.selectOffering(e.offering)}return(I,V)=>(t(),l("div",{id:d.value,class:"container shadow flex-column-center"},[a("div",{class:C(["offering",[b.value&&!p.value?"active":"",g.value?"enabled":"",w.value?"disabled":"",p.value?"burner":"",s.offering.burning?"burning":"",s.offering.selected?"selected":""]]),onClick:R},[a("div",{id:`style-${d.value}`,class:"color"},je,8,Re),s.offering.burning?(t(),l("div",Fe,ze)):z("",!0)],2)],8,Ae))}});const Ge=h(Ue,[["__scopeId","data-v-5a3f6dac"]]),Me={class:"tiles"},Ke=v({__name:"TilesComp",setup(s){const e=m(),{omens:n,offerings:_}=y(e);return(c,i)=>(t(),l("div",Me,[(t(!0),l(O,null,P(o(n),(r,d)=>(t(),D(Te,{key:d,omen:r},null,8,["omen"]))),128)),(t(!0),l(O,null,P(o(_),(r,d)=>(t(),D(Ge,{key:d,offering:r},null,8,["offering"]))),128))]))}});const Ze=h(Ke,[["__scopeId","data-v-b36c8723"]]),A=s=>(L("data-v-db266cff"),s=s(),T(),s),qe={class:"flex-row-spaced window-height"},He=A(()=>a("div",null,null,-1)),Je={class:"flex-column-spaced"},Qe=A(()=>a("div",{class:"margined"},null,-1)),We=A(()=>a("div",{class:"margined"},null,-1)),Xe=A(()=>a("div",null,null,-1)),Ye=v({__name:"GameView",setup(s){const e=m(),{players:n,isCurrentPlayerTurn:_}=y(e);return j(()=>{e.gameStart()}),(c,i)=>(t(),l("main",{class:C(o(_)?"":"not-turn")},[f(oe,{bg:"wood-bg.jpeg"}),a("div",qe,[He,f(F,{player:o(n)[0]},null,8,["player"]),a("div",Je,[f(pe),Qe,f(be),We,f(we)]),f(F,{player:o(n)[1]},null,8,["player"]),Xe]),f(Ze)],2))}});const ss=h(Ye,[["__scopeId","data-v-db266cff"]]);export{ss as default};
