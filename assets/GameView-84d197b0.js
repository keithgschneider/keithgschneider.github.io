import{d as h,P as Z,u as b,s as $,c as o,Z as q,o as n,a as l,n as x,p as A,b as L,e as a,_ as w,f as H,t as I,g as p,F as O,r as D,h as J,i as z,C as Q,S as E,j as B,D as C,T as G,k as m,O as W,l as V,m as M,q as X,B as Y}from"./index-dd011ce9.js";const ee=s=>(A("data-v-c112d9ea"),s=s(),L(),s),se=["id"],te=ee(()=>a("div",{class:"spacing"},null,-1)),ne=[te],oe=h({__name:"PlaceComp",props:{place:{type:Z,default:null},hidden:{type:Boolean,defau:!1}},setup(s){const e=s,t=b(),{altar:_,getSelectedOfferings:c}=$(t),d=o(()=>e.place?e.place.getID():""),i=o(()=>{var u;return(u=_.value)==null?void 0:u.getOpenPlaces().includes(e.place)}),r=o(()=>c.value.length&&i.value),v=o(()=>{var u;return((u=e.place)==null?void 0:u.zone)!==q.Altar});function g(){r.value&&t.selectPlace(e.place)}return(u,P)=>{var k;return n(),l("div",{id:d.value,class:x(["place",[(k=e.place)==null?void 0:k.type,s.hidden?"invisible":"",r.value?"enabled":"",v.value?"spread":""]]),onClick:g},ne,10,se)}}});const F=w(oe,[["__scopeId","data-v-c112d9ea"]]),ae=s=>(A("data-v-73f8adba"),s=s(),L(),s),le=ae(()=>a("br",null,null,-1)),ce={key:0},ie={key:1},re={class:"digits padded"},_e=h({__name:"PlayerComp",props:{player:{type:H,default:null}},setup(s){const e=s,t=b(),{getTurnPhaseString:_,getCurrentPlayerTurn:c}=$(t),d=o(()=>e.player?e.player.getRows():[]),i=o(()=>t.getPlayerFortunes(e.player.id)),r=Q.fortuneMajor,v=o(()=>i.value.find(u=>u.length===r)),g=o(()=>e.player.turn&&c.value);return(u,P)=>s.player?(n(),l("div",{key:0,class:x(["player flex-column-center",g.value?"turn":""])},[a("h2",null,I(p(E).player)+" "+I(s.player.id),1),le,s.player.turn?(n(),l("h3",ce,I(p(_)),1)):(n(),l("p",ie,I(p(E).waiting),1)),(n(!0),l(O,null,D(d.value,(k,S)=>(n(),l("div",{key:S,class:"flex-row-center"},[(n(!0),l(O,null,D(k,(f,y)=>(n(),B(F,{key:y,place:f,hidden:S===0},null,8,["place","hidden"]))),128))]))),128)),a("h3",null,[J(I(p(E).fortunes.toUpperCase())+": ",1),a("span",re,I(i.value.length)+I(v.value?"*":""),1)])],2)):z("",!0)}});const U=w(_e,[["__scopeId","data-v-73f8adba"]]),de={class:"limbo margined flex-column-center"},ue={class:"flex-row-center"},pe=h({__name:"LimboComp",setup(s){const e=b(),{limbo:t}=$(e),_=o(()=>{var c;return(c=t.value)==null?void 0:c.getRow()});return(c,d)=>(n(),l("div",de,[a("div",ue,[(n(!0),l(O,null,D(_.value,(i,r)=>(n(),B(F,{key:r,place:i,hidden:""},null,8,["place"]))),128))])]))}}),fe="/assets/direction-22e37f0e.svg",ve=["alt"],ge=h({__name:"DirectionComp",props:{dir:{type:Number,default:C.None}},setup(s){const e=s,t=b(),{turn:_,getEnabledDirections:c}=$(t),d=o(()=>_.value===G.Push),i=o(()=>c.value.includes(e.dir)),r=o(()=>e.dir===C.Up?"up":e.dir===C.Right?"right":e.dir===C.Down?"down":e.dir===C.Left?"left":"");function v(){i.value&&t.pushOfferings(e.dir)}return(g,u)=>(n(),l("div",{class:x(["margined",d.value?"":"invisible"])},[a("button",{class:x(["shadow",i.value?"enabled":"disabled"]),onClick:v},[a("img",{src:fe,alt:r.value,class:x(r.value)},null,10,ve)],2)],2))}});const T=w(ge,[["__scopeId","data-v-4d41f646"]]),me={class:"flex-row-center"},ye={class:"flex-column-center"},he={class:"altar flex-column-center"},be=h({__name:"AltarComp",setup(s){const e=b(),{altar:t}=$(e),_=o(()=>{var c;return(c=t.value)==null?void 0:c.getRows()});return(c,d)=>(n(),l("div",me,[m(T,{dir:p(C).Left},null,8,["dir"]),a("div",ye,[m(T,{dir:p(C).Up},null,8,["dir"]),a("div",he,[(n(!0),l(O,null,D(_.value,(i,r)=>(n(),l("div",{key:r,class:"flex-row-center"},[(n(!0),l(O,null,D(i,(v,g)=>(n(),B(F,{key:g,place:v},null,8,["place"]))),128))]))),128))]),m(T,{dir:p(C).Down},null,8,["dir"])]),m(T,{dir:p(C).Right},null,8,["dir"])]))}});const $e=w(be,[["__scopeId","data-v-0d49d5ba"]]),Ce={class:"kitty margined padded flex-column-center"},xe=h({__name:"KittyComp",setup(s){const e=b(),{kitty:t}=$(e);return(_,c)=>{var d;return n(),l("div",Ce,[a("h2",null,I(p(E).kitty),1),m(F,{place:(d=p(t))==null?void 0:d.place,hidden:""},null,8,["place"])])}}});const we=w(xe,[["__scopeId","data-v-ea9b8f41"]]),ke="/assets/close-f5d846ec.svg",Ie="/assets/direction-22e37f0e.svg",Oe="/assets/knight-f324979a.svg",De="/assets/ore-bcbc3549.svg",Pe="/assets/tree-f893f7da.svg",Se="/assets/wand-c232b03a.svg",Be="/assets/wizard-229bfef3.svg",Te=["id"],Ee=["id"],Ae=h({__name:"OmenComp",props:{omen:{type:W,default:null}},setup(s){const e=s,t=b(),{getAltarActiveOmens:_,turn:c}=$(t),d=o(()=>e.omen?e.omen.getID():""),i=o(()=>t.playerForID(e.omen.player)),r=o(()=>t.getPlayerFortunes(e.omen.player)),v=o(()=>_.value.includes(e.omen)),g=o(()=>v.value&&c.value===G.Collect),u=o(()=>{var f;return i.value&&!((f=i.value)!=null&&f.turn)}),P=o(()=>r.value.find(f=>f.includes(e.omen)));V(()=>{M(()=>{k()})});function k(){const f=document.getElementById(`style-${e.omen.getID()}`);if(!f)return;const y=new URL(Object.assign({"../assets/svgs/close.svg":ke,"../assets/svgs/direction.svg":Ie,"../assets/svgs/knight.svg":Oe,"../assets/svgs/ore.svg":De,"../assets/svgs/tree.svg":Pe,"../assets/svgs/wand.svg":Se,"../assets/svgs/wizard.svg":Be})[`../assets/svgs/${e.omen.getImage()}.svg`],self.location).href;f.style.backgroundImage=`url(${y})`,f.classList.add(`${e.omen.getColor()}-background`),f.classList.add(`${e.omen.getColor()}-border`)}function S(){g.value&&t.selectOmen(e.omen)}return(f,y)=>(n(),l("div",{id:d.value,class:x(["container shadow flex-column-center",P.value?"fortune":""])},[a("div",{class:x(["omen",v.value?"active":"",g.value?"enabled":"",u.value?"disabled":""]),onClick:S},[a("div",{id:`style-${d.value}`,class:"icon"},null,8,Ee)],2)],10,Te))}});const Le=w(Ae,[["__scopeId","data-v-e27644bc"]]),Fe="/assets/flame-e9cdbf27.gif",K=s=>(A("data-v-1fa1086b"),s=s(),L(),s),Re=["id"],Ve=["id"],je=K(()=>a("div",{class:"mask"},null,-1)),Ne=[je],Ue={key:0,class:"flame"},ze=K(()=>a("img",{src:Fe,alt:"burning"},null,-1)),Ge=[ze],Me=h({__name:"OfferingComp",props:{offering:{type:X,default:null},tilted:{type:Boolean,defaut:!1}},setup(s){const e=s,t=b(),{getAltarPortentOfferings:_,getEnabledOfferings:c,getDisabledOfferings:d,getBurnableOfferings:i}=$(t),r=o(()=>e.offering?e.offering.getID():""),v=o(()=>_.value.includes(e.offering)),g=o(()=>c.value.includes(e.offering)),u=o(()=>d.value.includes(e.offering)),P=o(()=>i.value.includes(e.offering)),k=o(()=>v.value&&!P.value);V(()=>{M(()=>{S()})});function S(){const y=document.getElementById(`style-${e.offering.getID()}`);if(!y)return;const j=`../assets/svgs/${e.offering.getImage()}.svg`,N=new URL(j,import.meta.url).href;y.style.maskImage=`url(${N})`,y.style.webkitMaskImage=`url(${N})`,y.classList.add(`${e.offering.getColor()}-background`)}function f(){u.value||g.value&&t.selectOffering(e.offering)}return(y,j)=>(n(),l("div",{id:r.value,class:"container shadow flex-column-center"},[a("div",{class:x(["offering",[k.value?"active":"",g.value?"enabled":"",u.value?"disabled":"",P.value?"burner":"",s.offering.burning?"burning":"",s.offering.selected?"selected":""]]),onClick:f},[a("div",{id:`style-${r.value}`,class:"color"},Ne,8,Ve),s.offering.burning?(n(),l("div",Ue,Ge)):z("",!0)],2)],8,Re))}});const Ke=w(Me,[["__scopeId","data-v-1fa1086b"]]),Ze={class:"tiles"},qe=h({__name:"TilesComp",setup(s){const e=b(),{omens:t,offerings:_}=$(e);return(c,d)=>(n(),l("div",Ze,[(n(!0),l(O,null,D(p(t),(i,r)=>(n(),B(Le,{key:r,omen:i},null,8,["omen"]))),128)),(n(!0),l(O,null,D(p(_),(i,r)=>(n(),B(Ke,{key:r,offering:i},null,8,["offering"]))),128))]))}});const He=w(qe,[["__scopeId","data-v-9a8c39f4"]]),R=s=>(A("data-v-2df7b374"),s=s(),L(),s),Je={class:"flex-row-spaced window-height"},Qe=R(()=>a("div",null,null,-1)),We={class:"flex-column-spaced"},Xe=R(()=>a("div",{class:"margined"},null,-1)),Ye=R(()=>a("div",{class:"margined"},null,-1)),es=R(()=>a("div",null,null,-1)),ss=h({__name:"GameView",setup(s){const e=b(),{players:t,getCurrentPlayerTurn:_}=$(e);return V(()=>{e.gameStart()}),(c,d)=>(n(),l("main",{class:x(p(_)?"":"waiting")},[m(Y,{bg:"game.jpeg"}),a("div",Je,[Qe,m(U,{player:p(t)[0]},null,8,["player"]),a("div",We,[m(pe),Xe,m($e),Ye,m(we)]),m(U,{player:p(t)[1]},null,8,["player"]),es]),m(He)],2))}});const ns=w(ss,[["__scopeId","data-v-2df7b374"]]);export{ns as default};
