var gl=Object.defineProperty;var ml=(e,t,s)=>t in e?gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var m=(e,t,s)=>(ml(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};Array.prototype.shuffle=function(){return this.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e)};String.prototype.toCapitalized=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.toEachCapitalized=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")};Number.prototype.roll=function(){return Math.floor(this*Math.random())+1};Number.prototype.chance=function(){const e=this;return e<Math.floor(Math.random()*100)+1?0:e};function Xi(e,t){const s=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)s[n[i]]=!0;return t?i=>!!s[i.toLowerCase()]:i=>!!s[i]}const fe={},Wt=[],Qe=()=>{},_l=()=>!1,vl=/^on[^a-z]/,on=e=>vl.test(e),Zi=e=>e.startsWith("onUpdate:"),_e=Object.assign,er=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},yl=Object.prototype.hasOwnProperty,te=(e,t)=>yl.call(e,t),V=Array.isArray,Gt=e=>an(e)==="[object Map]",Ro=e=>an(e)==="[object Set]",z=e=>typeof e=="function",Te=e=>typeof e=="string",tr=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",Do=e=>ce(e)&&z(e.then)&&z(e.catch),Mo=Object.prototype.toString,an=e=>Mo.call(e),bl=e=>an(e).slice(8,-1),Bo=e=>an(e)==="[object Object]",sr=e=>Te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vs=Xi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ln=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},wl=/-(\w)/g,Xt=ln(e=>e.replace(wl,(t,s)=>s?s.toUpperCase():"")),Tl=/\B([A-Z])/g,ts=ln(e=>e.replace(Tl,"-$1").toLowerCase()),Fo=ln(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ti=ln(e=>e?`on${Fo(e)}`:""),vs=(e,t)=>!Object.is(e,t),xi=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Js=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},xl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Al=e=>{const t=Te(e)?Number(e):NaN;return isNaN(t)?e:t};let $r;const Ri=()=>$r||($r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cn(e){if(V(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Te(n)?kl(n):cn(n);if(i)for(const r in i)t[r]=i[r]}return t}else{if(Te(e))return e;if(ce(e))return e}}const Cl=/;(?![^(]*\))/g,Sl=/:([^]+)/,El=/\/\*[^]*?\*\//g;function kl(e){const t={};return e.replace(El,"").split(Cl).forEach(s=>{if(s){const n=s.split(Sl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ne(e){let t="";if(Te(e))t=e;else if(V(e))for(let s=0;s<e.length;s++){const n=ne(e[s]);n&&(t+=n+" ")}else if(ce(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Pl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ol=Xi(Pl);function Lo(e){return!!e||e===""}const D=e=>Te(e)?e:e==null?"":V(e)||ce(e)&&(e.toString===Mo||!z(e.toString))?JSON.stringify(e,Uo,2):String(e),Uo=(e,t)=>t&&t.__v_isRef?Uo(e,t.value):Gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i])=>(s[`${n} =>`]=i,s),{})}:Ro(t)?{[`Set(${t.size})`]:[...t.values()]}:ce(t)&&!V(t)&&!Bo(t)?String(t):t;let Ue;class No{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ue,!t&&Ue&&(this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Ue;try{return Ue=this,t()}finally{Ue=s}}}on(){Ue=this}off(){Ue=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function jo(e){return new No(e)}function Il(e,t=Ue){t&&t.active&&t.effects.push(e)}function Ho(){return Ue}function $l(e){Ue&&Ue.cleanups.push(e)}const nr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Vo=e=>(e.w&Ct)>0,qo=e=>(e.n&Ct)>0,Rl=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ct},Dl=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const i=t[n];Vo(i)&&!qo(i)?i.delete(e):t[s++]=i,i.w&=~Ct,i.n&=~Ct}t.length=s}},Qs=new WeakMap;let us=0,Ct=1;const Di=30;let Ye;const Ft=Symbol(""),Mi=Symbol("");class ir{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Il(this,n)}run(){if(!this.active)return this.fn();let t=Ye,s=xt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ye,Ye=this,xt=!0,Ct=1<<++us,us<=Di?Rl(this):Rr(this),this.fn()}finally{us<=Di&&Dl(this),Ct=1<<--us,Ye=this.parent,xt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ye===this?this.deferStop=!0:this.active&&(Rr(this),this.onStop&&this.onStop(),this.active=!1)}}function Rr(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let xt=!0;const Ko=[];function ss(){Ko.push(xt),xt=!1}function ns(){const e=Ko.pop();xt=e===void 0?!0:e}function Be(e,t,s){if(xt&&Ye){let n=Qs.get(e);n||Qs.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=nr()),zo(i)}}function zo(e,t){let s=!1;us<=Di?qo(e)||(e.n|=Ct,s=!Vo(e)):s=!e.has(Ye),s&&(e.add(Ye),Ye.deps.push(e))}function gt(e,t,s,n,i,r){const o=Qs.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(s==="length"&&V(e)){const l=Number(n);o.forEach((c,d)=>{(d==="length"||d>=l)&&a.push(c)})}else switch(s!==void 0&&a.push(o.get(s)),t){case"add":V(e)?sr(s)&&a.push(o.get("length")):(a.push(o.get(Ft)),Gt(e)&&a.push(o.get(Mi)));break;case"delete":V(e)||(a.push(o.get(Ft)),Gt(e)&&a.push(o.get(Mi)));break;case"set":Gt(e)&&a.push(o.get(Ft));break}if(a.length===1)a[0]&&Bi(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Bi(nr(l))}}function Bi(e,t){const s=V(e)?e:[...e];for(const n of s)n.computed&&Dr(n);for(const n of s)n.computed||Dr(n)}function Dr(e,t){(e!==Ye||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Ml(e,t){var s;return(s=Qs.get(e))==null?void 0:s.get(t)}const Bl=Xi("__proto__,__v_isRef,__isVue"),Wo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tr)),Fl=rr(),Ll=rr(!1,!0),Ul=rr(!0),Mr=Nl();function Nl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=X(this);for(let r=0,o=this.length;r<o;r++)Be(n,"get",r+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(X)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){ss();const n=X(this)[t].apply(this,s);return ns(),n}}),e}function jl(e){const t=X(this);return Be(t,"has",e),t.hasOwnProperty(e)}function rr(e=!1,t=!1){return function(n,i,r){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&r===(e?t?nc:Xo:t?Qo:Jo).get(n))return n;const o=V(n);if(!e){if(o&&te(Mr,i))return Reflect.get(Mr,i,r);if(i==="hasOwnProperty")return jl}const a=Reflect.get(n,i,r);return(tr(i)?Wo.has(i):Bl(i))||(e||Be(n,"get",i),t)?a:pe(a)?o&&sr(i)?a:a.value:ce(a)?e?Zo(a):dn(a):a}}const Hl=Go(),Vl=Go(!0);function Go(e=!1){return function(s,n,i,r){let o=s[n];if(Zt(o)&&pe(o)&&!pe(i))return!1;if(!e&&(!Xs(i)&&!Zt(i)&&(o=X(o),i=X(i)),!V(s)&&pe(o)&&!pe(i)))return o.value=i,!0;const a=V(s)&&sr(n)?Number(n)<s.length:te(s,n),l=Reflect.set(s,n,i,r);return s===X(r)&&(a?vs(i,o)&&gt(s,"set",n,i):gt(s,"add",n,i)),l}}function ql(e,t){const s=te(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&s&&gt(e,"delete",t,void 0),n}function Kl(e,t){const s=Reflect.has(e,t);return(!tr(t)||!Wo.has(t))&&Be(e,"has",t),s}function zl(e){return Be(e,"iterate",V(e)?"length":Ft),Reflect.ownKeys(e)}const Yo={get:Fl,set:Hl,deleteProperty:ql,has:Kl,ownKeys:zl},Wl={get:Ul,set(e,t){return!0},deleteProperty(e,t){return!0}},Gl=_e({},Yo,{get:Ll,set:Vl}),or=e=>e,un=e=>Reflect.getPrototypeOf(e);function $s(e,t,s=!1,n=!1){e=e.__v_raw;const i=X(e),r=X(t);s||(t!==r&&Be(i,"get",t),Be(i,"get",r));const{has:o}=un(i),a=n?or:s?cr:ys;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function Rs(e,t=!1){const s=this.__v_raw,n=X(s),i=X(e);return t||(e!==i&&Be(n,"has",e),Be(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function Ds(e,t=!1){return e=e.__v_raw,!t&&Be(X(e),"iterate",Ft),Reflect.get(e,"size",e)}function Br(e){e=X(e);const t=X(this);return un(t).has.call(t,e)||(t.add(e),gt(t,"add",e,e)),this}function Fr(e,t){t=X(t);const s=X(this),{has:n,get:i}=un(s);let r=n.call(s,e);r||(e=X(e),r=n.call(s,e));const o=i.call(s,e);return s.set(e,t),r?vs(t,o)&&gt(s,"set",e,t):gt(s,"add",e,t),this}function Lr(e){const t=X(this),{has:s,get:n}=un(t);let i=s.call(t,e);i||(e=X(e),i=s.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return i&&gt(t,"delete",e,void 0),r}function Ur(){const e=X(this),t=e.size!==0,s=e.clear();return t&&gt(e,"clear",void 0,void 0),s}function Ms(e,t){return function(n,i){const r=this,o=r.__v_raw,a=X(o),l=t?or:e?cr:ys;return!e&&Be(a,"iterate",Ft),o.forEach((c,d)=>n.call(i,l(c),l(d),r))}}function Bs(e,t,s){return function(...n){const i=this.__v_raw,r=X(i),o=Gt(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...n),d=s?or:t?cr:ys;return!t&&Be(r,"iterate",l?Mi:Ft),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:a?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function _t(e){return function(...t){return e==="delete"?!1:this}}function Yl(){const e={get(r){return $s(this,r)},get size(){return Ds(this)},has:Rs,add:Br,set:Fr,delete:Lr,clear:Ur,forEach:Ms(!1,!1)},t={get(r){return $s(this,r,!1,!0)},get size(){return Ds(this)},has:Rs,add:Br,set:Fr,delete:Lr,clear:Ur,forEach:Ms(!1,!0)},s={get(r){return $s(this,r,!0)},get size(){return Ds(this,!0)},has(r){return Rs.call(this,r,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:Ms(!0,!1)},n={get(r){return $s(this,r,!0,!0)},get size(){return Ds(this,!0)},has(r){return Rs.call(this,r,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:Ms(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Bs(r,!1,!1),s[r]=Bs(r,!0,!1),t[r]=Bs(r,!1,!0),n[r]=Bs(r,!0,!0)}),[e,s,t,n]}const[Jl,Ql,Xl,Zl]=Yl();function ar(e,t){const s=t?e?Zl:Xl:e?Ql:Jl;return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(te(s,i)&&i in n?s:n,i,r)}const ec={get:ar(!1,!1)},tc={get:ar(!1,!0)},sc={get:ar(!0,!1)},Jo=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,nc=new WeakMap;function ic(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function rc(e){return e.__v_skip||!Object.isExtensible(e)?0:ic(bl(e))}function dn(e){return Zt(e)?e:lr(e,!1,Yo,ec,Jo)}function oc(e){return lr(e,!1,Gl,tc,Qo)}function Zo(e){return lr(e,!0,Wl,sc,Xo)}function lr(e,t,s,n,i){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=rc(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function ht(e){return Zt(e)?ht(e.__v_raw):!!(e&&e.__v_isReactive)}function Zt(e){return!!(e&&e.__v_isReadonly)}function Xs(e){return!!(e&&e.__v_isShallow)}function ea(e){return ht(e)||Zt(e)}function X(e){const t=e&&e.__v_raw;return t?X(t):e}function fn(e){return Js(e,"__v_skip",!0),e}const ys=e=>ce(e)?dn(e):e,cr=e=>ce(e)?Zo(e):e;function ta(e){xt&&Ye&&(e=X(e),zo(e.dep||(e.dep=nr())))}function sa(e,t){e=X(e);const s=e.dep;s&&Bi(s)}function pe(e){return!!(e&&e.__v_isRef===!0)}function Ne(e){return ac(e,!1)}function ac(e,t){return pe(e)?e:new lc(e,t)}class lc{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:X(t),this._value=s?t:ys(t)}get value(){return ta(this),this._value}set value(t){const s=this.__v_isShallow||Xs(t)||Zt(t);t=s?t:X(t),vs(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:ys(t),sa(this))}}function v(e){return pe(e)?e.value:e}const cc={get:(e,t,s)=>v(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return pe(i)&&!pe(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function na(e){return ht(e)?e:new Proxy(e,cc)}function uc(e){const t=V(e)?new Array(e.length):{};for(const s in e)t[s]=ia(e,s);return t}class dc{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ml(X(this._object),this._key)}}class fc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function hc(e,t,s){return pe(e)?e:z(e)?new fc(e):ce(e)&&arguments.length>1?ia(e,t,s):Ne(e)}function ia(e,t,s){const n=e[t];return pe(n)?n:new dc(e,t,s)}class pc{constructor(t,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ir(t,()=>{this._dirty||(this._dirty=!0,sa(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=X(this);return ta(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function gc(e,t,s=!1){let n,i;const r=z(e);return r?(n=e,i=Qe):(n=e.get,i=e.set),new pc(n,i,r||!i,s)}function At(e,t,s,n){let i;try{i=n?e(...n):e()}catch(r){hn(r,t,s)}return i}function Ve(e,t,s,n){if(z(e)){const r=At(e,t,s,n);return r&&Do(r)&&r.catch(o=>{hn(o,t,s)}),r}const i=[];for(let r=0;r<e.length;r++)i.push(Ve(e[r],t,s,n));return i}function hn(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=s;for(;r;){const c=r.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){At(l,null,10,[e,o,a]);return}}mc(e,s,i,n)}function mc(e,t,s,n=!0){console.error(e)}let bs=!1,Fi=!1;const Oe=[];let it=0;const Yt=[];let ft=null,Rt=0;const ra=Promise.resolve();let ur=null;function qe(e){const t=ur||ra;return e?t.then(this?e.bind(this):e):t}function _c(e){let t=it+1,s=Oe.length;for(;t<s;){const n=t+s>>>1;ws(Oe[n])<e?t=n+1:s=n}return t}function dr(e){(!Oe.length||!Oe.includes(e,bs&&e.allowRecurse?it+1:it))&&(e.id==null?Oe.push(e):Oe.splice(_c(e.id),0,e),oa())}function oa(){!bs&&!Fi&&(Fi=!0,ur=ra.then(la))}function vc(e){const t=Oe.indexOf(e);t>it&&Oe.splice(t,1)}function yc(e){V(e)?Yt.push(...e):(!ft||!ft.includes(e,e.allowRecurse?Rt+1:Rt))&&Yt.push(e),oa()}function Nr(e,t=bs?it+1:0){for(;t<Oe.length;t++){const s=Oe[t];s&&s.pre&&(Oe.splice(t,1),t--,s())}}function aa(e){if(Yt.length){const t=[...new Set(Yt)];if(Yt.length=0,ft){ft.push(...t);return}for(ft=t,ft.sort((s,n)=>ws(s)-ws(n)),Rt=0;Rt<ft.length;Rt++)ft[Rt]();ft=null,Rt=0}}const ws=e=>e.id==null?1/0:e.id,bc=(e,t)=>{const s=ws(e)-ws(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function la(e){Fi=!1,bs=!0,Oe.sort(bc);const t=Qe;try{for(it=0;it<Oe.length;it++){const s=Oe[it];s&&s.active!==!1&&At(s,null,14)}}finally{it=0,Oe.length=0,aa(),bs=!1,ur=null,(Oe.length||Yt.length)&&la()}}function wc(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||fe;let i=s;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:p}=n[d]||fe;p&&(i=s.map(_=>Te(_)?_.trim():_)),f&&(i=s.map(xl))}let a,l=n[a=Ti(t)]||n[a=Ti(Xt(t))];!l&&r&&(l=n[a=Ti(ts(t))]),l&&Ve(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ve(c,e,6,i)}}function ca(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!z(e)){const l=c=>{const d=ca(c,t,!0);d&&(a=!0,_e(o,d))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ce(e)&&n.set(e,null),null):(V(r)?r.forEach(l=>o[l]=null):_e(o,r),ce(e)&&n.set(e,o),o)}function pn(e,t){return!e||!on(t)?!1:(t=t.slice(2).replace(/Once$/,""),te(e,t[0].toLowerCase()+t.slice(1))||te(e,ts(t))||te(e,t))}let Ee=null,gn=null;function Zs(e){const t=Ee;return Ee=e,gn=e&&e.type.__scopeId||null,t}function at(e){gn=e}function lt(){gn=null}function Et(e,t=Ee,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Qr(-1);const r=Zs(t);let o;try{o=e(...i)}finally{Zs(r),n._d&&Qr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ai(e){const{type:t,vnode:s,proxy:n,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:d,renderCache:f,data:p,setupState:_,ctx:b,inheritAttrs:T}=e;let M,I;const U=Zs(e);try{if(s.shapeFlag&4){const P=i||n;M=nt(d.call(P,P,f,r,_,p,b)),I=l}else{const P=t;M=nt(P.length>1?P(r,{attrs:l,slots:a,emit:c}):P(r,null)),I=t.props?l:Tc(l)}}catch(P){ms.length=0,hn(P,e,1),M=Y(Ke)}let R=M;if(I&&T!==!1){const P=Object.keys(I),{shapeFlag:W}=R;P.length&&W&7&&(o&&P.some(Zi)&&(I=xc(I,o)),R=St(R,I))}return s.dirs&&(R=St(R),R.dirs=R.dirs?R.dirs.concat(s.dirs):s.dirs),s.transition&&(R.transition=s.transition),M=R,Zs(U),M}const Tc=e=>{let t;for(const s in e)(s==="class"||s==="style"||on(s))&&((t||(t={}))[s]=e[s]);return t},xc=(e,t)=>{const s={};for(const n in e)(!Zi(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Ac(e,t,s){const{props:n,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?jr(n,o,c):!!o;if(l&8){const d=t.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(o[p]!==n[p]&&!pn(c,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?jr(n,o,c):!0:!!o;return!1}function jr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!pn(s,r))return!0}return!1}function Cc({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const Sc=e=>e.__isSuspense;function Ec(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):yc(e)}const Fs={};function ke(e,t,s){return ua(e,t,s)}function ua(e,t,{immediate:s,deep:n,flush:i,onTrack:r,onTrigger:o}=fe){var a;const l=Ho()===((a=Ce)==null?void 0:a.scope)?Ce:null;let c,d=!1,f=!1;if(pe(e)?(c=()=>e.value,d=Xs(e)):ht(e)?(c=()=>e,n=!0):V(e)?(f=!0,d=e.some(P=>ht(P)||Xs(P)),c=()=>e.map(P=>{if(pe(P))return P.value;if(ht(P))return Bt(P);if(z(P))return At(P,l,2)})):z(e)?t?c=()=>At(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return p&&p(),Ve(e,l,3,[_])}:c=Qe,t&&n){const P=c;c=()=>Bt(P())}let p,_=P=>{p=U.onStop=()=>{At(P,l,4)}},b;if(Ss)if(_=Qe,t?s&&Ve(t,l,3,[c(),f?[]:void 0,_]):c(),i==="sync"){const P=Tu();b=P.__watcherHandles||(P.__watcherHandles=[])}else return Qe;let T=f?new Array(e.length).fill(Fs):Fs;const M=()=>{if(U.active)if(t){const P=U.run();(n||d||(f?P.some((W,Fe)=>vs(W,T[Fe])):vs(P,T)))&&(p&&p(),Ve(t,l,3,[P,T===Fs?void 0:f&&T[0]===Fs?[]:T,_]),T=P)}else U.run()};M.allowRecurse=!!t;let I;i==="sync"?I=M:i==="post"?I=()=>De(M,l&&l.suspense):(M.pre=!0,l&&(M.id=l.uid),I=()=>dr(M));const U=new ir(c,I);t?s?M():T=U.run():i==="post"?De(U.run.bind(U),l&&l.suspense):U.run();const R=()=>{U.stop(),l&&l.scope&&er(l.scope.effects,U)};return b&&b.push(R),R}function kc(e,t,s){const n=this.proxy,i=Te(e)?e.includes(".")?da(n,e):()=>n[e]:e.bind(n,n);let r;z(t)?r=t:(r=t.handler,s=t);const o=Ce;es(this);const a=ua(i,r.bind(n),s);return o?es(o):Lt(),a}function da(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function Bt(e,t){if(!ce(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pe(e))Bt(e.value,t);else if(V(e))for(let s=0;s<e.length;s++)Bt(e[s],t);else if(Ro(e)||Gt(e))e.forEach(s=>{Bt(s,t)});else if(Bo(e))for(const s in e)Bt(e[s],t);return e}function fa(e,t){const s=Ee;if(s===null)return e;const n=bn(s)||s.proxy,i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=fe]=t[r];o&&(z(o)&&(o={mounted:o,updated:o}),o.deep&&Bt(a),i.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Ot(e,t,s,n){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(ss(),Ve(l,s,8,[e.el,a,e,t]),ns())}}function ha(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xe(()=>{e.isMounted=!0}),is(()=>{e.isUnmounting=!0}),e}const je=[Function,Array],pa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:je,onEnter:je,onAfterEnter:je,onEnterCancelled:je,onBeforeLeave:je,onLeave:je,onAfterLeave:je,onLeaveCancelled:je,onBeforeAppear:je,onAppear:je,onAfterAppear:je,onAppearCancelled:je},Pc={name:"BaseTransition",props:pa,setup(e,{slots:t}){const s=Oa(),n=ha();let i;return()=>{const r=t.default&&fr(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const T of r)if(T.type!==Ke){o=T;break}}const a=X(e),{mode:l}=a;if(n.isLeaving)return Ci(o);const c=Hr(o);if(!c)return Ci(o);const d=Ts(c,a,n,s);xs(c,d);const f=s.subTree,p=f&&Hr(f);let _=!1;const{getTransitionKey:b}=c.type;if(b){const T=b();i===void 0?i=T:T!==i&&(i=T,_=!0)}if(p&&p.type!==Ke&&(!Dt(c,p)||_)){const T=Ts(p,a,n,s);if(xs(p,T),l==="out-in")return n.isLeaving=!0,T.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&s.update()},Ci(o);l==="in-out"&&c.type!==Ke&&(T.delayLeave=(M,I,U)=>{const R=ga(n,p);R[String(p.key)]=p,M._leaveCb=()=>{I(),M._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=U})}return o}}},Oc=Pc;function ga(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Ts(e,t,s,n){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:_,onLeaveCancelled:b,onBeforeAppear:T,onAppear:M,onAfterAppear:I,onAppearCancelled:U}=t,R=String(e.key),P=ga(s,e),W=(B,H)=>{B&&Ve(B,n,9,H)},Fe=(B,H)=>{const J=H[1];W(B,H),V(B)?B.every(he=>he.length<=1)&&J():B.length<=1&&J()},Pe={mode:r,persisted:o,beforeEnter(B){let H=a;if(!s.isMounted)if(i)H=T||a;else return;B._leaveCb&&B._leaveCb(!0);const J=P[R];J&&Dt(e,J)&&J.el._leaveCb&&J.el._leaveCb(),W(H,[B])},enter(B){let H=l,J=c,he=d;if(!s.isMounted)if(i)H=M||l,J=I||c,he=U||d;else return;let F=!1;const ue=B._enterCb=Ie=>{F||(F=!0,Ie?W(he,[B]):W(J,[B]),Pe.delayedLeave&&Pe.delayedLeave(),B._enterCb=void 0)};H?Fe(H,[B,ue]):ue()},leave(B,H){const J=String(e.key);if(B._enterCb&&B._enterCb(!0),s.isUnmounting)return H();W(f,[B]);let he=!1;const F=B._leaveCb=ue=>{he||(he=!0,H(),ue?W(b,[B]):W(_,[B]),B._leaveCb=void 0,P[J]===e&&delete P[J])};P[J]=e,p?Fe(p,[B,F]):F()},clone(B){return Ts(B,t,s,n)}};return Pe}function Ci(e){if(mn(e))return e=St(e),e.children=null,e}function Hr(e){return mn(e)?e.children?e.children[0]:void 0:e}function xs(e,t){e.shapeFlag&6&&e.component?xs(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fr(e,t=!1,s){let n=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===se?(o.patchFlag&128&&i++,n=n.concat(fr(o.children,t,a))):(t||o.type!==Ke)&&n.push(a!=null?St(o,{key:a}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function me(e,t){return z(e)?(()=>_e({name:e.name},t,{setup:e}))():e}const hs=e=>!!e.type.__asyncLoader,mn=e=>e.type.__isKeepAlive;function Ic(e,t){ma(e,"a",t)}function $c(e,t){ma(e,"da",t)}function ma(e,t,s=Ce){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(_n(t,n,s),s){let i=s.parent;for(;i&&i.parent;)mn(i.parent.vnode)&&Rc(n,t,s,i),i=i.parent}}function Rc(e,t,s,n){const i=_n(t,e,n,!0);va(()=>{er(n[t],i)},s)}function _n(e,t,s=Ce,n=!1){if(s){const i=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;ss(),es(s);const a=Ve(t,s,e,o);return Lt(),ns(),a});return n?i.unshift(r):i.push(r),r}}const mt=e=>(t,s=Ce)=>(!Ss||e==="sp")&&_n(e,(...n)=>t(...n),s),Dc=mt("bm"),Xe=mt("m"),Mc=mt("bu"),_a=mt("u"),is=mt("bum"),va=mt("um"),Bc=mt("sp"),Fc=mt("rtg"),Lc=mt("rtc");function Uc(e,t=Ce){_n("ec",e,t)}const Nc=Symbol.for("v-ndc");function ye(e,t,s,n){let i;const r=s&&s[n];if(V(e)||Te(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r&&r[o])}else if(ce(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=t(e[c],c,a,r&&r[a])}}else i=[];return s&&(s[n]=i),i}function jc(e,t,s={},n,i){if(Ee.isCE||Ee.parent&&hs(Ee.parent)&&Ee.parent.isCE)return t!=="default"&&(s.name=t),Y("slot",s,n&&n());let r=e[t];r&&r._c&&(r._d=!1),A();const o=r&&ya(r(s)),a=Re(se,{key:s.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function ya(e){return e.some(t=>tn(t)?!(t.type===Ke||t.type===se&&!ya(t.children)):!0)?e:null}const Li=e=>e?Ia(e)?bn(e)||e.proxy:Li(e.parent):null,ps=_e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Li(e.parent),$root:e=>Li(e.root),$emit:e=>e.emit,$options:e=>hr(e),$forceUpdate:e=>e.f||(e.f=()=>dr(e.update)),$nextTick:e=>e.n||(e.n=qe.bind(e.proxy)),$watch:e=>kc.bind(e)}),Si=(e,t)=>e!==fe&&!e.__isScriptSetup&&te(e,t),Hc={get({_:e},t){const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return r[t]}else{if(Si(n,t))return o[t]=1,n[t];if(i!==fe&&te(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&te(c,t))return o[t]=3,r[t];if(s!==fe&&te(s,t))return o[t]=4,s[t];Ui&&(o[t]=0)}}const d=ps[t];let f,p;if(d)return t==="$attrs"&&Be(e,"get",t),d(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==fe&&te(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,te(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:r}=e;return Si(i,t)?(i[t]=s,!0):n!==fe&&te(n,t)?(n[t]=s,!0):te(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:r}},o){let a;return!!s[o]||e!==fe&&te(e,o)||Si(t,o)||(a=r[0])&&te(a,o)||te(n,o)||te(ps,o)||te(i.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:te(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Vr(e){return V(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ui=!0;function Vc(e){const t=hr(e),s=e.proxy,n=e.ctx;Ui=!1,t.beforeCreate&&qr(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:d,beforeMount:f,mounted:p,beforeUpdate:_,updated:b,activated:T,deactivated:M,beforeDestroy:I,beforeUnmount:U,destroyed:R,unmounted:P,render:W,renderTracked:Fe,renderTriggered:Pe,errorCaptured:B,serverPrefetch:H,expose:J,inheritAttrs:he,components:F,directives:ue,filters:Ie}=t;if(c&&qc(c,n,null),o)for(const ge in o){const oe=o[ge];z(oe)&&(n[ge]=oe.bind(s))}if(i){const ge=i.call(s,s);ce(ge)&&(e.data=dn(ge))}if(Ui=!0,r)for(const ge in r){const oe=r[ge],kt=z(oe)?oe.bind(s,s):z(oe.get)?oe.get.bind(s,s):Qe,Os=!z(oe)&&z(oe.set)?oe.set.bind(s):Qe,Pt=le({get:kt,set:Os});Object.defineProperty(n,ge,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:Ze=>Pt.value=Ze})}if(a)for(const ge in a)ba(a[ge],n,s,ge);if(l){const ge=z(l)?l.call(s):l;Reflect.ownKeys(ge).forEach(oe=>{Jc(oe,ge[oe])})}d&&qr(d,e,"c");function ie(ge,oe){V(oe)?oe.forEach(kt=>ge(kt.bind(s))):oe&&ge(oe.bind(s))}if(ie(Dc,f),ie(Xe,p),ie(Mc,_),ie(_a,b),ie(Ic,T),ie($c,M),ie(Uc,B),ie(Lc,Fe),ie(Fc,Pe),ie(is,U),ie(va,P),ie(Bc,H),V(J))if(J.length){const ge=e.exposed||(e.exposed={});J.forEach(oe=>{Object.defineProperty(ge,oe,{get:()=>s[oe],set:kt=>s[oe]=kt})})}else e.exposed||(e.exposed={});W&&e.render===Qe&&(e.render=W),he!=null&&(e.inheritAttrs=he),F&&(e.components=F),ue&&(e.directives=ue)}function qc(e,t,s=Qe){V(e)&&(e=Ni(e));for(const n in e){const i=e[n];let r;ce(i)?"default"in i?r=gs(i.from||n,i.default,!0):r=gs(i.from||n):r=gs(i),pe(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function qr(e,t,s){Ve(V(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function ba(e,t,s,n){const i=n.includes(".")?da(s,n):()=>s[n];if(Te(e)){const r=t[e];z(r)&&ke(i,r)}else if(z(e))ke(i,e.bind(s));else if(ce(e))if(V(e))e.forEach(r=>ba(r,t,s,n));else{const r=z(e.handler)?e.handler.bind(s):t[e.handler];z(r)&&ke(i,r,e)}}function hr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>en(l,c,o,!0)),en(l,t,o)),ce(t)&&r.set(t,l),l}function en(e,t,s,n=!1){const{mixins:i,extends:r}=t;r&&en(e,r,s,!0),i&&i.forEach(o=>en(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=Kc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Kc={data:Kr,props:zr,emits:zr,methods:ds,computed:ds,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:ds,directives:ds,watch:Wc,provide:Kr,inject:zc};function Kr(e,t){return t?e?function(){return _e(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function zc(e,t){return ds(Ni(e),Ni(t))}function Ni(e){if(V(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function ds(e,t){return e?_e(Object.create(null),e,t):t}function zr(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:_e(Object.create(null),Vr(e),Vr(t??{})):t}function Wc(e,t){if(!e)return t;if(!t)return e;const s=_e(Object.create(null),e);for(const n in t)s[n]=$e(e[n],t[n]);return s}function wa(){return{app:null,config:{isNativeTag:_l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gc=0;function Yc(e,t){return function(n,i=null){z(n)||(n=_e({},n)),i!=null&&!ce(i)&&(i=null);const r=wa(),o=new Set;let a=!1;const l=r.app={_uid:Gc++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:xu,get config(){return r.config},set config(c){},use(c,...d){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(l,...d)):z(c)&&(o.add(c),c(l,...d))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,d){return d?(r.components[c]=d,l):r.components[c]},directive(c,d){return d?(r.directives[c]=d,l):r.directives[c]},mount(c,d,f){if(!a){const p=Y(n,i);return p.appContext=r,d&&t?t(p,c):e(p,c,f),a=!0,l._container=c,c.__vue_app__=l,bn(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,d){return r.provides[c]=d,l},runWithContext(c){As=l;try{return c()}finally{As=null}}};return l}}let As=null;function Jc(e,t){if(Ce){let s=Ce.provides;const n=Ce.parent&&Ce.parent.provides;n===s&&(s=Ce.provides=Object.create(n)),s[e]=t}}function gs(e,t,s=!1){const n=Ce||Ee;if(n||As){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:As._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&z(t)?t.call(n&&n.proxy):t}}function Qc(){return!!(Ce||Ee||As)}function Xc(e,t,s,n=!1){const i={},r={};Js(r,yn,1),e.propsDefaults=Object.create(null),Ta(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);s?e.props=n?i:oc(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function Zc(e,t,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=X(i),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=e.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(pn(e.emitsOptions,p))continue;const _=t[p];if(l)if(te(r,p))_!==r[p]&&(r[p]=_,c=!0);else{const b=Xt(p);i[b]=ji(l,a,b,_,e,!1)}else _!==r[p]&&(r[p]=_,c=!0)}}}else{Ta(e,t,i,r)&&(c=!0);let d;for(const f in a)(!t||!te(t,f)&&((d=ts(f))===f||!te(t,d)))&&(l?s&&(s[f]!==void 0||s[d]!==void 0)&&(i[f]=ji(l,a,f,void 0,e,!0)):delete i[f]);if(r!==a)for(const f in r)(!t||!te(t,f))&&(delete r[f],c=!0)}c&&gt(e,"set","$attrs")}function Ta(e,t,s,n){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Vs(l))continue;const c=t[l];let d;i&&te(i,d=Xt(l))?!r||!r.includes(d)?s[d]=c:(a||(a={}))[d]=c:pn(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=X(s),c=a||fe;for(let d=0;d<r.length;d++){const f=r[d];s[f]=ji(i,l,f,c[f],e,!te(c,f))}}return o}function ji(e,t,s,n,i,r){const o=e[s];if(o!=null){const a=te(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:c}=i;s in c?n=c[s]:(es(i),n=c[s]=l.call(null,t),Lt())}else n=l}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===ts(s))&&(n=!0))}return n}function xa(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!z(e)){const d=f=>{l=!0;const[p,_]=xa(f,t,!0);_e(o,p),_&&a.push(..._)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!l)return ce(e)&&n.set(e,Wt),Wt;if(V(r))for(let d=0;d<r.length;d++){const f=Xt(r[d]);Wr(f)&&(o[f]=fe)}else if(r)for(const d in r){const f=Xt(d);if(Wr(f)){const p=r[d],_=o[f]=V(p)||z(p)?{type:p}:_e({},p);if(_){const b=Jr(Boolean,_.type),T=Jr(String,_.type);_[0]=b>-1,_[1]=T<0||b<T,(b>-1||te(_,"default"))&&a.push(f)}}}const c=[o,a];return ce(e)&&n.set(e,c),c}function Wr(e){return e[0]!=="$"}function Gr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Yr(e,t){return Gr(e)===Gr(t)}function Jr(e,t){return V(t)?t.findIndex(s=>Yr(s,e)):z(t)&&Yr(t,e)?0:-1}const Aa=e=>e[0]==="_"||e==="$stable",pr=e=>V(e)?e.map(nt):[nt(e)],eu=(e,t,s)=>{if(t._n)return t;const n=Et((...i)=>pr(t(...i)),s);return n._c=!1,n},Ca=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Aa(i))continue;const r=e[i];if(z(r))t[i]=eu(i,r,n);else if(r!=null){const o=pr(r);t[i]=()=>o}}},Sa=(e,t)=>{const s=pr(t);e.slots.default=()=>s},tu=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=X(t),Js(t,"_",s)):Ca(t,e.slots={})}else e.slots={},t&&Sa(e,t);Js(e.slots,yn,1)},su=(e,t,s)=>{const{vnode:n,slots:i}=e;let r=!0,o=fe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:(_e(i,t),!s&&a===1&&delete i._):(r=!t.$stable,Ca(t,i)),o=t}else t&&(Sa(e,t),o={default:1});if(r)for(const a in i)!Aa(a)&&!(a in o)&&delete i[a]};function Hi(e,t,s,n,i=!1){if(V(e)){e.forEach((p,_)=>Hi(p,t&&(V(t)?t[_]:t),s,n,i));return}if(hs(n)&&!i)return;const r=n.shapeFlag&4?bn(n.component)||n.component.proxy:n.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,d=a.refs===fe?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Te(c)?(d[c]=null,te(f,c)&&(f[c]=null)):pe(c)&&(c.value=null)),z(l))At(l,a,12,[o,d]);else{const p=Te(l),_=pe(l);if(p||_){const b=()=>{if(e.f){const T=p?te(f,l)?f[l]:d[l]:l.value;i?V(T)&&er(T,r):V(T)?T.includes(r)||T.push(r):p?(d[l]=[r],te(f,l)&&(f[l]=d[l])):(l.value=[r],e.k&&(d[e.k]=l.value))}else p?(d[l]=o,te(f,l)&&(f[l]=o)):_&&(l.value=o,e.k&&(d[e.k]=o))};o?(b.id=-1,De(b,s)):b()}}}const De=Ec;function nu(e){return iu(e)}function iu(e,t){const s=Ri();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:d,parentNode:f,nextSibling:p,setScopeId:_=Qe,insertStaticContent:b}=e,T=(u,h,y,x=null,w=null,E=null,$=!1,S=null,O=!!h.dynamicChildren)=>{if(u===h)return;u&&!Dt(u,h)&&(x=Is(u),Ze(u,w,E,!0),u=null),h.patchFlag===-2&&(O=!1,h.dynamicChildren=null);const{type:C,ref:N,shapeFlag:L}=h;switch(C){case vn:M(u,h,y,x);break;case Ke:I(u,h,y,x);break;case qs:u==null&&U(h,y,x,$);break;case se:F(u,h,y,x,w,E,$,S,O);break;default:L&1?W(u,h,y,x,w,E,$,S,O):L&6?ue(u,h,y,x,w,E,$,S,O):(L&64||L&128)&&C.process(u,h,y,x,w,E,$,S,O,Nt)}N!=null&&w&&Hi(N,u&&u.ref,E,h||u,!h)},M=(u,h,y,x)=>{if(u==null)n(h.el=a(h.children),y,x);else{const w=h.el=u.el;h.children!==u.children&&c(w,h.children)}},I=(u,h,y,x)=>{u==null?n(h.el=l(h.children||""),y,x):h.el=u.el},U=(u,h,y,x)=>{[u.el,u.anchor]=b(u.children,h,y,x,u.el,u.anchor)},R=({el:u,anchor:h},y,x)=>{let w;for(;u&&u!==h;)w=p(u),n(u,y,x),u=w;n(h,y,x)},P=({el:u,anchor:h})=>{let y;for(;u&&u!==h;)y=p(u),i(u),u=y;i(h)},W=(u,h,y,x,w,E,$,S,O)=>{$=$||h.type==="svg",u==null?Fe(h,y,x,w,E,$,S,O):H(u,h,w,E,$,S,O)},Fe=(u,h,y,x,w,E,$,S)=>{let O,C;const{type:N,props:L,shapeFlag:j,transition:q,dirs:Q}=u;if(O=u.el=o(u.type,E,L&&L.is,L),j&8?d(O,u.children):j&16&&B(u.children,O,null,x,w,E&&N!=="foreignObject",$,S),Q&&Ot(u,null,x,"created"),Pe(O,u,u.scopeId,$,x),L){for(const re in L)re!=="value"&&!Vs(re)&&r(O,re,null,L[re],E,u.children,x,w,ct);"value"in L&&r(O,"value",null,L.value),(C=L.onVnodeBeforeMount)&&tt(C,x,u)}Q&&Ot(u,null,x,"beforeMount");const ae=(!w||w&&!w.pendingBranch)&&q&&!q.persisted;ae&&q.beforeEnter(O),n(O,h,y),((C=L&&L.onVnodeMounted)||ae||Q)&&De(()=>{C&&tt(C,x,u),ae&&q.enter(O),Q&&Ot(u,null,x,"mounted")},w)},Pe=(u,h,y,x,w)=>{if(y&&_(u,y),x)for(let E=0;E<x.length;E++)_(u,x[E]);if(w){let E=w.subTree;if(h===E){const $=w.vnode;Pe(u,$,$.scopeId,$.slotScopeIds,w.parent)}}},B=(u,h,y,x,w,E,$,S,O=0)=>{for(let C=O;C<u.length;C++){const N=u[C]=S?wt(u[C]):nt(u[C]);T(null,N,h,y,x,w,E,$,S)}},H=(u,h,y,x,w,E,$)=>{const S=h.el=u.el;let{patchFlag:O,dynamicChildren:C,dirs:N}=h;O|=u.patchFlag&16;const L=u.props||fe,j=h.props||fe;let q;y&&It(y,!1),(q=j.onVnodeBeforeUpdate)&&tt(q,y,h,u),N&&Ot(h,u,y,"beforeUpdate"),y&&It(y,!0);const Q=w&&h.type!=="foreignObject";if(C?J(u.dynamicChildren,C,S,y,x,Q,E):$||oe(u,h,S,null,y,x,Q,E,!1),O>0){if(O&16)he(S,h,L,j,y,x,w);else if(O&2&&L.class!==j.class&&r(S,"class",null,j.class,w),O&4&&r(S,"style",L.style,j.style,w),O&8){const ae=h.dynamicProps;for(let re=0;re<ae.length;re++){const ve=ae[re],We=L[ve],jt=j[ve];(jt!==We||ve==="value")&&r(S,ve,We,jt,w,u.children,y,x,ct)}}O&1&&u.children!==h.children&&d(S,h.children)}else!$&&C==null&&he(S,h,L,j,y,x,w);((q=j.onVnodeUpdated)||N)&&De(()=>{q&&tt(q,y,h,u),N&&Ot(h,u,y,"updated")},x)},J=(u,h,y,x,w,E,$)=>{for(let S=0;S<h.length;S++){const O=u[S],C=h[S],N=O.el&&(O.type===se||!Dt(O,C)||O.shapeFlag&70)?f(O.el):y;T(O,C,N,null,x,w,E,$,!0)}},he=(u,h,y,x,w,E,$)=>{if(y!==x){if(y!==fe)for(const S in y)!Vs(S)&&!(S in x)&&r(u,S,y[S],null,$,h.children,w,E,ct);for(const S in x){if(Vs(S))continue;const O=x[S],C=y[S];O!==C&&S!=="value"&&r(u,S,C,O,$,h.children,w,E,ct)}"value"in x&&r(u,"value",y.value,x.value)}},F=(u,h,y,x,w,E,$,S,O)=>{const C=h.el=u?u.el:a(""),N=h.anchor=u?u.anchor:a("");let{patchFlag:L,dynamicChildren:j,slotScopeIds:q}=h;q&&(S=S?S.concat(q):q),u==null?(n(C,y,x),n(N,y,x),B(h.children,y,N,w,E,$,S,O)):L>0&&L&64&&j&&u.dynamicChildren?(J(u.dynamicChildren,j,y,w,E,$,S),(h.key!=null||w&&h===w.subTree)&&Ea(u,h,!0)):oe(u,h,y,N,w,E,$,S,O)},ue=(u,h,y,x,w,E,$,S,O)=>{h.slotScopeIds=S,u==null?h.shapeFlag&512?w.ctx.activate(h,y,x,$,O):Ie(h,y,x,w,E,$,O):ze(u,h,O)},Ie=(u,h,y,x,w,E,$)=>{const S=u.component=pu(u,x,w);if(mn(u)&&(S.ctx.renderer=Nt),gu(S),S.asyncDep){if(w&&w.registerDep(S,ie),!u.el){const O=S.subTree=Y(Ke);I(null,O,h,y)}return}ie(S,u,h,y,w,E,$)},ze=(u,h,y)=>{const x=h.component=u.component;if(Ac(u,h,y))if(x.asyncDep&&!x.asyncResolved){ge(x,h,y);return}else x.next=h,vc(x.update),x.update();else h.el=u.el,x.vnode=h},ie=(u,h,y,x,w,E,$)=>{const S=()=>{if(u.isMounted){let{next:N,bu:L,u:j,parent:q,vnode:Q}=u,ae=N,re;It(u,!1),N?(N.el=Q.el,ge(u,N,$)):N=Q,L&&xi(L),(re=N.props&&N.props.onVnodeBeforeUpdate)&&tt(re,q,N,Q),It(u,!0);const ve=Ai(u),We=u.subTree;u.subTree=ve,T(We,ve,f(We.el),Is(We),u,w,E),N.el=ve.el,ae===null&&Cc(u,ve.el),j&&De(j,w),(re=N.props&&N.props.onVnodeUpdated)&&De(()=>tt(re,q,N,Q),w)}else{let N;const{el:L,props:j}=h,{bm:q,m:Q,parent:ae}=u,re=hs(h);if(It(u,!1),q&&xi(q),!re&&(N=j&&j.onVnodeBeforeMount)&&tt(N,ae,h),It(u,!0),L&&wi){const ve=()=>{u.subTree=Ai(u),wi(L,u.subTree,u,w,null)};re?h.type.__asyncLoader().then(()=>!u.isUnmounted&&ve()):ve()}else{const ve=u.subTree=Ai(u);T(null,ve,y,x,u,w,E),h.el=ve.el}if(Q&&De(Q,w),!re&&(N=j&&j.onVnodeMounted)){const ve=h;De(()=>tt(N,ae,ve),w)}(h.shapeFlag&256||ae&&hs(ae.vnode)&&ae.vnode.shapeFlag&256)&&u.a&&De(u.a,w),u.isMounted=!0,h=y=x=null}},O=u.effect=new ir(S,()=>dr(C),u.scope),C=u.update=()=>O.run();C.id=u.uid,It(u,!0),C()},ge=(u,h,y)=>{h.component=u;const x=u.vnode.props;u.vnode=h,u.next=null,Zc(u,h.props,x,y),su(u,h.children,y),ss(),Nr(),ns()},oe=(u,h,y,x,w,E,$,S,O=!1)=>{const C=u&&u.children,N=u?u.shapeFlag:0,L=h.children,{patchFlag:j,shapeFlag:q}=h;if(j>0){if(j&128){Os(C,L,y,x,w,E,$,S,O);return}else if(j&256){kt(C,L,y,x,w,E,$,S,O);return}}q&8?(N&16&&ct(C,w,E),L!==C&&d(y,L)):N&16?q&16?Os(C,L,y,x,w,E,$,S,O):ct(C,w,E,!0):(N&8&&d(y,""),q&16&&B(L,y,x,w,E,$,S,O))},kt=(u,h,y,x,w,E,$,S,O)=>{u=u||Wt,h=h||Wt;const C=u.length,N=h.length,L=Math.min(C,N);let j;for(j=0;j<L;j++){const q=h[j]=O?wt(h[j]):nt(h[j]);T(u[j],q,y,null,w,E,$,S,O)}C>N?ct(u,w,E,!0,!1,L):B(h,y,x,w,E,$,S,O,L)},Os=(u,h,y,x,w,E,$,S,O)=>{let C=0;const N=h.length;let L=u.length-1,j=N-1;for(;C<=L&&C<=j;){const q=u[C],Q=h[C]=O?wt(h[C]):nt(h[C]);if(Dt(q,Q))T(q,Q,y,null,w,E,$,S,O);else break;C++}for(;C<=L&&C<=j;){const q=u[L],Q=h[j]=O?wt(h[j]):nt(h[j]);if(Dt(q,Q))T(q,Q,y,null,w,E,$,S,O);else break;L--,j--}if(C>L){if(C<=j){const q=j+1,Q=q<N?h[q].el:x;for(;C<=j;)T(null,h[C]=O?wt(h[C]):nt(h[C]),y,Q,w,E,$,S,O),C++}}else if(C>j)for(;C<=L;)Ze(u[C],w,E,!0),C++;else{const q=C,Q=C,ae=new Map;for(C=Q;C<=j;C++){const Le=h[C]=O?wt(h[C]):nt(h[C]);Le.key!=null&&ae.set(Le.key,C)}let re,ve=0;const We=j-Q+1;let jt=!1,Pr=0;const os=new Array(We);for(C=0;C<We;C++)os[C]=0;for(C=q;C<=L;C++){const Le=u[C];if(ve>=We){Ze(Le,w,E,!0);continue}let et;if(Le.key!=null)et=ae.get(Le.key);else for(re=Q;re<=j;re++)if(os[re-Q]===0&&Dt(Le,h[re])){et=re;break}et===void 0?Ze(Le,w,E,!0):(os[et-Q]=C+1,et>=Pr?Pr=et:jt=!0,T(Le,h[et],y,null,w,E,$,S,O),ve++)}const Or=jt?ru(os):Wt;for(re=Or.length-1,C=We-1;C>=0;C--){const Le=Q+C,et=h[Le],Ir=Le+1<N?h[Le+1].el:x;os[C]===0?T(null,et,y,Ir,w,E,$,S,O):jt&&(re<0||C!==Or[re]?Pt(et,y,Ir,2):re--)}}},Pt=(u,h,y,x,w=null)=>{const{el:E,type:$,transition:S,children:O,shapeFlag:C}=u;if(C&6){Pt(u.component.subTree,h,y,x);return}if(C&128){u.suspense.move(h,y,x);return}if(C&64){$.move(u,h,y,Nt);return}if($===se){n(E,h,y);for(let L=0;L<O.length;L++)Pt(O[L],h,y,x);n(u.anchor,h,y);return}if($===qs){R(u,h,y);return}if(x!==2&&C&1&&S)if(x===0)S.beforeEnter(E),n(E,h,y),De(()=>S.enter(E),w);else{const{leave:L,delayLeave:j,afterLeave:q}=S,Q=()=>n(E,h,y),ae=()=>{L(E,()=>{Q(),q&&q()})};j?j(E,Q,ae):ae()}else n(E,h,y)},Ze=(u,h,y,x=!1,w=!1)=>{const{type:E,props:$,ref:S,children:O,dynamicChildren:C,shapeFlag:N,patchFlag:L,dirs:j}=u;if(S!=null&&Hi(S,null,y,u,!0),N&256){h.ctx.deactivate(u);return}const q=N&1&&j,Q=!hs(u);let ae;if(Q&&(ae=$&&$.onVnodeBeforeUnmount)&&tt(ae,h,u),N&6)pl(u.component,y,x);else{if(N&128){u.suspense.unmount(y,x);return}q&&Ot(u,null,h,"beforeUnmount"),N&64?u.type.remove(u,h,y,w,Nt,x):C&&(E!==se||L>0&&L&64)?ct(C,h,y,!1,!0):(E===se&&L&384||!w&&N&16)&&ct(O,h,y),x&&Er(u)}(Q&&(ae=$&&$.onVnodeUnmounted)||q)&&De(()=>{ae&&tt(ae,h,u),q&&Ot(u,null,h,"unmounted")},y)},Er=u=>{const{type:h,el:y,anchor:x,transition:w}=u;if(h===se){hl(y,x);return}if(h===qs){P(u);return}const E=()=>{i(y),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(u.shapeFlag&1&&w&&!w.persisted){const{leave:$,delayLeave:S}=w,O=()=>$(y,E);S?S(u.el,E,O):O()}else E()},hl=(u,h)=>{let y;for(;u!==h;)y=p(u),i(u),u=y;i(h)},pl=(u,h,y)=>{const{bum:x,scope:w,update:E,subTree:$,um:S}=u;x&&xi(x),w.stop(),E&&(E.active=!1,Ze($,u,h,y)),S&&De(S,h),De(()=>{u.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},ct=(u,h,y,x=!1,w=!1,E=0)=>{for(let $=E;$<u.length;$++)Ze(u[$],h,y,x,w)},Is=u=>u.shapeFlag&6?Is(u.component.subTree):u.shapeFlag&128?u.suspense.next():p(u.anchor||u.el),kr=(u,h,y)=>{u==null?h._vnode&&Ze(h._vnode,null,null,!0):T(h._vnode||null,u,h,null,null,null,y),Nr(),aa(),h._vnode=u},Nt={p:T,um:Ze,m:Pt,r:Er,mt:Ie,mc:B,pc:oe,pbc:J,n:Is,o:e};let bi,wi;return t&&([bi,wi]=t(Nt)),{render:kr,hydrate:bi,createApp:Yc(kr,bi)}}function It({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function Ea(e,t,s=!1){const n=e.children,i=t.children;if(V(n)&&V(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=wt(i[r]),a.el=o.el),s||Ea(o,a)),a.type===vn&&(a.el=o.el)}}function ru(e){const t=e.slice(),s=[0];let n,i,r,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,e[s[a]]<c?r=a+1:o=a;c<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}const ou=e=>e.__isTeleport,se=Symbol.for("v-fgt"),vn=Symbol.for("v-txt"),Ke=Symbol.for("v-cmt"),qs=Symbol.for("v-stc"),ms=[];let Je=null;function A(e=!1){ms.push(Je=e?null:[])}function au(){ms.pop(),Je=ms[ms.length-1]||null}let Cs=1;function Qr(e){Cs+=e}function ka(e){return e.dynamicChildren=Cs>0?Je||Wt:null,au(),Cs>0&&Je&&Je.push(e),e}function k(e,t,s,n,i,r){return ka(g(e,t,s,n,i,r,!0))}function Re(e,t,s,n,i){return ka(Y(e,t,s,n,i,!0))}function tn(e){return e?e.__v_isVNode===!0:!1}function Dt(e,t){return e.type===t.type&&e.key===t.key}const yn="__vInternal",Pa=({key:e})=>e??null,Ks=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Te(e)||pe(e)||z(e)?{i:Ee,r:e,k:t,f:!!s}:e:null);function g(e,t=null,s=null,n=0,i=null,r=e===se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Pa(t),ref:t&&Ks(t),scopeId:gn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ee};return a?(gr(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=Te(s)?8:16),Cs>0&&!o&&Je&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Je.push(l),l}const Y=lu;function lu(e,t=null,s=null,n=0,i=null,r=!1){if((!e||e===Nc)&&(e=Ke),tn(e)){const a=St(e,t,!0);return s&&gr(a,s),Cs>0&&!r&&Je&&(a.shapeFlag&6?Je[Je.indexOf(e)]=a:Je.push(a)),a.patchFlag|=-2,a}if(yu(e)&&(e=e.__vccOpts),t){t=cu(t);let{class:a,style:l}=t;a&&!Te(a)&&(t.class=ne(a)),ce(l)&&(ea(l)&&!V(l)&&(l=_e({},l)),t.style=cn(l))}const o=Te(e)?1:Sc(e)?128:ou(e)?64:ce(e)?4:z(e)?2:0;return g(e,t,s,n,i,o,r,!0)}function cu(e){return e?ea(e)||yn in e?_e({},e):e:null}function St(e,t,s=!1){const{props:n,ref:i,patchFlag:r,children:o}=e,a=t?du(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Pa(a),ref:t&&t.ref?s&&i?V(i)?i.concat(Ks(t)):[i,Ks(t)]:Ks(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&St(e.ssContent),ssFallback:e.ssFallback&&St(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Tt(e=" ",t=0){return Y(vn,null,e,t)}function uu(e,t){const s=Y(qs,null,e);return s.staticCount=t,s}function be(e="",t=!1){return t?(A(),Re(Ke,null,e)):Y(Ke,null,e)}function nt(e){return e==null||typeof e=="boolean"?Y(Ke):V(e)?Y(se,null,e.slice()):typeof e=="object"?wt(e):Y(vn,null,String(e))}function wt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:St(e)}function gr(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(V(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),gr(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!(yn in t)?t._ctx=Ee:i===3&&Ee&&(Ee.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Ee},s=32):(t=String(t),n&64?(s=16,t=[Tt(t)]):s=8);e.children=t,e.shapeFlag|=s}function du(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=ne([t.class,n.class]));else if(i==="style")t.style=cn([t.style,n.style]);else if(on(i)){const r=t[i],o=n[i];o&&r!==o&&!(V(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=n[i])}return t}function tt(e,t,s,n=null){Ve(e,t,7,[s,n])}const fu=wa();let hu=0;function pu(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||fu,r={uid:hu++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new No(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xa(n,i),emitsOptions:ca(n,i),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:n.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=wc.bind(null,r),e.ce&&e.ce(r),r}let Ce=null;const Oa=()=>Ce||Ee;let mr,Ht,Xr="__VUE_INSTANCE_SETTERS__";(Ht=Ri()[Xr])||(Ht=Ri()[Xr]=[]),Ht.push(e=>Ce=e),mr=e=>{Ht.length>1?Ht.forEach(t=>t(e)):Ht[0](e)};const es=e=>{mr(e),e.scope.on()},Lt=()=>{Ce&&Ce.scope.off(),mr(null)};function Ia(e){return e.vnode.shapeFlag&4}let Ss=!1;function gu(e,t=!1){Ss=t;const{props:s,children:n}=e.vnode,i=Ia(e);Xc(e,s,i,t),tu(e,n);const r=i?mu(e,t):void 0;return Ss=!1,r}function mu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=fn(new Proxy(e.ctx,Hc));const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?vu(e):null;es(e),ss();const r=At(n,e,0,[e.props,i]);if(ns(),Lt(),Do(r)){if(r.then(Lt,Lt),t)return r.then(o=>{Zr(e,o,t)}).catch(o=>{hn(o,e,0)});e.asyncDep=r}else Zr(e,r,t)}else $a(e,t)}function Zr(e,t,s){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=na(t)),$a(e,s)}let eo;function $a(e,t,s){const n=e.type;if(!e.render){if(!t&&eo&&!n.render){const i=n.template||hr(e).template;if(i){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=_e(_e({isCustomElement:r,delimiters:a},o),l);n.render=eo(i,c)}}e.render=n.render||Qe}es(e),ss(),Vc(e),ns(),Lt()}function _u(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Be(e,"get","$attrs"),t[s]}}))}function vu(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return _u(e)},slots:e.slots,emit:e.emit,expose:t}}function bn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(na(fn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ps)return ps[s](e)},has(t,s){return s in t||s in ps}}))}function yu(e){return z(e)&&"__vccOpts"in e}const le=(e,t)=>gc(e,t,Ss);function bu(e,t,s){const n=arguments.length;return n===2?ce(t)&&!V(t)?tn(t)?Y(e,null,[t]):Y(e,t):Y(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&tn(s)&&(s=[s]),Y(e,t,s))}const wu=Symbol.for("v-scx"),Tu=()=>gs(wu),xu="3.3.4",Au="http://www.w3.org/2000/svg",Mt=typeof document<"u"?document:null,to=Mt&&Mt.createElement("template"),Cu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t?Mt.createElementNS(Au,e):Mt.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Mt.createTextNode(e),createComment:e=>Mt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Mt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,r){const o=s?s.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{to.innerHTML=n?`<svg>${e}</svg>`:e;const a=to.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function Su(e,t,s){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function Eu(e,t,s){const n=e.style,i=Te(s);if(s&&!i){if(t&&!Te(t))for(const r in t)s[r]==null&&Vi(n,r,"");for(const r in s)Vi(n,r,s[r])}else{const r=n.display;i?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=r)}}const so=/\s*!important$/;function Vi(e,t,s){if(V(s))s.forEach(n=>Vi(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=ku(e,t);so.test(s)?e.setProperty(ts(n),s.replace(so,""),"important"):e[n]=s}}const no=["Webkit","Moz","ms"],Ei={};function ku(e,t){const s=Ei[t];if(s)return s;let n=Xt(t);if(n!=="filter"&&n in e)return Ei[t]=n;n=Fo(n);for(let i=0;i<no.length;i++){const r=no[i]+n;if(r in e)return Ei[t]=r}return t}const io="http://www.w3.org/1999/xlink";function Pu(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(io,t.slice(6,t.length)):e.setAttributeNS(io,t,s);else{const r=Ol(t);s==null||r&&!Lo(s)?e.removeAttribute(t):e.setAttribute(t,r?"":s)}}function Ou(e,t,s,n,i,r,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,r),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=s;const c=a==="OPTION"?e.getAttribute("value"):e.value,d=s??"";c!==d&&(e.value=d),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=Lo(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function Iu(e,t,s,n){e.addEventListener(t,s,n)}function $u(e,t,s,n){e.removeEventListener(t,s,n)}function Ru(e,t,s,n,i=null){const r=e._vei||(e._vei={}),o=r[t];if(n&&o)o.value=n;else{const[a,l]=Du(t);if(n){const c=r[t]=Fu(n,i);Iu(e,a,c,l)}else o&&($u(e,a,o,l),r[t]=void 0)}}const ro=/(?:Once|Passive|Capture)$/;function Du(e){let t;if(ro.test(e)){t={};let n;for(;n=e.match(ro);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ts(e.slice(2)),t]}let ki=0;const Mu=Promise.resolve(),Bu=()=>ki||(Mu.then(()=>ki=0),ki=Date.now());function Fu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ve(Lu(n,s.value),t,5,[n])};return s.value=e,s.attached=Bu(),s}function Lu(e,t){if(V(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const oo=/^on[a-z]/,Uu=(e,t,s,n,i=!1,r,o,a,l)=>{t==="class"?Su(e,n,i):t==="style"?Eu(e,s,n):on(t)?Zi(t)||Ru(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Nu(e,t,n,i))?Ou(e,t,n,r,o,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Pu(e,t,n,i))};function Nu(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&oo.test(t)&&z(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||oo.test(t)&&Te(s)?!1:t in e}const vt="transition",as="animation",_r=(e,{slots:t})=>bu(Oc,Da(e),t);_r.displayName="Transition";const Ra={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ju=_r.props=_e({},pa,Ra),$t=(e,t=[])=>{V(e)?e.forEach(s=>s(...t)):e&&e(...t)},ao=e=>e?V(e)?e.some(t=>t.length>1):e.length>1:!1;function Da(e){const t={};for(const F in e)F in Ra||(t[F]=e[F]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:d=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:_=`${s}-leave-to`}=e,b=Hu(i),T=b&&b[0],M=b&&b[1],{onBeforeEnter:I,onEnter:U,onEnterCancelled:R,onLeave:P,onLeaveCancelled:W,onBeforeAppear:Fe=I,onAppear:Pe=U,onAppearCancelled:B=R}=t,H=(F,ue,Ie)=>{yt(F,ue?d:a),yt(F,ue?c:o),Ie&&Ie()},J=(F,ue)=>{F._isLeaving=!1,yt(F,f),yt(F,_),yt(F,p),ue&&ue()},he=F=>(ue,Ie)=>{const ze=F?Pe:U,ie=()=>H(ue,F,Ie);$t(ze,[ue,ie]),lo(()=>{yt(ue,F?l:r),ut(ue,F?d:a),ao(ze)||co(ue,n,T,ie)})};return _e(t,{onBeforeEnter(F){$t(I,[F]),ut(F,r),ut(F,o)},onBeforeAppear(F){$t(Fe,[F]),ut(F,l),ut(F,c)},onEnter:he(!1),onAppear:he(!0),onLeave(F,ue){F._isLeaving=!0;const Ie=()=>J(F,ue);ut(F,f),Ba(),ut(F,p),lo(()=>{F._isLeaving&&(yt(F,f),ut(F,_),ao(P)||co(F,n,M,Ie))}),$t(P,[F,Ie])},onEnterCancelled(F){H(F,!1),$t(R,[F])},onAppearCancelled(F){H(F,!0),$t(B,[F])},onLeaveCancelled(F){J(F),$t(W,[F])}})}function Hu(e){if(e==null)return null;if(ce(e))return[Pi(e.enter),Pi(e.leave)];{const t=Pi(e);return[t,t]}}function Pi(e){return Al(e)}function ut(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function yt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function lo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Vu=0;function co(e,t,s,n){const i=e._endId=++Vu,r=()=>{i===e._endId&&n()};if(s)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=Ma(e,t);if(!o)return n();const c=o+"end";let d=0;const f=()=>{e.removeEventListener(c,p),r()},p=_=>{_.target===e&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),e.addEventListener(c,p)}function Ma(e,t){const s=window.getComputedStyle(e),n=b=>(s[b]||"").split(", "),i=n(`${vt}Delay`),r=n(`${vt}Duration`),o=uo(i,r),a=n(`${as}Delay`),l=n(`${as}Duration`),c=uo(a,l);let d=null,f=0,p=0;t===vt?o>0&&(d=vt,f=o,p=r.length):t===as?c>0&&(d=as,f=c,p=l.length):(f=Math.max(o,c),d=f>0?o>c?vt:as:null,p=d?d===vt?r.length:l.length:0);const _=d===vt&&/\b(transform|all)(,|$)/.test(n(`${vt}Property`).toString());return{type:d,timeout:f,propCount:p,hasTransform:_}}function uo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>fo(s)+fo(e[n])))}function fo(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ba(){return document.body.offsetHeight}const Fa=new WeakMap,La=new WeakMap,Ua={name:"TransitionGroup",props:_e({},ju,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Oa(),n=ha();let i,r;return _a(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Yu(i[0].el,s.vnode.el,o))return;i.forEach(zu),i.forEach(Wu);const a=i.filter(Gu);Ba(),a.forEach(l=>{const c=l.el,d=c.style;ut(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=c._moveCb=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,yt(c,o))};c.addEventListener("transitionend",f)})}),()=>{const o=X(e),a=Da(o);let l=o.tag||se;i=r,r=t.default?fr(t.default()):[];for(let c=0;c<r.length;c++){const d=r[c];d.key!=null&&xs(d,Ts(d,a,n,s))}if(i)for(let c=0;c<i.length;c++){const d=i[c];xs(d,Ts(d,a,n,s)),Fa.set(d,d.el.getBoundingClientRect())}return Y(l,null,r)}}},qu=e=>delete e.mode;Ua.props;const Ku=Ua;function zu(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Wu(e){La.set(e,e.el.getBoundingClientRect())}function Gu(e){const t=Fa.get(e),s=La.get(e),n=t.left-s.left,i=t.top-s.top;if(n||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s",e}}function Yu(e,t,s){const n=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&n.classList.remove(a))}),s.split(/\s+/).forEach(o=>o&&n.classList.add(o)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:r}=Ma(n);return i.removeChild(n),r}const Na={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ls(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),ls(e,!0),n.enter(e)):n.leave(e,()=>{ls(e,!1)}):ls(e,t))},beforeUnmount(e,{value:t}){ls(e,t)}};function ls(e,t){e.style.display=t?e._vod:"none"}const Ju=_e({patchProp:Uu},Cu);let ho;function Qu(){return ho||(ho=nu(Ju))}const Xu=(...e)=>{const t=Qu().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Zu(n);if(!i)return;const r=t._component;!z(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=s(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Zu(e){return Te(e)?document.querySelector(e):e}var ed=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ja;const wn=e=>ja=e,Ha=Symbol();function qi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _s;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_s||(_s={}));function td(){const e=jo(!0),t=e.run(()=>Ne({}));let s=[],n=[];const i=fn({install(r){wn(i),i._a=r,r.provide(Ha,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return!this._a&&!ed?n.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return i}const Va=()=>{};function po(e,t,s,n=Va){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&Ho()&&$l(i),i}function Vt(e,...t){e.slice().forEach(s=>{s(...t)})}const sd=e=>e();function Ki(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,n)=>e.set(n,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],i=e[s];qi(i)&&qi(n)&&e.hasOwnProperty(s)&&!pe(n)&&!ht(n)?e[s]=Ki(i,n):e[s]=n}return e}const nd=Symbol();function id(e){return!qi(e)||!e.hasOwnProperty(nd)}const{assign:bt}=Object;function rd(e){return!!(pe(e)&&e.effect)}function od(e,t,s,n){const{state:i,actions:r,getters:o}=t,a=s.state.value[e];let l;function c(){a||(s.state.value[e]=i?i():{});const d=uc(s.state.value[e]);return bt(d,r,Object.keys(o||{}).reduce((f,p)=>(f[p]=fn(le(()=>{wn(s);const _=s._s.get(e);return o[p].call(_,_)})),f),{}))}return l=qa(e,c,t,s,n,!0),l}function qa(e,t,s={},n,i,r){let o;const a=bt({actions:{}},s),l={deep:!0};let c,d,f=[],p=[],_;const b=n.state.value[e];!r&&!b&&(n.state.value[e]={}),Ne({});let T;function M(B){let H;c=d=!1,typeof B=="function"?(B(n.state.value[e]),H={type:_s.patchFunction,storeId:e,events:_}):(Ki(n.state.value[e],B),H={type:_s.patchObject,payload:B,storeId:e,events:_});const J=T=Symbol();qe().then(()=>{T===J&&(c=!0)}),d=!0,Vt(f,H,n.state.value[e])}const I=r?function(){const{state:H}=s,J=H?H():{};this.$patch(he=>{bt(he,J)})}:Va;function U(){o.stop(),f=[],p=[],n._s.delete(e)}function R(B,H){return function(){wn(n);const J=Array.from(arguments),he=[],F=[];function ue(ie){he.push(ie)}function Ie(ie){F.push(ie)}Vt(p,{args:J,name:B,store:W,after:ue,onError:Ie});let ze;try{ze=H.apply(this&&this.$id===e?this:W,J)}catch(ie){throw Vt(F,ie),ie}return ze instanceof Promise?ze.then(ie=>(Vt(he,ie),ie)).catch(ie=>(Vt(F,ie),Promise.reject(ie))):(Vt(he,ze),ze)}}const P={_p:n,$id:e,$onAction:po.bind(null,p),$patch:M,$reset:I,$subscribe(B,H={}){const J=po(f,B,H.detached,()=>he()),he=o.run(()=>ke(()=>n.state.value[e],F=>{(H.flush==="sync"?d:c)&&B({storeId:e,type:_s.direct,events:_},F)},bt({},l,H)));return J},$dispose:U},W=dn(P);n._s.set(e,W);const Fe=n._a&&n._a.runWithContext||sd,Pe=n._e.run(()=>(o=jo(),Fe(()=>o.run(t))));for(const B in Pe){const H=Pe[B];if(pe(H)&&!rd(H)||ht(H))r||(b&&id(H)&&(pe(H)?H.value=b[B]:Ki(H,b[B])),n.state.value[e][B]=H);else if(typeof H=="function"){const J=R(B,H);Pe[B]=J,a.actions[B]=H}}return bt(W,Pe),bt(X(W),Pe),Object.defineProperty(W,"$state",{get:()=>n.state.value[e],set:B=>{M(H=>{bt(H,B)})}}),n._p.forEach(B=>{bt(W,o.run(()=>B({store:W,app:n._a,pinia:n,options:a})))}),b&&r&&s.hydrate&&s.hydrate(W.$state,b),c=!0,d=!0,W}function ad(e,t,s){let n,i;const r=typeof t=="function";typeof e=="string"?(n=e,i=r?s:t):(i=e,n=e.id);function o(a,l){const c=Qc();return a=a||(c?gs(Ha,null):null),a&&wn(a),a=ja,a._s.has(n)||(r?qa(n,t,i,a):od(n,i,a)),a._s.get(n)}return o.$id=n,o}function ld(e,t){return Array.isArray(t)?t.reduce((s,n)=>(s[n]=function(){return e(this.$pinia)[n]},s),{}):Object.keys(t).reduce((s,n)=>(s[n]=function(){const i=e(this.$pinia),r=t[n];return typeof r=="function"?r.call(this,i):i[r]},s),{})}function cd(e,t){return Array.isArray(t)?t.reduce((s,n)=>(s[n]=function(...i){return e(this.$pinia)[n](...i)},s),{}):Object.keys(t).reduce((s,n)=>(s[n]=function(...i){return e(this.$pinia)[t[n]](...i)},s),{})}function Se(e){{e=X(e);const t={};for(const s in e){const n=e[s];(pe(n)||ht(n))&&(t[s]=hc(e,s))}return t}}const ud="/assets/menu-05ddd784.svg",Tn="/assets/close-f5d846ec.svg",xn="/assets/art-e4b794b2.svg",An="/assets/base-b31e12ae.svg",Cn="/assets/car-e0aaa31a.svg",Sn="/assets/coder-b9216312.svg",En="/assets/designer-b589de25.svg",kn="/assets/executive-a22361e2.svg",Pn="/assets/glasses-8db4d08f.svg",On="/assets/grad-c78b932a.svg",In="/assets/intern-77c54494.svg",$n="/assets/keys-0504ddab.svg",Rn="/assets/laptop-fda64f16.svg",Dn="/assets/manager-600b4ec9.svg",Mn="/assets/defense-bd9c3f5b.svg",Bn="/assets/flag-54741b89.svg",Fn="/assets/give-d1ccf0c7.svg",Ln="/assets/help-518d5cb1.svg",Un="/assets/load-9b6a67c5.svg",Nn="/assets/archer-06aeaf2c.svg",jn="/assets/base-27a3d291.svg",Hn="/assets/footman-f32b5165.svg",Vn="/assets/horse-dac998a4.svg",qn="/assets/knight-4b6e0df3.svg",Kn="/assets/ore-bcbc3549.svg",zn="/assets/peasant-11e0c611.svg",Wn="/assets/rice-8aa3a52c.svg",Gn="/assets/serf-251385a3.svg",Yn="/assets/tree-f893f7da.svg",Jn="/assets/wand-c232b03a.svg",Qn="/assets/wizard-e457c3e5.svg",Xn="/assets/menu-05ddd784.svg",Zn="/assets/move-75d7174f.svg",ei="/assets/next-393dbd13.svg",ti="/assets/offense-bbc31d54.svg",si="/assets/ranged-c9fa731e.svg",ni="/assets/reset-57391f15.svg",ii="/assets/save-b0d06498.svg",ri="/assets/settings-620ec5c9.svg",oi="/assets/take-82478436.svg",ai="/assets/base-eb2e057f.svg",li="/assets/coffin-1f64f4eb.svg",ci="/assets/flesh-f41315ff.svg",ui="/assets/ghost-61325e9a.svg",di="/assets/moonshine-c9dc1f10.svg",fi="/assets/remains-f1908e87.svg",hi="/assets/scroll-b658ab93.svg",pi="/assets/skeleton-81760aa6.svg",gi="/assets/soul-6693ca8c.svg",mi="/assets/vampire-a7eeb5df.svg",_i="/assets/werewolf-bc9ac783.svg",vi="/assets/zombie-36ad5e99.svg",dd="/assets/bach-cb78febd.mp3",fd="/assets/caching-e90fdd11.mp3",hd="/assets/car-9c5ae45f.mp3",pd="/assets/death-4ec0b4b9.mp3",gd="/assets/dice-a1881af1.mp3",md="/assets/fanfare-1f95a7c2.mp3",_d="/assets/keys-58e77cf0.mp3",vd="/assets/march-c32ae08d.mp3",yd="/assets/monster-04c4ae76.mp3",bd="/assets/typing-5a00997a.mp3",wd="/assets/victory-7be2cfc3.mp3",Td="/assets/whip-b0b74d96.mp3",xd="/assets/arrow-6a3f0288.mp3",Ad="/assets/caching-e90fdd11.mp3",Cd="/assets/crumble-f8dbfea6.mp3",Sd="/assets/death-03083ae2.mp3",Ed="/assets/dice-a1881af1.mp3",kd="/assets/fanfare-a0410765.mp3",Pd="/assets/horse-ca99b5f3.mp3",Od="/assets/magic-8e64b0c2.mp3",Id="/assets/march-c5cf354f.mp3",$d="/assets/monster-600e610e.mp3",Rd="/assets/pitchfork-fec95f6f.mp3",Dd="/assets/sword-36ee8c5f.mp3",Md="/assets/victory-bfae5a2c.mp3",Bd="/assets/bones-4021280c.mp3",Fd="/assets/boo-5aef38fd.mp3",Ld="/assets/caching-af777d2f.mp3",Ud="/assets/crumble-f8dbfea6.mp3",Nd="/assets/death-31e8be97.mp3",jd="/assets/dice-a1881af1.mp3",Hd="/assets/fanfare-06a95c51.mp3",Vd="/assets/howl-03eeec67.mp3",qd="/assets/march-57b19690.mp3",Kd="/assets/monster-c9f19d27.mp3",zd="/assets/suck-773fc40c.mp3",Wd="/assets/victory-ecbacebc.mp3",Gd="/assets/zombie-5e039676.mp3";function Yd(e,t,s){const n=new Date;n.setTime(n.getTime()+s*24*60*60*1e3);const i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function Jd(e){const t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let i=0;i<n.length;i++){let r=n[i];for(;r.charAt(0)==" ";)r=r.substring(1);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return""}const rn=class rn{constructor(t,s){m(this,"id");m(this,"base");m(this,"full");m(this,"life");m(this,"resources");m(this,"points");m(this,"computer");m(this,"remote");m(this,"end");m(this,"stats");this.id=t,this.base=null,this.full=s,this.life=s,this.resources=[],this.points=0,this.computer=!1,this.remote=!1,this.end=0,this.stats=new sn}name(){return this.computer?"Computer":`Player ${this.id}`}startingLife(){return this.full}isFullLife(){return this.startingLife()===this.life}resourceCount(t){return this.resources[t]}resourceScore(){let t=0;return this.resources.forEach(s=>t+=s),t}updateResource(t,s){let n=this.resources[t];n=n+s,this.resources[t]=n}save(){var t;return new Qd({i:this.id,b:(t=this.base)==null?void 0:t.id,f:this.full,l:this.life,r:this.resources,p:this.points,c:this.computer?1:0,o:this.remote?1:0,e:this.end,s:this.stats.save()})}static load(t){const s=new rn(t.i,t.f);return s.life=t.l,s.resources=t.r,s.points=t.p,s.computer=t.c>0,s.remote=t.o>0,s.end=t.e,s.stats=sn.load(t.s),s}};m(rn,"playerID",1);let pt=rn;class Qd{constructor(t){m(this,"i");m(this,"b");m(this,"f");m(this,"l");m(this,"r");m(this,"p");m(this,"c");m(this,"o");m(this,"e");m(this,"s");this.i=t.i,this.b=t.b,this.f=t.f,this.l=t.l,this.r=t.r,this.p=t.p,this.c=t.c,this.o=t.o,this.e=t.e,this.s=t.s}}class sn{constructor(){m(this,"pointsMax");m(this,"tilesMax");m(this,"resourcesGathered");m(this,"resourcesSpent");m(this,"resourcesTraded");m(this,"unitsTrained");m(this,"unitsLost");m(this,"unitsKilled");m(this,"unitsMoved");m(this,"unitsMax");m(this,"damageTotal");this.pointsMax=0,this.tilesMax=0,this.resourcesGathered=0,this.resourcesSpent=0,this.resourcesTraded=0,this.unitsTrained=0,this.unitsLost=0,this.unitsKilled=0,this.unitsMoved=0,this.unitsMax=0,this.damageTotal=0}save(){return new Xd({p:this.pointsMax,t:this.tilesMax,rg:this.resourcesGathered,rs:this.resourcesSpent,rt:this.resourcesTraded,ut:this.unitsTrained,ul:this.unitsLost,uk:this.unitsKilled,um:this.unitsMoved,u:this.unitsMax,d:this.damageTotal})}static load(t){const s=new sn;return s.pointsMax=t.p,s.tilesMax=t.t,s.resourcesGathered=t.rg,s.resourcesSpent=t.rs,s.resourcesTraded=t.rt,s.unitsTrained=t.ut,s.unitsLost=t.ul,s.unitsKilled=t.uk,s.unitsMoved=t.um,s.unitsMax=t.u,s.damageTotal=t.d,s}}class Xd{constructor(t){m(this,"p");m(this,"t");m(this,"rg");m(this,"rs");m(this,"rt");m(this,"ut");m(this,"ul");m(this,"uk");m(this,"um");m(this,"u");m(this,"d");this.p=t.p,this.t=t.t,this.rg=t.rg,this.rs=t.rs,this.rt=t.rt,this.ut=t.ut,this.ul=t.ul,this.uk=t.uk,this.um=t.um,this.u=t.u,this.d=t.d}}class go{constructor(){m(this,"users");m(this,"local");m(this,"host");this.users=[],this.local="",this.host=""}isHostLocal(){return this.local!==""&&this.local===this.host}}class Zd{constructor(){m(this,"p");m(this,"g");m(this,"u");m(this,"t");m(this,"d");m(this,"s");m(this,"x");m(this,"h");this.p="",this.g="",this.u="",this.t="",this.d="",this.s="",this.x="",this.h=""}}var Jt;let zs=(Jt=class{constructor(t){m(this,"id");m(this,"roll");m(this,"type");m(this,"units");m(this,"adjacent");m(this,"base");this.id=t,this.roll=0,this.type=null,this.units=[],this.adjacent=[],this.base=null}playerController(){return this.base&&!this.base.end?this.base:this.units.length&&this.units[0].player||null}unitsSelected(){return this.units.filter(t=>t.selected)||[]}score(){var s;let t=((s=this.type)==null?void 0:s.value)||0;return this.roll&&(t+=6-Math.abs(7-this.roll)),t}startScore(){var s;if((s=this.base)!=null&&s.id)return 0;let t=this.score();return t?(this.adjacent.forEach(n=>t+=n.score()),this.adjacent.forEach(n=>{var i;t=(i=n.base)!=null&&i.id?0:t}),t):0}unitScore(){let t=0;return this.units.forEach(s=>t+=s.type.value),t}dangerScore(t){let s=0;return this.adjacent.forEach(n=>{n.units.length&&n.units[0].player!==t&&n.units.forEach(i=>s+=i.type.value)}),s}save(){var t,s;return new ef({i:this.id,r:this.roll,t:(t=this.type)==null?void 0:t.id,b:(s=this.base)==null?void 0:s.id})}static load(t){const s=new Jt(t.i);return s.roll=t.r,s}},m(Jt,"tileID",1),Jt);class ef{constructor(t){m(this,"i");m(this,"r");m(this,"t");m(this,"b");this.i=t.i,this.r=t.r,this.t=t.t,this.b=t.b}}const tf={winningPoints:75,controlPoints:3,startingLife:100,turnLength:90,tradeSurcharge:2,baseGeneration:3,resourceTypes:[{id:1,type:"village",resource:"Loyal Serf",icon:"serf",color:"#03a9f4",value:1},{id:2,type:"farm",resource:"Tasty Ration",icon:"rice",color:"lightgreen",value:1},{id:3,type:"mine",resource:"Iron Chunk",icon:"ore",color:"#505050",value:2},{id:4,type:"forest",resource:"Dead Tree",icon:"tree",color:"darkgreen",value:2},{id:5,type:"tower",resource:"Magic Wand",icon:"wand",color:"purple",value:3},{id:6,type:"stables",resource:"Noble Steed",icon:"horse",color:"#987554",value:3},{id:7,type:"desert",resource:"",icon:"",color:"white",value:0}],separateResourceTypes:["tower","stables","desert"],unitTypes:[{id:1,type:"peasant",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"pitchfork"},value:1},{id:2,type:"footman",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:20,ranged:!1,sound:"sword"},value:2},{id:3,type:"archer",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:10,defense:10,ranged:!0,sound:"arrow"},value:2},{id:4,type:"knight",move:2,cost:[[1,1],[2,1],[3,1],[6,1]],battle:{offense:20,defense:30,ranged:!1,sound:"horse"},value:3},{id:5,type:"wizard",move:5,cost:[[1,1],[2,1],[4,1],[5,1]],battle:{offense:30,defense:5,ranged:!0,sound:"magic"},value:3}],startingUnits:["peasant","peasant","peasant","peasant","footman","archer","footman"],monsterName:"dragon"},sf={winningPoints:0,controlPoints:0,startingLife:50,turnLength:90,tradeSurcharge:1,baseGeneration:1,resourceTypes:[{id:1,type:"battlefield",resource:"Human Remains",icon:"remains",color:"#339966",value:1},{id:2,type:"library",resource:"Reanimate Scroll",icon:"scroll",color:"#FFCC99",value:1},{id:3,type:"dungeon",resource:"Spare Flesh",icon:"flesh",color:"#990000",value:2},{id:4,type:"cemetary",resource:"Lost Soul",icon:"soul",color:"gray",value:2},{id:5,type:"distillery",resource:"Moon Shine",icon:"moonshine",color:"purple",value:3},{id:6,type:"lair",resource:"Used Coffin",icon:"coffin",color:"#634121",value:3},{id:7,type:"church",resource:"",icon:"",color:"#ffffff",value:0}],separateResourceTypes:["distillery","shop","church"],unitTypes:[{id:1,type:"skeleton",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"bones"},value:1},{id:2,type:"zombie",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:15,ranged:!1,sound:"zombie"},value:2},{id:3,type:"ghost",move:2,cost:[[1,1],[2,1],[4,1]],battle:{offense:5,defense:10,ranged:!0,sound:"boo"},value:2},{id:4,type:"werewolf",move:3,cost:[[1,1],[2,1],[3,1],[5,1]],battle:{offense:20,defense:20,ranged:!1,sound:"howl"},value:3},{id:5,type:"vampire",move:4,cost:[[1,1],[2,1],[4,1],[6,1]],battle:{offense:25,defense:5,ranged:!0,sound:"suck"},value:3}],startingUnits:["skeleton","skeleton","skeleton","skeleton","zombie","ghost","zombie"],monsterName:"angel"},nf={winningPoints:100,controlPoints:5,startingLife:0,turnLength:60,tradeSurcharge:3,baseGeneration:5,resourceTypes:[{id:1,type:"school",resource:"Eager Graduate",icon:"grad",color:"rgb(82,106,76)",value:1},{id:2,type:"store",resource:"Fruit Laptop",icon:"laptop",color:"rgb(40,60,105)",value:1},{id:3,type:"doctor",resource:"Thick Glasses",icon:"glasses",color:"rgb(237,231,217)",value:2},{id:4,type:"museum",resource:"Inspiring Art",icon:"art",color:"rgb(210,179,120)",value:2},{id:5,type:"locksmith",resource:"Important Keys",icon:"keys",color:"rgb(88,83,81)",value:3},{id:6,type:"dealership",resource:"Ostentatious Car",icon:"car",color:"rgb(166,33,27)",value:3},{id:7,type:"park",resource:"",icon:"",color:"rgb(229,219,99)",value:0}],separateResourceTypes:["locksmith","dealership","park"],unitTypes:[{id:1,type:"intern",move:1,cost:[[1,1],[2,1]],battle:{offense:0,defense:0,ranged:!1,sound:"whip"},value:1},{id:2,type:"coder",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:0,defense:0,ranged:!1,sound:"typing"},value:2},{id:3,type:"designer",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:0,defense:0,ranged:!1,sound:"bach"},value:2},{id:4,type:"manager",move:2,cost:[[1,1],[2,1],[3,1],[5,1]],battle:{offense:0,defense:0,ranged:!1,sound:"keys"},value:3},{id:5,type:"executive",move:5,cost:[[1,1],[2,1],[4,1],[6,1]],battle:{offense:0,defense:0,ranged:!1,sound:"car"},value:3}],startingUnits:["intern","intern","intern","intern","coder","designer","coder"],monsterName:"taxman"};var de=(e=>(e[e.start=0]="start",e[e.roll=1]="roll",e[e.monster=2]="monster",e[e.trade=3]="trade",e[e.spend=4]="spend",e[e.train=5]="train",e[e.move=6]="move",e[e.battle=7]="battle",e[e.damage=8]="damage",e[e.siege=9]="siege",e[e.next=10]="next",e[e.concede=11]="concede",e))(de||{}),Me=(e=>(e[e.PvC=0]="PvC",e[e.PvPLocal=1]="PvPLocal",e[e.PvPOnline=2]="PvPOnline",e[e.CvC=3]="CvC",e))(Me||{}),Ut=(e=>(e[e.start=0]="start",e[e.roll=1]="roll",e[e.march=2]="march",e))(Ut||{}),st=(e=>(e[e.none=0]="none",e[e.points=1]="points",e[e.siege=2]="siege",e[e.concede=3]="concede",e))(st||{});const K={error:{heading:"Ummm"},menu:{heading:"Menu",help:"Help",load:"Load",reset:"Reset",save:"Save",settings:"Settings"},monster:"The monster is on the move!",phases:{start:"Select a starting location!",roll:"Roll the dice to collect resources!",march:"Train units, reposition troops, or march to war!"},reset:"New Game",settings:{heading:"Settings",mode:"Mode",players:"Players",sfx:"SFX Volume",speed:"Game Speed",theme:"Theme",warning:"Warning: Changing the below will clear the current game and reload the page"},stats:{headings:{battles:"Battles Fought",count:"Count",kills:"Kills",resources:"Resources Collected",roll:"Roll",stat:"Stat",turns:"Total Turns",units:"Units Types Trained"},damageTotal:"Total Damage",pointsMax:"Highest Victory Points",resourcesGathered:"Resources Gathered",resourcesSpent:"Resources Spent",resourcesTraded:"Resources Traded",tilesMax:"Highest Controlled Tiles",unitsTrained:"Units Trained",unitsLost:"Units Lost",unitsKilled:"Units Killed",unitsMoved:"Units Moved",unitsMax:"Highest Unit Count"},title:"RISKATAN",tooltip:{concede:"Giving up?",dice:"Go ahead and give 'em a toss!",help:"Here you can figure out how to play",load:"You lose your current progress if you load another game",next:"Next",previous:"Previous",reset:"You go back to start if you reset",save:"You only get one save spot",settings:"You can change some settings",turn:"End your turn?"},trade:"Trade",tutorial:"How To Play",victory:"Wins!",waiting:"Waiting for player to join..."},G={defaultTimeout:500,grid:[{players:2,makeup:[4,4,3,3,2,2,1],rolls:[2,3,4,4,5,5,5,6,6,8,8,9,9,9,10,10,11,12],size:[3,4,5,4,3]},{players:3,makeup:[5,5,4,4,2,2,2],rolls:[2,3,3,4,4,5,5,5,6,6,6,8,8,8,9,9,9,10,10,11,11,12],size:[4,5,6,5,4]},{players:4,makeup:[6,6,5,5,2,2,3],rolls:[2,2,3,3,4,4,4,5,5,5,6,6,6,8,8,8,9,9,9,10,10,10,11,11,12,12],size:[5,6,7,6,5]}],maxMoveDistance:10,maxPlayers:4,minPlayers:2,monsterRoll:7,settingsBaseSound:100,settingsBaseSpeed:2,themeData:{medieval:tf,undead:sf,corporate:nf},tileUnitMax:8,turnPhases:[{phase:Ut.start,description:K.phases.start},{phase:Ut.roll,description:K.phases.roll},{phase:Ut.march,description:K.phases.march}]};class dt{constructor(t){m(this,"id");m(this,"player");m(this,"tile");m(this,"type");m(this,"ready");m(this,"sent");m(this,"hide");m(this,"spend");m(this,"delay");this.id=t,this.player=null,this.tile=null,this.type=null,this.ready=!1,this.sent=!1,this.hide=!1,this.spend=!1,this.delay=0}}m(dt,"resourceID",1);class Es{constructor(t){m(this,"id");m(this,"type");m(this,"resource");m(this,"icon");m(this,"color");m(this,"value");this.id=t.id,this.type=t.type,this.resource=t.resource,this.icon=t.icon,this.color=t.color,this.value=t.value}static resourceTypes(t){return G.themeData[t].resourceTypes.map(s=>new Es(s))}static resourceTypesValid(t){return Es.resourceTypes(t).filter(s=>s.resource)}}class mo{constructor(){m(this,"give");m(this,"take");m(this,"cost");m(this,"valid");this.give=0,this.take=0,this.cost=0,this.valid=!1}}class _o{constructor(t,s){m(this,"x");m(this,"y");this.x=t,this.y=s}}class zt{constructor(t){m(this,"player");m(this,"phase");m(this,"roll");m(this,"time");this.player=0,this.phase=0,this.roll=new nn,this.time=t}static load(t,s){const n=new zt(s);return n.player=t.player,n.phase=t.phase,n.roll=nn.load(t.roll),n.time=t.time,n}}class nn{constructor(){m(this,"dieOne");m(this,"dieTwo");m(this,"total");m(this,"rolled");this.dieOne=3,this.dieTwo=4,this.total=7,this.rolled=!1}roll(){this.dieOne=Math.floor(Math.random()*6+1),this.dieTwo=Math.floor(Math.random()*6+1),this.total=this.dieOne+this.dieTwo,this.rolled=!0}setRoll(t,s){this.dieOne=t,this.dieTwo=s,this.total=this.dieOne+this.dieTwo,this.rolled=!0}static load(t){const s=new nn;return s.dieOne=t.dieOne,s.dieTwo=t.dieTwo,s.total=t.total,s.rolled=t.rolled,s}}let vo=class{constructor(){m(this,"location");m(this,"moving");m(this,"hungry");this.location=0,this.moving=!1,this.hungry=!1}};class yo{constructor(){m(this,"turnsCount");m(this,"rollSpread");m(this,"unitSpread");m(this,"resourceSpread");m(this,"battlesCount");m(this,"monsterKills");this.turnsCount=1,this.rollSpread=[],this.unitSpread=[],this.resourceSpread=[],this.battlesCount=0,this.monsterKills=0}init(t,s,n){for(let r=0;r<t;r++)this.unitSpread.push(0);for(let r=0;r<s-1;r++)this.resourceSpread.push(0);const i=G.grid.find(r=>r.players===n);for(let r=0;r<new Set(i.rolls).size+1;r++)this.rollSpread.push(0)}}var Qt;let qt=(Qt=class{constructor(t,s){m(this,"id");m(this,"tile");m(this,"player");m(this,"selected");m(this,"moved");m(this,"staying");m(this,"stranded");m(this,"type");m(this,"damage");this.id=t,this.tile=null,this.player=null,this.selected=!1,this.moved=!1,this.staying=!1,this.stranded=!1,this.type=s,this.damage=0}static unitTypes(t){return G.themeData[t].unitTypes.map(s=>new Ka(s))}isAtBase(){var t;return((t=this.tile)==null?void 0:t.base)===this.player}isAlone(){var t;return((t=this.tile)==null?void 0:t.units.length)===1}resetMove(){this.selected=!1,this.moved=!1,this.staying=!1}save(){var t,s,n;return new rf({i:this.id,m:this.moved?1:0,t:(t=this.tile)==null?void 0:t.id,y:(s=this.type)==null?void 0:s.id,p:(n=this.player)==null?void 0:n.id})}static load(t,s){const n=new Qt(t.i,s);return n.moved=t.m>0,n}},m(Qt,"unitID",1),Qt);class rf{constructor(t){m(this,"i");m(this,"m");m(this,"t");m(this,"y");m(this,"p");this.i=t.i,this.m=t.m,this.t=t.t,this.y=t.y,this.p=t.p}}class Ka{constructor(t){m(this,"id");m(this,"type");m(this,"move");m(this,"cost");m(this,"battle");m(this,"value");this.id=t.id,this.type=t.type,this.move=t.move,this.cost=t.cost,this.battle=new of(t.battle),this.value=t.value}}class of{constructor(t){m(this,"offense");m(this,"defense");m(this,"ranged");m(this,"sound");this.offense=t.offense,this.defense=t.defense,this.ranged=t.ranged,this.sound=t.sound}}class za{constructor(t,s){m(this,"index");m(this,"value");this.index=t,this.value=s}}let Oi=class Wa{constructor(){m(this,"open");m(this,"mode");m(this,"players");m(this,"sound");m(this,"speed");m(this,"theme");this.open=!1,this.mode=Me.PvC,this.players=G.minPlayers,this.sound=null,this.speed=null,this.theme="medieval"}static load(t){const s=new Wa;return s.open=!1,s.mode=(t==null?void 0:t.mode)||Me.PvC,s.players=(t==null?void 0:t.players)||G.minPlayers,s.sound=(t==null?void 0:t.sound)||G.settingsBaseSound,s.speed=(t==null?void 0:t.speed)||G.settingsBaseSpeed,s.theme=(t==null?void 0:t.theme)||"medieval",s}};const ot=Object.create(null);ot.open="0";ot.close="1";ot.ping="2";ot.pong="3";ot.message="4";ot.upgrade="5";ot.noop="6";const Ws=Object.create(null);Object.keys(ot).forEach(e=>{Ws[ot[e]]=e});const zi={type:"error",data:"parser error"},Ga=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ya=typeof ArrayBuffer=="function",Ja=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,vr=({type:e,data:t},s,n)=>Ga&&t instanceof Blob?s?n(t):bo(t,n):Ya&&(t instanceof ArrayBuffer||Ja(t))?s?n(t):bo(new Blob([t]),n):n(ot[e]+(t||"")),bo=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function wo(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ii;function af(e,t){if(Ga&&e.data instanceof Blob)return e.data.arrayBuffer().then(wo).then(t);if(Ya&&(e.data instanceof ArrayBuffer||Ja(e.data)))return t(wo(e.data));vr(e,!1,s=>{Ii||(Ii=new TextEncoder),t(Ii.encode(s))})}const To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<To.length;e++)fs[To.charCodeAt(e)]=e;const lf=e=>{let t=e.length*.75,s=e.length,n,i=0,r,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),d=new Uint8Array(c);for(n=0;n<s;n+=4)r=fs[e.charCodeAt(n)],o=fs[e.charCodeAt(n+1)],a=fs[e.charCodeAt(n+2)],l=fs[e.charCodeAt(n+3)],d[i++]=r<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return c},cf=typeof ArrayBuffer=="function",yr=(e,t)=>{if(typeof e!="string")return{type:"message",data:Qa(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:uf(e.substring(1),t)}:Ws[s]?e.length>1?{type:Ws[s],data:e.substring(1)}:{type:Ws[s]}:zi},uf=(e,t)=>{if(cf){const s=lf(e);return Qa(s,t)}else return{base64:!0,data:e}},Qa=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Xa=String.fromCharCode(30),df=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((r,o)=>{vr(r,!1,a=>{n[o]=a,++i===s&&t(n.join(Xa))})})},ff=(e,t)=>{const s=e.split(Xa),n=[];for(let i=0;i<s.length;i++){const r=yr(s[i],t);if(n.push(r),r.type==="error")break}return n};function hf(){return new TransformStream({transform(e,t){af(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,n)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let $i;function Ls(e){return e.reduce((t,s)=>t+s.length,0)}function Us(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function pf(e,t){$i||($i=new TextDecoder);const s=[];let n=0,i=-1,r=!1;return new TransformStream({transform(o,a){for(s.push(o);;){if(n===0){if(Ls(s)<1)break;const l=Us(s,1);r=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Ls(s)<2)break;const l=Us(s,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Ls(s)<8)break;const l=Us(s,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,53-32)-1){a.enqueue(zi);break}i=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(Ls(s)<i)break;const l=Us(s,i);a.enqueue(yr(r?l:$i.decode(l),t)),n=0}if(i===0||i>e){a.enqueue(zi);break}}}})}const Za=4;function we(e){if(e)return gf(e)}function gf(e){for(var t in we.prototype)e[t]=we.prototype[t];return e}we.prototype.on=we.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};we.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};we.prototype.off=we.prototype.removeListener=we.prototype.removeAllListeners=we.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};we.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};we.prototype.emitReserved=we.prototype.emit;we.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};we.prototype.hasListeners=function(e){return!!this.listeners(e).length};const He=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function el(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const mf=He.setTimeout,_f=He.clearTimeout;function yi(e,t){t.useNativeTimers?(e.setTimeoutFn=mf.bind(He),e.clearTimeoutFn=_f.bind(He)):(e.setTimeoutFn=He.setTimeout.bind(He),e.clearTimeoutFn=He.clearTimeout.bind(He))}const vf=1.33;function yf(e){return typeof e=="string"?bf(e):Math.ceil((e.byteLength||e.size)*vf)}function bf(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function wf(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function Tf(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let r=s[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class xf extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class br extends we{constructor(t){super(),this.writable=!1,yi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,n){return super.emitReserved("error",new xf(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=yr(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=wf(t);return s.length?"?"+s:""}}const tl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Wi=64,Af={};let xo=0,Ns=0,Ao;function Co(e){let t="";do t=tl[e%Wi]+t,e=Math.floor(e/Wi);while(e>0);return t}function sl(){const e=Co(+new Date);return e!==Ao?(xo=0,Ao=e):e+"."+Co(xo++)}for(;Ns<Wi;Ns++)Af[tl[Ns]]=Ns;let nl=!1;try{nl=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Cf=nl;function il(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Cf))return new XMLHttpRequest}catch{}if(!t)try{return new He[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Sf(){}const Ef=function(){return new il({xdomain:!1}).responseType!=null}();class kf extends br{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const s=t&&t.forceBase64;this.supportsBinary=Ef&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ff(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,df(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=sl()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new rt(this.uri(),t)}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class rt extends we{constructor(t,s){super(),yi(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=el(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new il(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=rt.requestsCount++,rt.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Sf,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete rt.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}rt.requestsCount=0;rt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",So);else if(typeof addEventListener=="function"){const e="onpagehide"in He?"pagehide":"unload";addEventListener(e,So,!1)}}function So(){for(let e in rt.requests)rt.requests.hasOwnProperty(e)&&rt.requests[e].abort()}const wr=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0))(),js=He.WebSocket||He.MozWebSocket,Eo=!0,Pf="arraybuffer",ko=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Of extends br{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,n=ko?{}:el(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Eo&&!ko?s?new js(t,s):new js(t):new js(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;vr(n,this.supportsBinary,r=>{const o={};try{Eo&&this.ws.send(r)}catch{}i&&wr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=sl()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!js}}class If extends br{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=pf(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=hf();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const r=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this.writer.write(n).then(()=>{i&&wr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const $f={websocket:Of,webtransport:If,polling:kf},Rf=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Df=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gi(e){const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=Rf.exec(e||""),r={},o=14;for(;o--;)r[Df[o]]=i[o]||"";return s!=-1&&n!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Mf(r,r.path),r.queryKey=Bf(r,r.query),r}function Mf(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Bf(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,r){i&&(s[i]=r)}),s}let rl=class Kt extends we{constructor(t,s={}){super(),this.binaryType=Pf,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=Gi(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=Gi(s.host).host),yi(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tf(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=Za,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new $f[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Kt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),n=!1;Kt.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Kt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=s.name,this.emitReserved("upgradeError",p)}}))};function r(){n||(n=!0,d(),s.close(),s=null)}const o=f=>{const p=new Error("probe error: "+f);p.transport=s.name,r(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function c(f){s&&f.name!==s.name&&r()}const d=()=>{s.removeListener("open",i),s.removeListener("error",o),s.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};s.once("open",i),s.once("error",o),s.once("close",a),this.once("close",l),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Kt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=yf(i)),n>0&&s>this.maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}write(t,s,n){return this.sendPacket("message",t,s,n),this}send(t,s,n){return this.sendPacket("message",t,s,n),this}sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:t,data:s,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){Kt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}};rl.protocol=Za;function Ff(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Gi(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+t,n.href=n.protocol+"://"+r+(s&&s.port===n.port?"":":"+n.port),n}const Lf=typeof ArrayBuffer=="function",Uf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ol=Object.prototype.toString,Nf=typeof Blob=="function"||typeof Blob<"u"&&ol.call(Blob)==="[object BlobConstructor]",jf=typeof File=="function"||typeof File<"u"&&ol.call(File)==="[object FileConstructor]";function Tr(e){return Lf&&(e instanceof ArrayBuffer||Uf(e))||Nf&&e instanceof Blob||jf&&e instanceof File}function Gs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Gs(e[s]))return!0;return!1}if(Tr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Gs(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Gs(e[s]))return!0;return!1}function Hf(e){const t=[],s=e.data,n=e;return n.data=Yi(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Yi(e,t){if(!e)return e;if(Tr(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Yi(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Yi(e[n],t));return s}return e}function Vf(e,t){return e.data=Ji(e.data,t),delete e.attachments,e}function Ji(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Ji(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Ji(e[s],t));return e}const qf=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Kf=5;var Z;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Z||(Z={}));class zf{constructor(t){this.replacer=t}encode(t){return(t.type===Z.EVENT||t.type===Z.ACK)&&Gs(t)?this.encodeAsBinary({type:t.type===Z.EVENT?Z.BINARY_EVENT:Z.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===Z.BINARY_EVENT||t.type===Z.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Hf(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function Po(e){return Object.prototype.toString.call(e)==="[object Object]"}class xr extends we{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===Z.BINARY_EVENT;n||s.type===Z.BINARY_ACK?(s.type=n?Z.EVENT:Z.ACK,this.reconstructor=new Wf(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Tr(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(Z[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Z.BINARY_EVENT||n.type===Z.BINARY_ACK){const r=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(r,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(s+1)==="/"){const r=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(r,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const r=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}n.id=Number(t.substring(r,s+1))}if(t.charAt(++s)){const r=this.tryParse(t.substr(s));if(xr.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case Z.CONNECT:return Po(s);case Z.DISCONNECT:return s===void 0;case Z.CONNECT_ERROR:return typeof s=="string"||Po(s);case Z.EVENT:case Z.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&qf.indexOf(s[0])===-1);case Z.ACK:case Z.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Wf{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=Vf(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Gf=Object.freeze(Object.defineProperty({__proto__:null,Decoder:xr,Encoder:zf,get PacketType(){return Z},protocol:Kf},Symbol.toStringTag,{value:"Module"}));function Ge(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const Yf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class al extends we{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ge(t,"open",this.onopen.bind(this)),Ge(t,"packet",this.onpacket.bind(this)),Ge(t,"error",this.onerror.bind(this)),Ge(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(Yf.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:Z.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,a=s.pop();this._registerAckCallback(o,a),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(r),s.apply(this,[null,...o])}}emitWithAck(t,...s){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,r)=>{s.push((o,a)=>n?o?r(o):i(a):i(o)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...r)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...r)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Z.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Z.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Z.EVENT:case Z.BINARY_EVENT:this.onevent(t);break;case Z.ACK:case Z.BINARY_ACK:this.onack(t);break;case Z.DISCONNECT:this.ondisconnect();break;case Z.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:Z.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Z.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function rs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}rs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};rs.prototype.reset=function(){this.attempts=0};rs.prototype.setMin=function(e){this.ms=e};rs.prototype.setMax=function(e){this.max=e};rs.prototype.setJitter=function(e){this.jitter=e};class Qi extends we{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,yi(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new rs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||Gf;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new rl(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ge(s,"open",function(){n.onopen(),t&&t()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Ge(s,"error",r);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),s.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ge(t,"ping",this.onping.bind(this)),Ge(t,"data",this.ondata.bind(this)),Ge(t,"error",this.onerror.bind(this)),Ge(t,"close",this.onclose.bind(this)),Ge(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){wr(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new al(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const cs={};function Ys(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Ff(e,t.path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=cs[i]&&r in cs[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Qi(n,t):(cs[i]||(cs[i]=new Qi(n,t)),l=cs[i]),s.query&&!t.query&&(t.query=s.queryKey),l.socket(s.path,t)}Object.assign(Ys,{Manager:Qi,Socket:al,io:Ys,connect:Ys});class Jf{constructor(){m(this,"socket")}setupSocketConnection(){this.socket=Ys("https://solid-garden-397801.wl.r.appspot.com/"),this.socket.on("users",t=>this.usersUpdated(t)),this.socket.on("host",t=>this.hostUpdated(t)),this.socket.on("joined",t=>this.joined(t)),this.socket.on("left",t=>this.userLeft(t)),this.socket.on("synced",t=>this.synced(t)),this.socket.on("acted",t=>this.acted(t))}usersUpdated(t){const s=ee().multiplayer;s.users=t,s.local||(s.local=t[t.length-1],this.joinGame())}joinGame(){this.socket&&this.socket.emit("join",ee().multiplayer.local)}hostUpdated(t){const s=ee().multiplayer;s.host=t}joined(t){const s=ee().settings.players,n=ee().multiplayer;t&&s===n.users.length&&n.isHostLocal()&&(ee().randomizeStartingPlayer(),this.syncGame())}syncGame(){if(!this.socket)return;const t=ee().multiplayer;if(t.local&&t.isHostLocal()){const s=ee().createSetupPacket();s.h=t.host,this.socket.emit("sync",s)}}userLeft(t){const s=ee().multiplayer;s.users=s.users.filter(n=>n!==t)}synced(t){const s=ee().multiplayer;s.host=t.h,s.local&&(s.isHostLocal()||ee().loadSetupPacket(t),this.assignRemoteStatus())}assignRemoteStatus(){const t=ee().multiplayer;if(!t.local)return;const s=t.users.indexOf(t.local);for(let n=0;n<4;n++)this.setPlayerRemote(n+1,s!==n)}setPlayerRemote(t,s){const n=ee().playerForID(t);n&&(n.remote=s)}selectStart(t,s){this.socket&&this.socket.emit("act",{act:de.start,pID:t,tID:s})}rollDice(t,s,n){this.socket&&this.socket.emit("act",{act:de.roll,pID:t,d1:s,d2:n})}moveMonster(t,s){this.socket&&this.socket.emit("act",{act:de.monster,pID:t,tID:s})}tradeResource(t,s){this.socket&&this.socket.emit("act",{act:de.trade,pID:t,rID:s})}spendResource(t,s,n,i){this.socket&&this.socket.emit("act",{act:de.spend,pID:t,rID:s,amt:n,tID:i})}trainUnit(t,s,n){this.socket&&this.socket.emit("act",{act:de.train,pID:t,uID:s,tID:n})}moveUnits(t,s,n,i){this.socket&&this.socket.emit("act",{act:de.move,pID:t,uIDs:s,fID:n,tID:i})}toggleBattle(t,s){this.socket&&this.socket.emit("act",{act:de.battle,pID:t,battle:s})}unitDamageUnit(t,s,n,i,r,o){this.socket&&this.socket.emit("act",{act:de.damage,pID:t,aID:s,fID:n,dID:i,tID:r,dam:o})}unitDamageBase(t,s,n,i,r){this.socket&&this.socket.emit("act",{act:de.siege,pID:t,aID:s,fID:n,tID:i,dam:r})}nextTurn(t){this.socket&&this.socket.emit("act",{act:de.next,pID:t})}concedeGame(t){this.socket&&this.socket.emit("act",{act:de.concede,pID:t})}acted(t){var n;const s=ee();(n=s.playerForID(t.pID))!=null&&n.remote&&(t.act===de.start?s.playerSelectStartingTile(t.pID,t.tID):t.act===de.roll?s.setRoll(t.d1,t.d2):t.act===de.monster?s.moveMonsterToTile(t.tID):t.act===de.trade?s.playerTradeForResource(t.pID,t.rID):t.act===de.spend?s.playerSpendResource(t.pID,t.rID,t.amt,t.tID):t.act===de.train?s.playerTrainUnitOnTile(t.pID,t.uID,t.tID):t.act===de.move?s.playerMoveUnits(t.pID,t.uIDs,t.fID,t.tID):t.act===de.battle?s.toggleBattle(t.battle):t.act===de.damage?s.unitDamageUnit(t.aID,t.fID,t.dID,t.tID,t.dam):t.act===de.siege?s.unitDamageBase(t.aID,t.fID,t.tID,t.dam):t.act===de.next?s.nextTurn():t.act===de.concede&&s.playerConcedeGame(t.pID))}disconnect(){this.socket&&this.socket.disconnect()}}const xe=new Jf,ee=ad("game",{state:()=>({players:[],multiplayer:new go,grid:[],resources:[],trade:new mo,train:0,turn:new zt(0),timer:0,monster:new vo,battling:!1,stats:new yo,settings:new Oi,menu:!1,tutorial:!1,victory:st.none,error:""}),getters:{playersGrid({settings:e}){return G.grid.find(t=>t.players===e.players)},playerActive({players:e,turn:t}){return e.find(s=>s.id===t.player)||null},playerWinner({players:e}){return e.find(t=>t.end===1)||null},playerStartingLife(){return G.themeData[this.settings.theme].startingLife},nextPlayerPlacement(){return this.players.filter(e=>!e.end).length},lastPlayerStanding(){return this.nextPlayerPlacement===1&&this.players.find(e=>!e.end)||null},tilesAll(){const e=[];return this.grid.forEach(t=>t.forEach(s=>e.push(s))),e},tilesOfActivePlayer(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()===this.playerActive)},tilesOfTheEnemy(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()!==this.playerActive)},tilesWithinDistance(){const e=this.unitsSelectedTile;if(!e)return[];const t=[e];t.push(...e.adjacent);for(let s=1;s<this.unitsMoveDistance;s++){const n=[];t.forEach(i=>{i.adjacent.forEach(r=>{!t.includes(r)&&!n.includes(r)&&n.push(r)})}),t.push(...n)}return t},tradeSurcharge(){return G.themeData[this.settings.theme].tradeSurcharge},resourceTypes(){return Es.resourceTypes(this.settings.theme)},resourceTypesValid(){return Es.resourceTypesValid(this.settings.theme)},unitTypes(){return qt.unitTypes(this.settings.theme)},unitsSelected({grid:e}){const t=[];return e.forEach(s=>{s.forEach(n=>{n.units.forEach(i=>{i.selected&&t.push(i)})})}),t},unitsSelectedTile(){const e=this.unitsSelected;return e.length?e[0].tile:null},unitsMoveDistance(){let e=G.maxMoveDistance;return this.unitsSelected.forEach(t=>{const s=t.type;s&&(e=Math.min(e,s.move))}),e},unitsMovableForActivePlayer(){const e=[];return this.tilesOfActivePlayer.forEach(t=>t.units.forEach(s=>{!s.moved&&!s.staying&&e.push(s)})),e},battleEnabled(){return this.playerStartingLife>0},turnTime(){return G.themeData[this.settings.theme].turnLength},turnPhase({turn:e}){return G.turnPhases[e.phase]},startPhase(){return this.turnPhase.phase===Ut.start},rollPhase(){return this.turnPhase.phase===Ut.roll},marchPhase(){return this.turnPhase.phase===Ut.march},rolled(){return this.turn.roll.rolled},vsComputer(){return this.players&&this.players.length>1?this.players[1].computer:!1},isComputerTurn(){return this.playerActive?this.vsComputer&&this.playerActive.computer:!1},isOpponentTurn(){return this.playerActive?this.playerActive.computer||this.playerActive.remote:!1},gameSpeed(){var e;return(e=this.settings)!=null&&e.speed?this.settings.speed:1},theme(){return this.settings.theme},themeOptions(){return Object.keys(G.themeData)},monsterName(){return G.themeData[this.settings.theme].monsterName},baseIcon(){return`${this.settings.theme}/base`},winningPoints(){return G.themeData[this.settings.theme].winningPoints},victoryString(){switch(this.victory){case st.none:return"";case st.concede:return"Opponent Conceded";case st.points:return"Victory Points Winner";case st.siege:return"Opponent's Base Destroyed"}},matchStrings(){return["Player - vs - Computer","Player - vs - Player Local","Player - vs - Player Online","Computer - vs - Computer"]},playerCountOptions(){const e=[];for(let t=G.minPlayers;t<=G.maxPlayers;t++)e.push(t);return e},pvpOnline(){return this.settings.mode===Me.PvPOnline},waitingForOnlinePlayer(){return this.settings.mode==Me.PvPOnline&&this.multiplayer.users.length<this.settings.players?!0:this.settings.mode==Me.PvPOnline?!this.players.find(e=>e.remote):!1}},actions:{init(){this.reset(),this.loadSettings(),this.buildPlayers(),this.randomizeStartingPlayer(),this.buildGrid(),this.calculateGridAdjacents(),this.ensureValidAdjacents(),this.logTileScores(),this.updateMatchMode(this.settings.mode),this.stats.init(G.themeData[this.theme].unitTypes.length,G.themeData[this.theme].resourceTypes.length,this.settings.players),this.timer=setInterval(this.updateTimer,1e3)},reset(){clearInterval(this.timer),this.players=[],this.multiplayer=new go,this.grid=[],this.resources=[],this.trade=new mo,this.train=0,this.turn=new zt(this.turnTime),this.timer=0,this.monster=new vo,this.battling=!1,this.stats=new yo,this.settings=new Oi,this.menu=!1,this.tutorial=!1,this.victory=st.none,this.error=""},clearError(){this.error="",this.trade.take&&!this.trade.valid&&this.setTradeTake(0)},updateTimer(){this.startPhase||this.menu||this.victory||(this.turn.time--,this.turn.time<=0&&this.newTurn())},save(){this.savePlayers(),this.saveGrid(),this.saveUnits(),this.saveTurn(),this.saveMonster(),this.saveStats()},savePlayers(){this.saveObject(this.encodePlayers(),"p")},encodePlayers(){const e=[];return this.players.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveGrid(){this.saveObject(this.encodeGrid(),"g")},encodeGrid(){const e=[];return this.tilesAll.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveUnits(){this.saveObject(this.encodeUnits(),"u")},encodeUnits(){const e=[];return this.tilesAll.forEach(t=>{t.units.forEach(s=>{e.push(s.save())})}),this.encodeObject(e)},saveTurn(){const e=this.turn;this.saveObject(this.encodeObject(e),"t")},saveMonster(){const e=this.monster;this.saveObject(this.encodeObject(e),"d")},saveStats(){const e=this.stats;this.saveObject(this.encodeObject(e),"s")},saveSettings(){const e=this.settings;this.saveObject(this.encodeObject(e),"x")},createSetupPacket(){const e=new Zd;return e.p=this.encodePlayers(),e.g=this.encodeGrid(),e.u=this.encodeUnits(),e.t=this.encodeObject(this.turn),e.d=this.encodeObject(this.monster),e.s=this.encodeObject(this.stats),e.x=this.encodeObject(this.settings),e},saveObject(e,t){Yd(t,e,999)},encodeObject(e){const t=JSON.stringify(e);return btoa(t)},load(){this.reset(),this.loadSettings(),this.loadPlayers(),this.loadGrid(),this.loadUnits(),this.loadTurn(),this.loadMonster(),this.loadStats()},loadPlayers(){this.decodePlayers(this.loadObject("p"))},decodePlayers(e){const t=this.decodeObject(e);this.players=[],t.forEach(s=>this.players.push(pt.load(s)))},loadGrid(){this.decodeGrid(this.loadObject("g")),this.calculateGridAdjacents()},decodeGrid(e){this.grid=[];let t=0;const s=this.decodeObject(e);this.playersGrid.size.forEach(n=>{const i=[];for(let r=0;r<n;r++){const o=s[t++],a=zs.load(o);a.type=this.resourceForID(o.t);const l=this.playerForID(o.b);l&&(a.base=l,l.base=a),i.push(a)}this.grid.push(i)})},loadUnits(){this.decodeUnits(this.loadObject("u"))},decodeUnits(e){let t=0;this.decodeObject(e).forEach(n=>{const i=this.unitTypeForID(n.y);if(i){const r=qt.load(n,i),o=this.playerForID(n.p);o&&(r.player=o);const a=this.tileForID(n.t);a&&(r.tile=a,a.units.push(r))}t=Math.max(t,n.i)}),this.checkForStrandedUnits(),qt.unitID=t+1},loadTurn(){this.turn=zt.load(this.decodeObject(this.loadObject("t")),this.turnTime)},loadMonster(){this.monster=this.decodeObject(this.loadObject("d"))},loadStats(){this.stats=this.decodeObject(this.loadObject("s"))},loadSettings(){const e=this.decodeObject(this.loadObject("x"));e&&(this.settings=Oi.load(e))},loadSetupPacket(e){this.settings.theme=this.decodeObject(e.x).theme,this.settings.players=this.decodeObject(e.x).players,this.decodePlayers(e.p),this.decodeGrid(e.g),this.calculateGridAdjacents(),this.decodeUnits(e.u),this.turn=zt.load(this.decodeObject(e.t),this.turnTime),this.monster=this.decodeObject(e.d),this.stats=this.decodeObject(e.s)},loadObject(e){const t=Jd(e);return t||null},decodeObject(e){if(!e)return"";const t=atob(e);return JSON.parse(t)},buildPlayers(){for(let e=0;e<this.settings.players;e++){const t=new pt(e+pt.playerID,this.playerStartingLife);this.resourceTypes.forEach(()=>t.resources.push(0)),this.players.push(t)}},playerForID(e){return this.players.find(t=>t.id===e)||null},randomizeStartingPlayer(){const e=Math.floor(Math.random()*this.players.length)+1;this.turn.player=e},buildGrid(){const e=[...this.playersGrid.rolls],t=[...this.gridOptions()];this.playersGrid.size.forEach(s=>{var i;const n=[];for(let r=0;r<s;r++){const o=new zs(zs.tileID++),a=Math.floor(Math.random()*t.length),l=this.resourceForType(t.splice(a,1)[0]);l&&(o.type=l,(i=o.type)!=null&&i.resource?o.roll=e.splice(Math.floor(Math.random()*e.length),1)[0]:this.monster.location||(this.monster.location=o.id)),n.push(o)}this.grid.push(n)})},gridOptions(){var t;const e=[];return(t=this.playersGrid)==null||t.makeup.forEach((s,n)=>{for(let i=0;i<s;i++){const r=this.resourceForID(n+1);r&&e.push(r.type)}}),e},calculateGridAdjacents(){const e=this.grid.length;for(let t=0;t<e;t++){const s=this.grid[t].length;for(let n=0;n<s;n++){const i=this.grid[t][n];i.adjacent=[];const r=n===s-1,o=this.tileForID(i.id+1);!r&&o&&i.adjacent.push(o);const a=n===0,l=this.tileForID(i.id-1);!a&&l&&i.adjacent.push(l),this.addAdjacentsBelow(i,t,a,r,s),this.addAdjacentsAbove(i,t,a,r,s)}}},addAdjacentsBelow(e,t,s,n,i){if(!(t===this.grid.length-1)){const o=this.grid[t+1].length,a=this.tileForID(e.id+i);a&&(!n||o>i)&&e.adjacent.push(a);const l=this.tileForID(e.id+o);l&&(!s||o>i)&&e.adjacent.push(l)}},addAdjacentsAbove(e,t,s,n,i){if(!(t===0)){const o=this.grid[t-1].length,a=this.tileForID(e.id-i);a&&(!s||o>i)&&e.adjacent.push(a);const l=this.tileForID(e.id-o);l&&(!n||o>i)&&e.adjacent.push(l)}},ensureValidAdjacents(){let e=!1;this.tilesAll.forEach(t=>{var n;const s=((n=t.type)==null?void 0:n.type)||null;s&&G.themeData[this.theme].separateResourceTypes.includes(s)&&t.adjacent.forEach(i=>{var r;((r=i.type)==null?void 0:r.type)===s&&(e=!0)}),t.adjacent.forEach(i=>{i.roll===t.roll&&(e=!0)})}),e&&(this.monster.location=0,this.shuffleGrid(),this.ensureValidAdjacents())},shuffleTiles(e){return e.map(t=>({value:t,sort:Math.random()})).sort((t,s)=>t.sort-s.sort).map(({value:t})=>t)},shuffleGrid(){let e=this.tilesAll;e=this.shuffleTiles(e);let t=0;this.grid=[],this.playersGrid.size.forEach(s=>{var i;const n=[];for(let r=0;r<s;r++){const o=e[t++];o.id=t,!((i=o.type)!=null&&i.value)&&!this.monster.location&&(this.monster.location=o.id),n.push(o)}this.grid.push(n)}),this.calculateGridAdjacents()},logTileScores(){this.tilesAll.forEach(e=>{}),this.tilesAll.reduce((e,t)=>e.startScore()>t.startScore()?e:t)},tileForID(e){return this.tilesAll.find(t=>t.id===e)||null},tileUnitForID(e,t){return e.units.find(s=>s.id===t)||null},playerControllingTile(e){return e.base?e.base:e.units.length?e.units[0].player:null},playerActiveControllingTile(e){const t=this.playerControllingTile(e);return this.playerActive===t},opponentControllingTile(e){const t=this.playerControllingTile(e);return t!==null&&this.playerActive!==t},tileWithinDistance(e){return this.tilesWithinDistance.includes(e)},selectTile(e){this.startPhase?this.selectStartingTile(e):this.rollPhase&&this.monster.moving?this.moveMonster(e):this.marchPhase&&this.train?this.trainUnitOnTile(e):this.marchPhase&&this.unitsSelectedTile===e?this.selectTileUnits(e):this.marchPhase&&this.unitsSelectedTile?this.moveUnitsToTile(e):this.marchPhase&&!this.train&&this.selectTileUnits(e),this.calculateVictoryPoints()},selectStartingTile(e){var t;if(e.base&&(this.error="You can't select another players starting location!"),(t=e.type)!=null&&t.resource||(this.error="Why would you want to put your base there?"),e.adjacent.find(s=>s.base)&&(this.error="Maybe don't start so close to the other player..."),this.playerActive&&!this.error&&!this.playerActive.base){const s=this.playerActive.id,n=e.id;this.playerSelectStartingTile(s,n),xe.selectStart(s,n)}},playerSelectStartingTile(e,t){const s=this.playerForID(e),n=this.tileForID(t);!s||!n||(s.base=n,n.base=s,G.themeData[this.theme].startingUnits.forEach(i=>this.createUnitOnTile(i,n)),this.distributeResourcesToPlayerForTile(n),this.playSound("fanfare"),this.nextTurn())},moveMonster(e){var s;if(e.base){this.error=`The ${this.monsterName} is too smart to go near a base, you know?`;return}if(this.monster.location===e.id){this.error=`The ${this.monsterName} is bored of that spot. Try somewhere else.`;return}const t=((s=this.playerActive)==null?void 0:s.id)||0;xe.moveMonster(t,e.id),this.moveMonsterToTile(e.id)},moveMonsterToTile(e){this.monster.location=e,this.monster.moving=!1,this.playSound("monster"),this.nextPhase()},monsterEats(){if(this.monster.hungry){this.monster.hungry=!1;const e=this.tileForID(this.monster.location);if(e&&e.units.length){const t=e.units.sort((s,n)=>n.id-s.id)[0];this.playSound("monster"),this.playSound("death"),e.units=e.units.filter(s=>s!==t),this.stats.monsterKills++}}},rollDice(){if(this.turn.roll.roll(),!this.playerActive)return;const e=this.playerActive.id;xe.rollDice(e,this.turn.roll.dieOne,this.turn.roll.dieTwo),this.rollActions()},setRoll(e,t){this.turn.roll.setRoll(e,t),this.rollActions()},rollActions(){this.playSound("dice"),this.statsIncrementRollSpread(),this.monster.moving=this.turn.roll.total===G.monsterRoll,this.monster.moving||(this.resolveRoll(this.turn.roll.total),this.monster.hungry=!0)},resolveRoll(e){this.tilesAll.forEach(t=>{var s;if(t.roll===e&&((s=t.type)!=null&&s.type)&&t.id!==this.monster.location){const n=this.playerControllingTile(t);n&&this.checkSupplyLinesForTile(t,[],n)&&this.distributeResourcesToPlayerForTile(t)}}),this.nextPhase()},checkSupplyLinesForTile(e,t,s){if(e.base)return!0;const n=t||[];n.push(e);for(let i=0;i<e.adjacent.length;i++){const r=e.adjacent[i];if(!n.includes(r)){let o=!1;if(this.playerControllingTile(r)===s&&(o=this.checkSupplyLinesForTile(r,n,s)),n.push(r),o)return o}}return!1},distributeBaseResource(){if(!this.playerActive)return;const e=this.playerActive.base;if(!e)return;const t=new dt(dt.resourceID++);t.player=this.playerActive,t.tile=e,t.type=e.type,this.resources.push(t)},distributeResourcesToPlayerForTile(e){const t=this.playerControllingTile(e);if(!t)return;let s=0;e.units.length&&(s+=e.units.length),e.base&&(s+=G.themeData[this.settings.theme].baseGeneration);for(let n=0;n<s;n++){const i=new dt(dt.resourceID++);i.player=t,i.tile=e,i.type=e.type,i.delay=n,this.resources.push(i)}},tradeForResource(e){if(!this.playerActive)return;const t=this.playerActive.id;xe.tradeResource(t,e),this.playerTradeForResource(t,e)},playerTradeForResource(e,t){const s=this.resourceForID(t),n=this.playerForID(e);if(!s||!n)return;const i=new dt(dt.resourceID++);i.player=n,i.tile=n.base,i.type=s,n.stats.resourcesTraded++,this.resources.push(i)},spendResource(e,t,s=null){if(!this.playerActive)return;const n=this.playerActive.id,i=(s==null?void 0:s.id)||0;xe.spendResource(n,e,t,i),this.playerSpendResource(n,e,t,i)},playerSpendResource(e,t,s,n){const i=this.resourceForID(t),r=this.playerForID(e);if(!(!i||!r)){for(let o=0;o<s;o++){const a=new dt(dt.resourceID++);a.player=r,n?a.tile=this.tileForID(n):a.tile=r.base,a.type=i,a.spend=!0,a.delay=o,this.resources.push(a),r.stats.resourcesSpent++}r.updateResource(t,s*-1)}},resourceForID(e){return this.resourceTypes.find(t=>t.id===e)||null},resourceForType(e){return this.resourceTypes.find(t=>t.type===e)||null},transitionResourceToPlayer(e){const t=e.player;!t||!e.type||(e.spend||(t.updateResource(e.type.id,1),t.stats.resourcesGathered++,this.playSound("caching"),this.statsIncrementResourceSpread(e.type.id)),e.hide=!0,this.flushResources())},styleResource(e,t){const s=document.getElementById(e),n=this.resourceForType(t);if(!s||!n)return;const i=new URL(Object.assign({"../assets/icons/close.svg":Tn,"../assets/icons/corporate/art.svg":xn,"../assets/icons/corporate/base.svg":An,"../assets/icons/corporate/car.svg":Cn,"../assets/icons/corporate/coder.svg":Sn,"../assets/icons/corporate/designer.svg":En,"../assets/icons/corporate/executive.svg":kn,"../assets/icons/corporate/glasses.svg":Pn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":In,"../assets/icons/corporate/keys.svg":$n,"../assets/icons/corporate/laptop.svg":Rn,"../assets/icons/corporate/manager.svg":Dn,"../assets/icons/defense.svg":Mn,"../assets/icons/flag.svg":Bn,"../assets/icons/give.svg":Fn,"../assets/icons/help.svg":Ln,"../assets/icons/load.svg":Un,"../assets/icons/medieval/archer.svg":Nn,"../assets/icons/medieval/base.svg":jn,"../assets/icons/medieval/footman.svg":Hn,"../assets/icons/medieval/horse.svg":Vn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Kn,"../assets/icons/medieval/peasant.svg":zn,"../assets/icons/medieval/rice.svg":Wn,"../assets/icons/medieval/serf.svg":Gn,"../assets/icons/medieval/tree.svg":Yn,"../assets/icons/medieval/wand.svg":Jn,"../assets/icons/medieval/wizard.svg":Qn,"../assets/icons/menu.svg":Xn,"../assets/icons/move.svg":Zn,"../assets/icons/next.svg":ei,"../assets/icons/offense.svg":ti,"../assets/icons/ranged.svg":si,"../assets/icons/reset.svg":ni,"../assets/icons/save.svg":ii,"../assets/icons/settings.svg":ri,"../assets/icons/take.svg":oi,"../assets/icons/undead/base.svg":ai,"../assets/icons/undead/coffin.svg":li,"../assets/icons/undead/flesh.svg":ci,"../assets/icons/undead/ghost.svg":ui,"../assets/icons/undead/moonshine.svg":di,"../assets/icons/undead/remains.svg":fi,"../assets/icons/undead/scroll.svg":hi,"../assets/icons/undead/skeleton.svg":pi,"../assets/icons/undead/soul.svg":gi,"../assets/icons/undead/vampire.svg":mi,"../assets/icons/undead/werewolf.svg":_i,"../assets/icons/undead/zombie.svg":vi})[`../assets/icons/${this.theme}/${n.icon}.svg`],self.location).href;s.style.maskImage=`url(${i})`,s.style.webkitMaskImage=`url(${i})`,s.style.background=n.color},flushResources(){this.resources.find(e=>!e.hide)||(this.resources=[])},clearTrade(){this.setTradeGive(0),this.setTradeTake(0)},setTradeGive(e){this.trade.give=e},setTradeTake(e){this.trade.take=e,this.calculateTradeValidity()},calculateTradeValidity(){var s;const e=this.resourceForID(this.trade.give),t=this.resourceForID(this.trade.take);t?e&&this.playerActive&&(this.trade.cost=t.value*this.tradeSurcharge,this.trade.valid=((s=this.playerActive)==null?void 0:s.resourceCount(e.id))>=this.trade.cost,this.trade.valid?this.playerActive&&(this.tradeForResource(t.id),this.spendResource(e.id,this.trade.cost),this.clearTrade()):this.error=`You need ${this.trade.cost} ${e.resource}'s to trade for 1 ${t.resource}...`):(this.trade.cost=0,this.trade.valid=!1)},unitTypeForID(e){return this.unitTypes.find(t=>t.id===e)||null},unitTypeForType(e){return this.unitTypes.find(t=>t.type===e)||null},selectTrainUnit(e){const t=e.id;this.train===t?this.train=0:this.train=t},canAffordUnit(e){return this.canAffordUnitResources(e)===e.cost.length},canAffordUnitResources(e){let t=0;return e.cost.forEach(s=>{const n=this.resourceForID(s[0]);n&&this.canAffordUnitResource(e,n)&&t++}),t},canAffordUnitResource(e,t){let s=!1;return e.cost.forEach(n=>{var i;if(t&&this.playerActive&&n[0]===t.id){const r=(i=this.playerActive)==null?void 0:i.resourceCount(t.id);n[1]<=r&&(s=!0)}}),s},trainUnitOnTile(e){if(e.units.length>=G.tileUnitMax){this.error="There just isn't any more room there...";return}const t=this.unitTypeForID(this.train);if(!t||!this.playerActive)return;const s=this.playerActive.id;xe.trainUnit(s,t.id,e.id),this.playerTrainUnitOnTile(s,t.id,e.id)},playerTrainUnitOnTile(e,t,s){var r;const n=this.unitTypeForID(t),i=this.tileForID(s);!n||!i||(this.createUnitOnTile(n==null?void 0:n.type,i),this.playSound((r=n.battle)==null?void 0:r.sound),this.checkForStrandedUnits(),n.cost.forEach(o=>{const a=this.resourceForID(o[0]);e&&a&&this.playerSpendResource(e,a.id,o[1],i.id)}),this.train=0)},createUnitOnTile(e,t){const s=this.unitTypeForType(e);if(!s)return;const n=new qt(qt.unitID++,s);n.tile=t,n.moved=!0,this.playerActive&&(n.player=this.playerActive,this.playerActive.stats.unitsTrained++),t.units.push(n),this.statsIncrementUnitSpread(s.id)},selectTileUnits(e){let t=!0;e.units.find(s=>!s.selected&&!s.moved)||(t=!1),e.units.forEach(s=>{s.moved||(s.selected=t)})},moveUnitsToTile(e){const t=this.unitsSelectedTile;if(!t||e===t)return;const s=e.playerController();if(s&&s!==this.playerActive){e.adjacent.includes(t)?e.units.length&&t?this.battleTiles(t,e):this.siegeBase(t,e):this.error="You can't start a battle from that far away...";return}e.units.length+this.unitsSelected.length>G.tileUnitMax?this.error="You think those are all going to fit?":this.moveSelectedUnitsToTile(this.unitsSelected,e)},moveSelectedUnitsToTile(e,t){var o;if(!this.playerActive)return;const s=this.playerActive.id,n=e.map(a=>a.id),i=((o=e[0].tile)==null?void 0:o.id)||0,r=t.id;xe.moveUnits(s,n,i,r),this.playerMoveUnits(s,n,i,r)},playerMoveUnits(e,t,s,n){t.forEach(i=>this.moveUnitFromTileToTile(e,i,s,n)),this.playSound("march"),this.checkForStrandedUnits(),this.calculateVictoryPoints()},moveUnitFromTileToTile(e,t,s,n){const i=this.playerForID(e),r=this.tileForID(s),o=this.tileForID(n);if(!i||!r||!o)return;const a=this.tileUnitForID(r,t);a&&(r.units=r.units.filter(l=>a!==l),a.tile=o,a.moved=!0,a.selected=!1,o.units.push(a),i&&i.stats.unitsMoved++)},checkForStrandedUnits(){this.tilesAll.forEach(e=>{e.units.forEach(t=>{const s=e.playerController();s&&(t.stranded=!this.checkSupplyLinesForTile(e,[],s))})})},resetUnitMoves(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.resetMove()))},resetUnitDamage(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.damage=0))},async battlePause(){await new Promise(e=>setTimeout(e,1e3/this.gameSpeed))},attackerTileUnits(e){const t=e.units.filter(s=>s.selected);return t.length?t:null},toggleBattle(e){this.battling=e,e||this.stats.battlesCount++},async battleTiles(e,t){var i;xe.toggleBattle(((i=this.playerActive)==null?void 0:i.id)||0,!0),this.toggleBattle(!0);let s=!0,n=!1;for(;this.attackerTileUnits(e)&&t.units.length;)await this.resolveAttackWave(e,t,n,s),n&&(s=!s),n=!n,await this.battlePause();this.finishBattle(e,t)},finishBattle(e,t){var n;const s=this.attackerTileUnits(e);s&&!t.base?this.moveUnitsToTile(t):s&&s.forEach(i=>{i.moved=!0,i.selected=!1}),this.toggleBattle(!1),xe.toggleBattle(((n=this.playerActive)==null?void 0:n.id)||0,!1)},async resolveAttackWave(e,t,s,n){let i=s?this.attackerTileUnits(e):t.units;if(i)i=i==null?void 0:i.filter(o=>o.type.battle.ranged===n);else return;const r=s?t:e;for(let o=0;o<i.length;o++)await this.unitAttackTile(i[o],r,s)},async unitAttackTile(e,t,s){const n=s?t.units:this.attackerTileUnits(t);n&&(n.sort((i,r)=>{var o,a;return((o=r.type)==null?void 0:o.battle.defense)-((a=i.type)==null?void 0:a.battle.defense)}),this.unitDamageTargets(e,n)),await this.battlePause()},unitDamageTargets(e,t){e.type&&this.distributeDamage(e,t.shuffle(),e.type.battle.offense)},distributeDamage(e,t,s){var r,o,a;const n=s,i=t[0];if(n&&i&&i.type){const l=((r=e.tile)==null?void 0:r.id)||0,c=((o=i.tile)==null?void 0:o.id)||0,d=((a=this.playerActive)==null?void 0:a.id)||0;xe.unitDamageUnit(d,e.id,l,i.id,c,n),this.unitDamageUnit(e.id,l,i.id,c,n)}},unitDamageUnit(e,t,s,n,i){const r=this.tileForID(t),o=this.tileForID(n);if(!r||!o)return;const a=this.tileUnitForID(r,e),l=this.tileUnitForID(o,s);if(!a||!l)return;const c=l.type.battle.defense-l.damage;c>0&&(this.playSound(a.type.battle.sound),a.player&&(a.player.stats.damageTotal+=i),c<=i?(l.damage=l.type.battle.defense,l.player&&l.player.stats.unitsLost++,a.player&&a.player.stats.unitsKilled++,this.playSound("death")):i&&(l.damage+=i)),o.units=o.units.filter(d=>d.damage<d.type.battle.defense)},async siegeBase(e,t){var i,r,o;xe.toggleBattle(((i=this.playerActive)==null?void 0:i.id)||0,!0),this.toggleBattle(!0);const s=e.units.filter(a=>a.selected);if(t.base){for(let a=0;a<s.length;a++){const l=s[a];if(!l.type)continue;const c=l.type.battle.offense,d=((r=l.player)==null?void 0:r.id)||0;xe.unitDamageBase(d,l.id,e.id,t.id,c),this.unitDamageBase(l.id,e.id,t.id,c),await this.battlePause()}this.toggleBattle(!1),xe.toggleBattle(((o=this.playerActive)==null?void 0:o.id)||0,!1)}},unitDamageBase(e,t,s,n){const i=this.tileForID(t),r=this.tileForID(s);if(!i||!r)return;const o=this.tileUnitForID(i,e),a=r==null?void 0:r.playerController();!o||!a||(a.life-=n,a.life=Math.max(0,a.life),o.player&&(o.player.stats.damageTotal+=n),o.moved=!0,o.selected=!1,this.playSound(o.type.battle.sound),this.checkBaseVictory(a))},checkBaseVictory(e){if(e.life<=0){e.end=this.nextPlayerPlacement;const t=this.lastPlayerStanding;t&&(t.end=1,this.victory=st.siege,this.playSound("crumble"))}},calculateVictoryPoints(){this.players.forEach(e=>{let t=0,s=0,n=0;this.tilesAll.forEach(i=>{t+=this.calculateVictoryPointsForTile(i,e);const r=i.base==e,o=i.units.length>0&&i.units[0].player===e;(r||o)&&s++,o&&(n+=i.units.length)}),e.points=t,e.stats.pointsMax=Math.max(e.stats.pointsMax,t),e.stats.tilesMax=Math.max(e.stats.tilesMax,s),e.stats.unitsMax=Math.max(e.stats.unitsMax,n),this.checkVictoryPointsWinner(e)})},checkVictoryPointsWinner(e){if(this.winningPoints&&e.points>=this.winningPoints){let t=1;this.players.filter(n=>!n.end).sort((n,i)=>i.points-n.points).forEach(n=>n.end=t++),this.victory=st.points,this.playSound("victory")}},calculateVictoryPointsForTile(e,t){let s=0;const n=e.base===t,i=e.units.length>0&&e.units[0].player===t;return i&&e.units.forEach(r=>{var o;r.type&&(s+=(o=r.type)==null?void 0:o.value)}),(n||i)&&(s+=G.themeData[this.settings.theme].controlPoints),s},concede(){this.playerActive&&(xe.concedeGame(this.playerActive.id),this.playerConcedeGame(this.playerActive.id))},playerConcedeGame(e){const t=this.playerForID(e);if(!t)return;t.life=0,t.end=this.nextPlayerPlacement,this.playSound("crumble");const s=this.lastPlayerStanding;s&&(s.end=1,this.victory=st.concede,this.playSound("victory")),this.nextTurn()},playSound(e){const t=new URL(Object.assign({"../assets/sounds/corporate/bach.mp3":dd,"../assets/sounds/corporate/caching.mp3":fd,"../assets/sounds/corporate/car.mp3":hd,"../assets/sounds/corporate/death.mp3":pd,"../assets/sounds/corporate/dice.mp3":gd,"../assets/sounds/corporate/fanfare.mp3":md,"../assets/sounds/corporate/keys.mp3":_d,"../assets/sounds/corporate/march.mp3":vd,"../assets/sounds/corporate/monster.mp3":yd,"../assets/sounds/corporate/typing.mp3":bd,"../assets/sounds/corporate/victory.mp3":wd,"../assets/sounds/corporate/whip.mp3":Td,"../assets/sounds/medieval/arrow.mp3":xd,"../assets/sounds/medieval/caching.mp3":Ad,"../assets/sounds/medieval/crumble.mp3":Cd,"../assets/sounds/medieval/death.mp3":Sd,"../assets/sounds/medieval/dice.mp3":Ed,"../assets/sounds/medieval/fanfare.mp3":kd,"../assets/sounds/medieval/horse.mp3":Pd,"../assets/sounds/medieval/magic.mp3":Od,"../assets/sounds/medieval/march.mp3":Id,"../assets/sounds/medieval/monster.mp3":$d,"../assets/sounds/medieval/pitchfork.mp3":Rd,"../assets/sounds/medieval/sword.mp3":Dd,"../assets/sounds/medieval/victory.mp3":Md,"../assets/sounds/undead/bones.mp3":Bd,"../assets/sounds/undead/boo.mp3":Fd,"../assets/sounds/undead/caching.mp3":Ld,"../assets/sounds/undead/crumble.mp3":Ud,"../assets/sounds/undead/death.mp3":Nd,"../assets/sounds/undead/dice.mp3":jd,"../assets/sounds/undead/fanfare.mp3":Hd,"../assets/sounds/undead/howl.mp3":Vd,"../assets/sounds/undead/march.mp3":qd,"../assets/sounds/undead/monster.mp3":Kd,"../assets/sounds/undead/suck.mp3":zd,"../assets/sounds/undead/victory.mp3":Wd,"../assets/sounds/undead/zombie.mp3":Gd})[`../assets/sounds/${this.theme}/${e}.mp3`],self.location).pathname,s=new Audio(t),n=this.settings.sound||100;s.volume=n/100,s.play()},nextPhase(){this.playerWinner||(this.turn.phase++,this.turn.phase>=G.turnPhases.length&&(this.turn.phase=0,this.nextTurn()))},newTurn(){var t;if(this.playerWinner)return;const e=((t=this.playerActive)==null?void 0:t.id)||0;xe.nextTurn(e),this.nextTurn()},nextTurn(){this.turn.time=G.themeData[this.settings.theme].turnLength,this.turn.roll.rolled=!1,this.train=0,this.nextPlayerTurn(),this.resetUnitMoves(),this.resetUnitDamage(),this.calculateVictoryPoints(),this.clearTrade(),this.monsterEats(),this.flushResources(),this.distributeBaseResource(),this.stats.turnsCount++},nextPlayerTurn(){var t;if(this.turn.player++,this.turn.player>this.players.length&&(this.turn.player=1),(t=this.playerActive)!=null&&t.end){this.nextPlayerTurn();return}const e=this.players.find(s=>!s.base);e&&this.logTileScores(),this.turn.phase=e?0:1},statsIncrementRollSpread(){const e=this.turn.roll.total-2,t=this.stats.rollSpread[e];this.stats.rollSpread[e]=t+1},statsIncrementUnitSpread(e){const t=e-1,s=this.stats.unitSpread[t];this.stats.unitSpread[t]=s+1},statsIncrementResourceSpread(e){const t=e-1,s=this.stats.resourceSpread[t];this.stats.resourceSpread[t]=s+1},toggleSettings(){this.settings.open=!this.settings.open},toggleMenu(){this.menu=!this.menu},toggleTutorial(){this.tutorial=!this.tutorial},updateMatchMode(e){switch(this.settings.mode=e,e){case Me.PvC:this.setMatchPVC();break;case Me.PvPLocal:this.setMatchPVP();break;case Me.CvC:this.setMatchCVC();break;case Me.PvPOnline:this.setMatchOnline();break}},setMatchPVC(){this.players.forEach(e=>e.computer=e.id>1),this.turn.player=1,xe.disconnect()},setMatchPVP(){this.players.forEach(e=>e.computer=!1),xe.disconnect()},setMatchCVC(){this.players.forEach(e=>e.computer=!0),xe.disconnect()},setMatchOnline(){this.setMatchPVP(),xe.setupSocketConnection()}}}),Qf={class:"flex-row-spaced"},Xf=g("img",{src:ud,alt:"menu"},null,-1),Zf=[Xf],eh=me({__name:"Header",setup(e){const t=ee(),{matchStrings:s,settings:n}=Se(t);return(i,r)=>(A(),k("header",Qf,[g("h1",null,D(v(K).title),1),g("h2",null,D(v(s)[v(n).mode]),1),g("button",{onClick:r[0]||(r[0]=(...o)=>v(t).toggleMenu&&v(t).toggleMenu(...o)),class:"flex-column-center shadowed enabled"},Zf)]))}});const Ae=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},th={},sh={class:"background"};function nh(e,t){return A(),k("div",sh)}const ih=Ae(th,[["render",nh],["__scopeId","data-v-532799a7"]]),rh="/assets/flag-54741b89.svg",ll=e=>(at("data-v-25d1545a"),e=e(),lt(),e),oh=["id"],ah={class:"heading flex-row-spaced full-size padded"},lh={key:0},ch={key:0},uh={key:1},dh={key:2},fh={key:3},hh={key:1,class:"points flex-column-center"},ph={key:2},gh=["data-tooltip"],mh=ll(()=>g("img",{src:rh,alt:"concede"},null,-1)),_h=[mh],vh=ll(()=>g("tr",null,[g("th",null,"Icon"),g("th",null,"Name"),g("th",null,"Count")],-1)),yh=["data-tooltip","onClick"],bh=["id"],wh={key:1,class:"player flex-column-center"},Th=me({__name:"Player",props:{player:{type:pt,default:null}},setup(e){const t=e,s=ee(),{playerActive:n,trade:i,resourceTypesValid:r,settings:o,waitingForOnlinePlayer:a,tradeSurcharge:l,winningPoints:c}=Se(s),d=le(()=>{var I,U;return((I=n.value)==null?void 0:I.id)===((U=t.player)==null?void 0:U.id)}),f=le(()=>t.player.computer),p=le(()=>t.player.remote),_=le(()=>o.value.mode==Me.CvC?!1:o.value.mode==Me.PvC?f.value:o.value.mode==Me.PvPLocal?!d.value:o.value.mode==Me.PvPOnline?p.value:!1);ke(a,I=>{I||qe(()=>{b()})}),Xe(()=>{qe(()=>{b()})});function b(){r.value.forEach(I=>{const U=`${t.player.id}-${I.type}`;s.styleResource(U,I.type)})}function T(I){return!(!d.value||!t.player.resourceCount(I.id)&&!i.value.give)}function M(I){T(I)&&(i.value.give?i.value.give===I.id?s.setTradeGive(0):i.value.take===I.id?s.setTradeTake(0):s.setTradeTake(I.id):s.setTradeGive(I.id))}return(I,U)=>e.player&&!v(a)?(A(),k("div",{key:0,id:`player-${e.player.id}`,class:ne(["player flex-column-center",_.value?"blurred":""])},[g("div",ah,[g("h2",{class:ne(`p${e.player.id}-color`)},D(e.player.name()),3),e.player.end?(A(),k("h3",lh,[e.player.end===1?(A(),k("span",ch,"1st")):be("",!0),e.player.end===2?(A(),k("span",uh,"2nd")):be("",!0),e.player.end===3?(A(),k("span",dh,"3rd")):be("",!0),e.player.end===4?(A(),k("span",fh,"4th")):be("",!0)])):v(c)?(A(),k("div",hh,[g("h3",null,D(e.player.points),1),g("h3",null,D(v(c)),1)])):(A(),k("div",ph)),g("button",{"data-tooltip":v(K).tooltip.concede,class:ne(["tooltip flex-column-center shadowed",d.value?"enabled":"disabled"]),onClick:U[0]||(U[0]=(...R)=>v(s).concede&&v(s).concede(...R))},_h,10,gh)]),g("table",null,[vh,(A(!0),k(se,null,ye(v(r),(R,P)=>(A(),k("tr",{key:P},[g("td",{class:ne(["icon shadowed",[T(R)?"enabled":"",v(i).give&&R.id!==v(i).give?"tooltip right":"",d.value&&R.id===v(i).give?"give":"",d.value&&R.id===v(i).take?"take":""]]),"data-tooltip":`${v(K).trade} ${R.value*v(l)} : 1`,onClick:W=>M(R)},[g("div",{id:`${e.player.id}-${R.type}`,class:"mask"},null,8,bh)],10,yh),g("td",null,[g("h4",null,D(R.resource),1)]),g("td",{class:"count digits",style:cn(`color: ${R.color};`)},D(Math.floor(e.player.resourceCount(R.id)/10))+D(e.player.resourceCount(R.id)%10),5)]))),128))])],10,oh)):(A(),k("div",wh,[g("h4",null,D(v(K).waiting),1)]))}});const Oo=Ae(Th,[["__scopeId","data-v-25d1545a"]]),xh=me({__name:"Participants",props:{centered:{type:Boolean,default:!1},top:{type:pt,default:null},bottom:{type:pt,default:null,required:!1}},setup(e){const t=e;return(s,n)=>(A(),k("div",{class:ne(["players",e.centered?"flex-column-center":"flex-column-spaced"])},[Y(Oo,{player:t.top},null,8,["player"]),t.bottom?(A(),Re(Oo,{key:0,player:t.bottom},null,8,["player"])):be("",!0)],2))}});const Io=Ae(xh,[["__scopeId","data-v-407a0e61"]]),Ah="/assets/dealership-4af74c51.jpeg",Ch="/assets/doctor-952aa430.jpeg",Sh="/assets/locksmith-b6d50ab1.jpeg",Eh="/assets/museum-020c36ae.jpeg",kh="/assets/park-e6a652a1.jpeg",Ph="/assets/school-7cef0a9a.jpeg",Oh="/assets/store-f8f1cbd1.jpeg",Ih="/assets/desert-e2390f07.jpeg",$h="/assets/farm-3ac71b15.jpeg",Rh="/assets/forest-e4379267.jpeg",Dh="/assets/mine-16ad4638.jpeg",Mh="/assets/stables-4cd7f347.jpeg",Bh="/assets/tower-022a0fc1.jpeg",Fh="/assets/village-0857c7a9.jpeg",Lh="/assets/texture-92077bf6.jpeg",Uh="/assets/battlefield-18f47d3d.jpeg",Nh="/assets/cemetary-4b3e0442.jpeg",jh="/assets/church-ec31c9dd.jpeg",Hh="/assets/distillery-33f366f6.jpeg",Vh="/assets/dungeon-50b2b726.jpeg",qh="/assets/lair-8caaa7d8.jpeg",Kh="/assets/library-679d839b.jpeg",zh=me({__name:"Damages",props:{damages:{type:Array,default:null}},setup(e){const t=e;return(s,n)=>(A(),Re(Ku,{name:"float"},{default:Et(()=>[(A(!0),k(se,null,ye(t.damages,i=>(A(),k("div",{key:i.index,class:"damage taken shadowed"}," -"+D(i.value),1))),128))]),_:1}))}});const cl=Ae(zh,[["__scopeId","data-v-7f04bd4c"]]),Wh=["id"],Gh={key:0,class:"life"},Yh={key:1,class:"life"},Jh=me({__name:"Base",props:{player:{type:pt,default:null},icon:{type:String,default:""}},setup(e){const t=e;let s=0,n=0,i=Ne([]);const r=le(()=>t.player?t.player.life:0);ke(r,c=>{if(!c)return;if(t.player.isFullLife()){n=c;return}const d=s++;o(d),setTimeout(()=>a(d),G.defaultTimeout)});function o(c){const d=n-r.value;n=r.value;const f=new za(c,d);i.value.push(f)}function a(c){i.value=i.value.filter(d=>d.index!==c)}Xe(()=>{l()});function l(){const c=document.getElementById(`base-${t.player.id}`);if(!c)return;const d=`../assets/icons/${t.icon}.svg`,f=new URL(d,import.meta.url).href;c.style.maskImage=`url(${f})`,c.style.webkitMaskImage=`url(${f})`}return(c,d)=>(A(),k("div",{class:ne(["base-container","shadowed",`p${e.player.id}-border`])},[g("div",{id:`base-${e.player.id}`,class:ne(["base",[`p${e.player.id}-background`]])},null,10,Wh),Y(cl,{damages:v(i)},null,8,["damages"]),e.player.life?(A(),k("div",Gh,D(e.player.life),1)):e.player.startingLife()?(A(),k("div",Yh,"✖✖")):be("",!0)],2))}});const Qh=Ae(Jh,[["__scopeId","data-v-1d62f3ee"]]),Xh=["src","alt"],Zh=me({__name:"Unit",props:{unit:{type:qt,default:null}},emits:["selected"],setup(e,{emit:t}){const s=e,n=ee(),{marchPhase:i,playerActive:r,unitsSelectedTile:o,battling:a,isOpponentTurn:l,theme:c}=Se(n),d=le(()=>l.value||a.value||o.value&&o.value!==s.unit.tile?!1:i&&s.unit.player===r.value&&!s.unit.moved),f=le(()=>s.unit.damage);let p=0,_=0,b=Ne([]);ke(f,R=>{if(!R)return;const P=p++;T(P),setTimeout(()=>M(P),G.defaultTimeout)});function T(R){const P=f.value-_;_=f.value;const W=new za(R,P);b.value.push(W)}function M(R){b.value=b.value.filter(P=>P.index!==R)}function I(R){R.stopPropagation(),d.value&&t("selected")}function U(R){var P;return new URL(Object.assign({"../assets/icons/close.svg":Tn,"../assets/icons/corporate/art.svg":xn,"../assets/icons/corporate/base.svg":An,"../assets/icons/corporate/car.svg":Cn,"../assets/icons/corporate/coder.svg":Sn,"../assets/icons/corporate/designer.svg":En,"../assets/icons/corporate/executive.svg":kn,"../assets/icons/corporate/glasses.svg":Pn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":In,"../assets/icons/corporate/keys.svg":$n,"../assets/icons/corporate/laptop.svg":Rn,"../assets/icons/corporate/manager.svg":Dn,"../assets/icons/defense.svg":Mn,"../assets/icons/flag.svg":Bn,"../assets/icons/give.svg":Fn,"../assets/icons/help.svg":Ln,"../assets/icons/load.svg":Un,"../assets/icons/medieval/archer.svg":Nn,"../assets/icons/medieval/base.svg":jn,"../assets/icons/medieval/footman.svg":Hn,"../assets/icons/medieval/horse.svg":Vn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Kn,"../assets/icons/medieval/peasant.svg":zn,"../assets/icons/medieval/rice.svg":Wn,"../assets/icons/medieval/serf.svg":Gn,"../assets/icons/medieval/tree.svg":Yn,"../assets/icons/medieval/wand.svg":Jn,"../assets/icons/medieval/wizard.svg":Qn,"../assets/icons/menu.svg":Xn,"../assets/icons/move.svg":Zn,"../assets/icons/next.svg":ei,"../assets/icons/offense.svg":ti,"../assets/icons/ranged.svg":si,"../assets/icons/reset.svg":ni,"../assets/icons/save.svg":ii,"../assets/icons/settings.svg":ri,"../assets/icons/take.svg":oi,"../assets/icons/undead/base.svg":ai,"../assets/icons/undead/coffin.svg":li,"../assets/icons/undead/flesh.svg":ci,"../assets/icons/undead/ghost.svg":ui,"../assets/icons/undead/moonshine.svg":di,"../assets/icons/undead/remains.svg":fi,"../assets/icons/undead/scroll.svg":hi,"../assets/icons/undead/skeleton.svg":pi,"../assets/icons/undead/soul.svg":gi,"../assets/icons/undead/vampire.svg":mi,"../assets/icons/undead/werewolf.svg":_i,"../assets/icons/undead/zombie.svg":vi})[`../assets/icons/${c.value}/${(P=R==null?void 0:R.type)==null?void 0:P.type}.svg`],self.location).href}return(R,P)=>{var W;return e.unit?(A(),k("div",{key:0,class:ne(["unit","shadowed",d.value?"enabled":"",`p${(W=e.unit.player)==null?void 0:W.id}-background`,e.unit.selected?"selected":"",e.unit.moved?"disabled":"",e.unit.stranded?"stranded":""]),onClick:I},[g("img",{src:U(e.unit),alt:e.unit.type.type},null,8,Xh),Y(cl,{damages:v(b)},null,8,["damages"])],2)):be("",!0)}}});const ep=Ae(Zh,[["__scopeId","data-v-60fb32b4"]]),tp=e=>(at("data-v-1ff47ea3"),e=e(),lt(),e),sp=["id"],np=["fill"],ip=["stroke"],rp={key:0,class:"mask"},op=["src","alt"],ap={class:"details flex-column-spaced"},lp={key:1},cp=tp(()=>g("br",null,null,-1)),up=[cp],dp={class:"units flex-row-center flex-wrap"},fp={key:0,class:"digits"},hp={key:1},pp={class:"score"},gp=me({__name:"Tile",props:{tile:{type:zs,default:null}},setup(e){const t=e,s=ee(),{turn:n,rollPhase:i,marchPhase:r,train:o,monster:a,battling:l,unitsSelectedTile:c,isOpponentTurn:d,theme:f,battleEnabled:p,baseIcon:_}=Se(s),b=le(()=>!(i.value&&!a.value.moving||o.value&&!s.playerActiveControllingTile(t.tile)||!p.value&&!a.value.moving&&s.opponentControllingTile(t.tile)||l.value||d.value||r.value&&c.value&&!s.tileWithinDistance(t.tile)||r.value&&!c.value&&!s.playerActiveControllingTile(t.tile))),T=le(()=>{var U,R;return t.tile?new URL(Object.assign({"../assets/images/corporate/dealership.jpeg":Ah,"../assets/images/corporate/doctor.jpeg":Ch,"../assets/images/corporate/locksmith.jpeg":Sh,"../assets/images/corporate/museum.jpeg":Eh,"../assets/images/corporate/park.jpeg":kh,"../assets/images/corporate/school.jpeg":Ph,"../assets/images/corporate/store.jpeg":Oh,"../assets/images/medieval/desert.jpeg":Ih,"../assets/images/medieval/farm.jpeg":$h,"../assets/images/medieval/forest.jpeg":Rh,"../assets/images/medieval/mine.jpeg":Dh,"../assets/images/medieval/stables.jpeg":Mh,"../assets/images/medieval/tower.jpeg":Bh,"../assets/images/medieval/village.jpeg":Fh,"../assets/images/texture.jpeg":Lh,"../assets/images/undead/battlefield.jpeg":Uh,"../assets/images/undead/cemetary.jpeg":Nh,"../assets/images/undead/church.jpeg":jh,"../assets/images/undead/distillery.jpeg":Hh,"../assets/images/undead/dungeon.jpeg":Vh,"../assets/images/undead/lair.jpeg":qh,"../assets/images/undead/library.jpeg":Kh})[`../assets/images/${f.value}/${(R=(U=t.tile)==null?void 0:U.type)==null?void 0:R.type}.jpeg`],self.location).href:""}),M=le(()=>{const U=6-Math.abs(7-t.tile.roll),R=[];for(let P=0;P<U;P++)R.push(0);return R});function I(){b.value&&s.selectTile(t.tile)}return(U,R)=>e.tile.type?(A(),k("div",{key:0,id:`tile-${e.tile.id}`,class:ne(["tile","shadowed",b.value?"enabled":""]),onClick:I},[(A(),k("svg",{fill:e.tile.type.color,height:"150",width:"160",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"m155 75-37.5 65h-75l-37.5-65 37.5-65h75z",stroke:e.tile.roll&&e.tile.roll===v(n).roll.total?"gold":e.tile.type.color,"stroke-width":"5"},null,8,ip)],8,np)),e.tile.type?(A(),k("div",rp,[g("img",{src:T.value,alt:e.tile.type.type},null,8,op)])):be("",!0),g("div",ap,[e.tile.base?(A(),Re(Qh,{key:0,player:e.tile.base,icon:v(_)},null,8,["player","icon"])):(A(),k("div",lp,up)),g("div",dp,[(A(!0),k(se,null,ye(e.tile.units,(P,W)=>(A(),Re(ep,{key:W,unit:P,onSelected:Fe=>P.selected=!P.selected},null,8,["unit","onSelected"]))),128))]),g("div",{class:ne(["roll","flex-column-center",e.tile.roll===v(n).roll.total?"gold":"",e.tile.roll?"":"invisible"])},[v(a).location!==e.tile.id?(A(),k("h4",fp,D(e.tile.roll),1)):(A(),k("h4",hp,"✖")),g("div",pp,[(A(!0),k(se,null,ye(M.value,(P,W)=>(A(),k("span",{key:W},"•"))),128))])],2)])],10,sp)):be("",!0)}});const mp=Ae(gp,[["__scopeId","data-v-1ff47ea3"]]),_p={id:"grid",class:"grid"},vp=me({__name:"Grid",setup(e){const t=ee(),{grid:s,turn:n}=Se(t);Xe(()=>{qe(()=>{window.addEventListener("resize",i,{passive:!0})}),i()}),is(()=>{window.removeEventListener("resize",i)});function i(){const r=document.getElementById("grid"),o=Math.max(window.innerWidth,1200)/1920*1.25,a=window.innerHeight/1080*1.25;r&&(r.style.transform=`scale(${Math.min(o,a)})`)}return(r,o)=>(A(),k("div",_p,[(A(!0),k(se,null,ye(v(s),(a,l)=>(A(),k("div",{key:l,class:"flex-row-center"},[(A(!0),k(se,null,ye(a,(c,d)=>(A(),Re(mp,{key:d,tile:c,roll:v(n).roll.total},null,8,["tile","roll"]))),128))]))),128))]))}});const yp=Ae(vp,[["__scopeId","data-v-a72fcca8"]]),bp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACACAMAAADDApyIAAAAbFBMVEVHcEwmKSYAAAAmKSYcHBw7ODhQUFAJCQmFioz/2a0ZIzrrs4VUWVl1Pi3UjFKwuLoUFBRpY1T///97e3s0SXkjPDbC29UqOl6ChXPEl5Z0d1W8vLx7alivcWni4uLGGyuTq6a6hYJ1eo/T09MwdGq1AAAAAnRSTlMAwO33D4gAAAdZSURBVHhezZrpcuM4DISzAA/dtnOfM7O77/+O24Boc6wIYSFVU7WIbVnV6A8Q/QcSc+OMyNFhcANinLiLDr8PEKcu4m+KU8P/PQAEaIfp0PGhi7Hh9wM4dodp6hBTxLubWn4nAN1BBEF1yFNs+X0A2EVFdBFvOTb9LgB3hwMUaPKO4LUbcAEYSJGiaCpz0+8CCLW8OfKEaDfgAsgPB5GRwYBJZtPvArAsLIsWVWbmpt8FYF1fjqsuEG76XQDiqVx+LDI1/Q4AgsrPp4sAndp+FwAElUqP7PW3AYHEJq9VDj4/ogJ2+SnkzJqCyBnnHj8ih1ABgtvw71I4p+Cg5xt/Che/wLb8lEK4AFICblMARBUksZxe8yEUvybmbf3iL4DrBFXOcvm6KVB8xS+4vFkg7UtD9ZpQC4ioUc63F3DO0BI7BdLFnzcdQE656iDkdEVYDaHq2wKUtUD1bxIgbwps9ZJQC2RSpVaQLpOqkPOnS1S9+nG+XYFrQOHXIBqGcI4h7yRAqPFJheM3/0Cwb2N4erq/v3/CQXTa0UUd1sMnFY5BrMqAvhMEHTFI0I4Ov8hrzq4fURjq32lCmiODfzMoWWSzQ8i4AFmf/aB7cVvycK+9SZ17FDBaVMKNFXR7+2arg3RXPk3C2+0tCLb8/GzL9AwVn42c2qI7GBGjvP4IAJrOA1MXZSaJDb8bwOqUsVNHOI5Nvw/ACLihyxjddbHdgA9QBh7IcTogJU7c8rsAkCNsHbgcAcGNBjf9DoC2pykvCNZO2w24AKpO8aWXeAHO428DtMMOi9uf44Oafg+AY2kRChFBn6np9wCYWTtkiO/v74Ro+z0AJUSOH+O4/Hp4GMex7XcAEALgVX8sesvvAijhOPLS9+Pj66u3gTYAuiQcoffQ8dluwAcAASF6iXYDPgBC9Hks8tJuwAtAHI8lYVx8/jagjl6zBBl2w18BKZkAlXVqTFBNe7b9yr8LNkALAIKXJYtIRKLbHYIRrPplyP+5l5DVLeV3/HXG10UKYbeAqkQBBcz6SeuHeQ+AAroI40LBukBVQTDklENAgZ9hmfcAWeuHfrQLqJqSUQBqTyhwFxbaAeRMevPXL2T+CEmvL9D+AmiBgKDd6RyBrJCJzOlbvTq871fIy4IJ/cmcznXyJnzZLzAMmmMU0CUg8CVjV4dZx3OENdkOJl/VAe6Vsq/rzY+kfFEAQYZ6onJ7Yo33Q7k7O72dRLCaGMgST6cT0QCGkQLy7alKVsrtlynSn3ET83/YP4Dc8RT/avibADbETmf/Dgxu+L8HwNTMnQy10WDwxu8DMOyd6B1k5HDD7wVA0xsAfcB7KPsDTb8N4C2gm/igAzR0ZHb42vJ7ARjNdS7XA3jc9LsALOAaL8A0/T7AFCHUwHnT7wFA/7sM/r0e/46x6XcBOJ4H/3KM7PIr4MEGENM46uCPeHj4NY7E1GrAA6CRlvHxoj+OC43k8LcAIEDXwR/x+iq67afqbwMqYha9lxB9huzxK+BfE1AI/TnU72kAkTeA/Gn/YJaEIs849/ihhw3g0+P9JBkLVmBZ5lnPHX7ocNgAqKIDgoC5nNsN6AbEln8NuLu78stgjhey0t36NV0VQP6VXyvs7E8IQDOvLiGv7ScZnOVVztKFEKoppX+UpQUqH3IFwE9wVH+W/rLq+gdalmusCdIWAVAaCIoLVc+gVQByxZ6qrgu86vpOOAOuAiCpq/hDEGQtQLPOrbAoAPYFjrrElMd+AbLoWm7px0y//wYJGan4A2jIqQXww9PNEC4x931K1X5D47hs9g+Wq6cFlFLfz1Ue0PSyUNWJdH8A8SQjKuyhqDWhPN1fD6ulBgW0APkMKcyrgKZexHc3KERFFH2PgKB5tuTL430LMM+0XgDt67o+KGDJiIH0sF9ArIIwZCCG52dZHVNG6KcFgBcIyFbQjx+gm+rzj2cqn22EP8rWAeIPAKIOJjJ+67Y6N/x+QGTIMtlOnXK45XcDYqf7AtDBYETL7wPwFCFiukWC9hi56XcB+CB7AhCQ2AEVkdDy+wDaGb8gVNQmW34HQIfny9bBpBmOBpoABH3058BSd2C0/S4AzZeNg9Jg5JbfAwCBztM3a4fM7PIr4N0EQF+nZsw9H5Gj398GqP6oOtTo9bcBZWru+4XHo9/fBqxTcw/9CNntbwN6DdUZ0fZ7AUuRx/koctPvBSBhLPLxCKHldwOAoPPoHOhLfwNwSgkAIyOV/ywi25/DlwCod2YCBGgoYOlUCBZgpZuAUG4MzBYhgK/XmPd1rPDaZTYKBCKRdwvMQTtIdgcyMesCoADtF9CM/Uucl7DeemRzDQKNvRQAf19PCRlWAVqC3D1QLwzzCvqcwKecjV0uuQLNsB7+By1gLAENtO4fDAjj4bZSiMxn80+0LFn4xvN93T6QZ/BWAdUGe/pHBTIWQAB1AwAZZoXBstcNCDMDsvZhMegJYdpRXOB4GfsD2DggyEAM39o/AB3VdRvhyy2CW9SxxNuvxDcRt+p/pb3SkPOCKo0AAAAASUVORK5CYII=",wp="/assets/medieval-3e81f0a1.png",Tp="/assets/undead-11ea1864.png",xp={id:"monster"},Ap=me({__name:"Monster",setup(e){let t=Ne(""),s=0,n=0,i=0;const r=ee(),{monster:o,gameSpeed:a,theme:l}=Se(r),c=le(()=>o.value.location);ke(c,M=>{M&&qe(()=>{b()})});const d=le(()=>new URL(Object.assign({"../assets/animations/corporate.png":bp,"../assets/animations/medieval.png":wp,"../assets/animations/undead.png":Tp})[`../assets/animations/${l.value}.png`],self.location).href);ke(d,M=>{M&&qe(()=>{_(d.value)})}),Xe(()=>{setTimeout(()=>T(),200),setInterval(()=>T(),2e3),qe(()=>{b(),window.addEventListener("resize",f,{passive:!0})}),_(d.value)}),is(()=>window.removeEventListener("resize",f));function f(){_(d.value),b()}function p(){return document.getElementById("monster")}async function _(M){const I=new Image;if(!M||(I.src=M,await I.decode(),I.src!==d.value))return;const U=I.naturalWidth/3/(I.naturalHeight/4)*.03*window.innerWidth,R=p();R&&(R.style.width=`${U}px`);const P=document.getElementById("sprite");P&&(P.style.backgroundImage=`url('${M}')`)}function b(){const M=p(),I=`tile-${o.value.location}`,U=document.getElementById(I);if(M&&U){var R=M.getBoundingClientRect(),P=U.getBoundingClientRect();M.style.left=`${P.x}px`,M.style.top=`${P.y-R.height}px`,i=P.width/2}}function T(){const M=p();if(!M)return;const I=Math.floor(Math.random()*i),U=I-s;s=I;const R=Math.floor(Math.random()*i),P=R-n;n=R,M.style.transform=`translate(${s}px, ${n}px)`,M.style.transitionDuration=`${3/a.value}s`,Math.abs(U)>Math.abs(P)?t.value=U>0?"right":"left":t.value=P>0?"down":"up"}return(M,I)=>(A(),k("div",xp,[g("div",{id:"sprite",class:ne(["sprite shadowed",v(t)])},null,2)]))}});const Cp=Ae(Ap,[["__scopeId","data-v-e3dc6d03"]]),Sp=e=>(at("data-v-55c01c15"),e=e(),lt(),e),Ep={class:"resources"},kp=["id"],Pp=["id"],Op=Sp(()=>g("div",{class:"mask"},null,-1)),Ip=[Op],$p=me({__name:"Resources",setup(e){const t=ee(),{resources:s,gameSpeed:n}=Se(t);ke(()=>t.resources,f=>{qe(()=>i(f))},{deep:!0,immediate:!0});function i(f){f.forEach(p=>{p.sent||(p.sent=!0,r(p))})}function r(f){const p=`resource-${f.id}`,_=document.getElementById(p);_&&(o(f),f.ready=!0,f.spend?l(_,f.player,f.type):c(_,f.tile),setTimeout(()=>{a(f,f.delay/10)},200))}function o(f){var _;const p=`resource-color-${f.id}`;f.type&&t.styleResource(p,(_=f.type)==null?void 0:_.type)}function a(f,p){const _=`resource-${f.id}`,b=document.getElementById(_);if(!b||!f)return;f.spend?c(b,f.tile):l(b,f.player,f.type);const T=2/n.value;b.style.transition=`all ${T}s ease-out`,b.style.transitionDelay=`${p}s`;const M=(1e3+200+p*1e3)*T;setTimeout(()=>{t.transitionResourceToPlayer(f)},M)}function l(f,p,_){if(!p||!_)return;const b=`${p.id}-${_.type}`,T=d(b),M=f.getBoundingClientRect();f.style.top=`${T.y-M.height/2}px`,f.style.left=`${T.x-M.width/2}px`}function c(f,p){if(!p)return;const _=`tile-${p==null?void 0:p.id}`,b=d(_),T=f.getBoundingClientRect();f.style.top=`${b.y-T.height/2}px`,f.style.left=`${b.x-T.width/2}px`}function d(f){var p=document.getElementById(f);if(!p)return new _o(0,0);var _=p.getBoundingClientRect(),b=new _o(_.x+_.width/2,_.y+_.height/2);return b}return(f,p)=>(A(),k("div",Ep,[(A(!0),k(se,null,ye(v(s),(_,b)=>fa((A(),k("div",{key:b,id:`resource-${_.id}`,class:"resource shadowed"},[g("div",{id:`resource-color-${_.id}`,class:"color"},Ip,8,Pp)],8,kp)),[[Na,!(_!=null&&_.hide)&&(_==null?void 0:_.ready)]])),128))]))}});const Rp=Ae($p,[["__scopeId","data-v-55c01c15"]]),Dp={data(){return{acting:!1}},computed:{...ld(ee,["isComputerTurn","menu","battling","playerWinner","playerActive","tilesOfActivePlayer","turn","gameSpeed","rolled","monster","unitsMovableForActivePlayer","grid","tilesAll","tilesOfTheEnemy","battleEnabled","unitTypes","tradeSurcharge","resourceTypesValid"]),canAct(){return!(!this.isComputerTurn||this.menu||this.battling||this.playerWinner)},shouldConcede(){if(this.isComputerTurn&&this.playerActive){const e=!!this.playerActive.base,t=!!this.tilesOfActivePlayer.find(s=>s.units.length>0);if(e&&!t)return!0}return!1}},watch:{isComputerTurn(){this.act()},menu(){this.act()},battling(){this.act()},"turn.player"(){this.act()},"turn.roll.rolled"(){this.act()}},mounted(){this.canAct&&this.act()},methods:{...cd(ee,["concede","selectStartingTile","rollDice","moveMonster","moveSelectedUnitsToTile","moveUnitsToTile","canAffordUnit","selectTrainUnit","trainUnitOnTile","canAffordUnitResources","canAffordUnitResource","resourceForID","setTradeGive","setTradeTake","newTurn"]),async act(e=0){this.canAct&&(await this.think(e),!(!this.canAct||this.acting)&&(this.acting=!0,await this.chooseAction(),this.acting=!1))},async think(e){const s=(Math.floor(Math.random()*15)+15+e)*100;await new Promise(n=>setTimeout(n,s/this.gameSpeed))},async chooseAction(){var t;let e=!1;if(this.shouldConcede){this.concede();return}(t=this.playerActive)!=null&&t.base?this.rolled?this.monster.moving?this.directMonster():this.unitsMovableForActivePlayer.length?await this.moveOrBattle():this.playerActive.resourceScore()?e=this.getUnits():e=!0:this.rollDice():this.selectBase(),e&&this.endTurn()},selectBase(){if(!this.grid)return;let e=this.grid[0][0];this.tilesAll.forEach(t=>{t.startScore()>e.startScore()&&(e=t)}),this.selectStartingTile(e)},directMonster(){const e=this.tilesOfTheEnemy;e.filter(s=>!s.base).length?this.directMonsterToEnemyUnitTile(e):this.directMonsterToNearEnemyBase(e),this.act()},directMonsterToEnemyUnitTile(e){const s=e.filter(n=>!n.base).filter(n=>this.monster.location!==n.id).reduce((n,i)=>n.unitScore()>i.unitScore()?n:i);this.moveMonster(s)},directMonsterToNearEnemyBase(e){const t=e.find(n=>n.base)||null;if(!t)return;const s=t.adjacent.filter(n=>this.monster.location!==n.id).reduce((n,i)=>n.score()>i.score()?n:i);this.moveMonster(s)},async moveOrBattle(){if(this.battling||this.moveUnitsInDanger()||this.reconnectSupplyLines())return;const e=this.battleTileMatches();e.length?await this.battleTileFromTile(e[0],e[1]):this.moveUnit(this.unitsMovableForActivePlayer[0],!1),this.act()},moveUnitsInDanger(){const e=this.unitsInDanger();return e.length?(this.moveUnit(e[0],!0),this.act(),!0):!1},unitsInDanger(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{let s=!1;(t.id===this.monster.location||t.dangerScore(this.playerActive)>t.unitScore())&&(s=!0),s&&e.push(...t.units)}),e=e.filter(t=>!t.moved&&!t.staying),e},reconnectSupplyLines(){let e=!1;const t=this.unitsMovableForActivePlayer[0],s=this.unitsStranded();return s.length&&!t.stranded&&s.forEach(n=>{const i=this.validJoiningTiles(t,n);!e&&i.length&&(i.sort((r,o)=>o.score()-r.score()),this.moveSelectedUnitsToTile([t],i[0]),e=!0)}),e&&this.act(),e},unitsStranded(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{t.units.forEach(s=>{s.stranded&&e.push(s)})}),e},validJoiningTiles(e,t){var n;return((n=e.tile)==null?void 0:n.adjacent.filter(i=>{var r;return((r=t.tile)==null?void 0:r.adjacent.includes(i))&&this.tileMovable(i)&&i.id!==this.monster.location}))||[]},battleTileMatches(){if(!this.battleEnabled)return[];let e=[];return this.tilesOfActivePlayer.forEach(t=>{if(!t.units.find(s=>s.moved)&&!e.length){const s=[];t.adjacent.forEach(n=>{n.playerController()&&n.playerController()!==this.playerActive&&t.unitScore()>n.unitScore()&&s.push(n)}),s.length&&(s.sort((n,i)=>n.unitScore()-i.unitScore()),e.push(t),e.push(s[0]))}}),e},async battleTileFromTile(e,t){e.units.forEach(s=>s.selected=!0),this.moveUnitsToTile(t)},moveUnit(e,t){const s=e?e.tile:null;if(!e||!s)return;let n=[s];for(let o=0;o<e.type.move;o++)n.forEach(a=>this.adjacentTilesMovable(a).forEach(l=>{var c;!n.includes(l)&&((c=l.type)!=null&&c.value)&&n.push(l)}));n=n.filter(o=>o!==s&&o.id!==this.monster.location),t?n.sort((o,a)=>a.unitScore()-o.unitScore()):n.sort((o,a)=>a.score()-o.score());const i=e.isAtBase()&&e.isAlone();let r=!1;n.forEach(o=>{!r&&!i&&(r=this.unitMoved(e,s,o,t))}),(!r||i)&&(e.staying=!0)},adjacentTilesMovable(e){return e.adjacent.filter(t=>this.tileMovable(t)&&t.id!==this.monster.location)},tileMovable(e){const t=e.units.length<G.tileUnitMax,n=!!e.playerController()&&e.playerController()!==this.playerActive;return t&&!n},unitMoved(e,t,s,n){const i=s.unitScore()+e.type.value<t.unitScore(),r=s.type?s.type.value>0:!1,o=s.id===this.monster.location,a=s.dangerScore(this.playerActive)>s.unitScore()+e.type.value;return n?(this.moveSelectedUnitsToTile([e],s),!0):a?this.bandMoved(t,s):i&&r&&!o?(this.moveSelectedUnitsToTile([e],s),!0):!1},bandMoved(e,t){let s=0,n=[],i=!1;return e.units.forEach(r=>{!r.moved&&!i&&(s+=r.type.value,n.push(r),t.dangerScore(this.playerActive)<=s&&(i=!0))}),i&&this.bandMove(n,t),i},bandMove(e,t){var n;const s=e[e.length-1];s.isAtBase()&&((n=s.tile)==null?void 0:n.units.length)===e.length&&(e=e.filter(i=>i!==s),s.staying=!0),this.moveSelectedUnitsToTile(e,t)},getUnits(){let e=!this.trainUnits();return e&&(e=!this.tradeResources()),e},trainUnits(){const e=this.unitTypes.filter(t=>this.canAffordUnit(t));if(e.length){e.sort((s,n)=>n.value-s.value),this.selectTrainUnit(e[0]);let t=this.trainingTileBest();if(t)return this.trainUnitOnTile(t),this.act(),!0}return!1},trainingTileBest(){let e=[...this.tilesOfActivePlayer];return e=e.filter(t=>t.units.length<G.tileUnitMax),e.sort((t,s)=>s.score()-t.score()),e.sort((t,s)=>s.dangerScore(this.playerActive)-t.dangerScore(this.playerActive)),e.length?e[0]:null},tradeResources(){const e=[...this.unitTypes];if(e.sort((t,s)=>s.value-t.value),e.sort((t,s)=>t.cost.length-this.canAffordUnitResources(t)-(s.cost.length-this.canAffordUnitResources(s))),e.length){const t=e[0];let s=this.resourceForID(t.cost[0][0]);return t.cost.forEach(n=>{const i=this.resourceForID(n[0]);i&&!this.canAffordUnitResource(t,i)&&(s=i)}),s?this.tradeForResource(s):!1}else return!1},tradeForResource(e){let t=!1;const s=e.value*this.tradeSurcharge;return this.resourceTypesValid.forEach(n=>{var o;const r=(((o=this.playerActive)==null?void 0:o.resourceCount(n.id))||0)>s;r&&(t=!0),r&&n&&e&&this.tradeResourceForResource(n,e)}),t},tradeResourceForResource(e,t){this.setTradeGive(e.id),this.setTradeTake(t.id),this.act(30)},endTurn(){this.newTurn()}}},Mp=me({...Dp,__name:"Computer",setup(e){return(t,s)=>(A(),k("div"))}}),Bp="/assets/help-518d5cb1.svg",Fp="/assets/settings-620ec5c9.svg",Lp="/assets/save-b0d06498.svg",Up="/assets/load-9b6a67c5.svg",ul="/assets/reset-57391f15.svg",Np={props:{show:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!1},closable:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}},jp="/assets/close-f5d846ec.svg";const Hp=e=>(at("data-v-e449a0b9"),e=e(),lt(),e),Vp={class:"modal-overlay flex-column-center"},qp={class:"modal flex-column-center padded shadowed"},Kp=Hp(()=>g("img",{src:jp,alt:"close"},null,-1)),zp=[Kp];function Wp(e,t,s,n,i,r){return A(),Re(_r,{name:"zoom"},{default:Et(()=>[fa(g("div",Vp,[s.backdrop?(A(),k("div",{key:0,class:"backdrop full-size",onClick:t[0]||(t[0]=(...o)=>r.close&&r.close(...o))})):be("",!0),g("div",qp,[s.closable?(A(),k("button",{key:0,class:"close shadowed enabled",onClick:t[1]||(t[1]=(...o)=>r.close&&r.close(...o))},zp)):be("",!0),jc(e.$slots,"default",{onClose:t[2]||(t[2]=(...o)=>r.close&&r.close(...o))},void 0,!0)])],512),[[Na,s.show]])]),_:3})}const ks=Ae(Np,[["render",Wp],["__scopeId","data-v-e449a0b9"]]),Gp={class:"menu"},Yp=g("br",null,null,-1),Jp=["data-tooltip"],Qp=g("img",{src:Bp,alt:"help"},null,-1),Xp=["data-tooltip"],Zp=g("img",{src:Fp,alt:"settings"},null,-1),eg=["data-tooltip"],tg=g("img",{src:Lp,alt:"save"},null,-1),sg=["data-tooltip"],ng=g("img",{src:Up,alt:"load"},null,-1),ig=["data-tooltip"],rg=g("img",{src:ul,alt:"reset"},null,-1),og=me({__name:"Menu",setup(e){const t=ee(),{menu:s,pvpOnline:n}=Se(t);let i=Ne(!1);ke(()=>s.value,f=>{f&&(i.value=!0)});function r(){t.toggleTutorial()}function o(){t.toggleSettings()}function a(){n.value||(t.save(),d())}function l(){n.value||(t.load(),d())}function c(){n.value||(t.init(),d())}function d(){i.value=!1,setTimeout(()=>{s.value&&t.toggleMenu()},G.defaultTimeout)}return(f,p)=>(A(),Re(ks,{show:v(i),closable:"",backdrop:"",onClose:d},{default:Et(()=>[g("div",Gp,[g("h2",null,D(v(K).menu.heading),1),Yp,g("button",{"data-tooltip":v(K).tooltip.help,onClick:r,class:"flex-row-spaced shadowed enabled tooltip"},[Qp,g("span",null,D(v(K).menu.help),1)],8,Jp),g("button",{"data-tooltip":v(K).tooltip.settings,onClick:o,class:"flex-row-spaced shadowed enabled tooltip"},[Zp,g("span",null,D(v(K).menu.settings),1)],8,Xp),g("button",{"data-tooltip":v(K).tooltip.save,onClick:a,class:ne(["flex-row-spaced",v(n)?"disabled":"shadowed enabled tooltip"])},[tg,g("span",null,D(v(K).menu.save),1)],10,eg),g("button",{"data-tooltip":v(K).tooltip.load,onClick:l,class:ne(["flex-row-spaced",v(n)?"disabled":"shadowed enabled tooltip"])},[ng,g("span",null,D(v(K).menu.load),1)],10,sg),g("button",{"data-tooltip":v(K).tooltip.reset,onClick:c,class:ne(["flex-row-spaced",v(n)?"disabled":"shadowed enabled tooltip"])},[rg,g("span",null,D(v(K).menu.reset),1)],10,ig)])]),_:1},8,["show"]))}}),ag=e=>(at("data-v-94ba58b6"),e=e(),lt(),e),lg={class:"settings"},cg={class:"setting"},ug=["value"],dg={for:"sound-setting"},fg={class:"setting"},hg=["value"],pg={for:"speed-setting"},gg=ag(()=>g("div",{class:"divider"},null,-1)),mg={class:"setting"},_g=["value"],vg=["value"],yg={for:"mode-setting"},bg={class:"setting"},wg=["value"],Tg=["value"],xg={for:"theme-setting"},Ag={class:"setting"},Cg=["value"],Sg=["value"],Eg={for:"players-setting"},kg=me({__name:"Settings",setup(e){const t=ee(),{settings:s,themeOptions:n,theme:i,matchStrings:r,playerCountOptions:o}=Se(t),a=le(()=>s.value.open);let l=Ne(!1);ke(()=>a.value,T=>{T&&(l.value=!0)});function c(T){T.target&&(s.value.sound=Number(T.target.value),t.saveSettings())}function d(T){T.target&&(s.value.speed=Number(T.target.value),t.saveSettings())}function f(T){if(!T.target)return;const M=r.value.indexOf(T.target.value);t.updateMatchMode(M),t.saveSettings()}function p(T){T.target&&(s.value.theme=String(T.target.value),t.saveSettings(),location.reload())}function _(T){T.target&&(s.value.players=Number(T.target.value),t.saveSettings(),location.reload())}function b(){l.value=!1,setTimeout(()=>{t.toggleSettings()},G.defaultTimeout)}return(T,M)=>(A(),Re(ks,{show:v(l),backdrop:"",closable:"",onClose:b},{default:Et(()=>[g("div",lg,[g("h2",null,D(v(K).settings.heading),1),g("div",cg,[g("input",{id:"sound-setting",type:"range",class:"slider",min:"0",max:"100",value:v(s).sound,onInput:c},null,40,ug),g("label",dg,D(v(K).settings.sfx),1)]),g("div",fg,[g("input",{id:"speed-setting",type:"range",class:"slider",min:"1",max:"3",value:v(s).speed,onInput:d},null,40,hg),g("label",pg,D(v(K).settings.speed),1)]),gg,g("p",null,[g("i",null,D(v(K).settings.warning),1)]),g("div",mg,[g("select",{id:"mode-setting",onInput:f,value:v(r)[v(s).mode]},[(A(!0),k(se,null,ye(v(r),(I,U)=>(A(),k("option",{key:U,value:I},D(I.toCapitalized()),9,vg))),128))],40,_g),g("label",yg,D(v(K).settings.mode),1)]),g("div",bg,[g("select",{id:"theme-setting",onInput:p,value:v(i)},[(A(!0),k(se,null,ye(v(n),(I,U)=>(A(),k("option",{key:U,value:I},D(I.toCapitalized()),9,Tg))),128))],40,wg),g("label",xg,D(v(K).settings.theme),1)]),g("div",Ag,[g("select",{id:"players-setting",onInput:_,value:v(s).players},[(A(!0),k(se,null,ye(v(o),(I,U)=>(A(),k("option",{key:U,value:I},D(I)+" "+D(v(K).settings.players),9,Sg))),128))],40,Cg),g("label",Eg,D(v(K).settings.players),1)])])]),_:1},8,["show"]))}});const Pg=Ae(kg,[["__scopeId","data-v-94ba58b6"]]),Og="/assets/tut_00-322f3a71.jpg",Ig="/assets/tut_01-c2f24d2d.jpg",$g="/assets/tut_02-b28d63f4.jpg",Rg="/assets/tut_03-2420e17d.jpg",Dg="/assets/tut_04-03d82927.jpg",Mg="/assets/tut_05-c68712a2.jpg",Bg="/assets/tut_06-c701ba6e.jpg",Fg="/assets/tut_07-3c66f32f.jpg",Lg="/assets/tut_08-3cda92b9.jpg",Ug="/assets/tut_09-01a72ba3.jpg",Ar="/assets/next-393dbd13.svg",Hs=[{img:"tut_00",txt:"Welcome to Riskatan! A game wholly original and based on no other games out there...."},{img:"tut_01",txt:"On your first turn, select a starting location"},{img:"tut_02",txt:"Each turn, you'll roll the dice"},{img:"tut_03",txt:"Move units to other tiles to gather more resources"},{img:"tut_04",txt:"On a 7 roll, the monster moves and blocks a tile resource"},{img:"tut_05",txt:"Move units to an enemy tile to initiate a battle"},{img:"tut_06",txt:"Trade resources for others that you need more of"},{img:"tut_07",txt:"Train a variety of units using the resources you have collected"},{img:"tut_08",txt:"Tiles you control and units you train give you victory points. Get enough victory points and you win!"},{img:"tut_09",txt:"Be sure to protect your home base. If it takes too much damage, you will lose!"}],dl=e=>(at("data-v-38039fa4"),e=e(),lt(),e),Ng={class:"flex-row-center"},jg=["data-tooltip"],Hg=dl(()=>g("img",{src:Ar,alt:"previous",class:"mirror"},null,-1)),Vg=[Hg],qg=["src"],Kg={class:"description"},zg=["data-tooltip"],Wg=dl(()=>g("img",{src:Ar,alt:"next"},null,-1)),Gg=[Wg],Yg=me({__name:"Tutorial",setup(e){const t=ee(),{tutorial:s,monsterName:n}=Se(t);let i=Ne(0),r=Ne(!1);ke(()=>s.value,_=>{_&&(r.value=!0)});const o=le(()=>i.value<Hs.length-1),a=le(()=>i.value>0),l=le(()=>Hs[i.value].txt.replace("monster",n.value));function c(_){return new URL(Object.assign({"../assets/tutorial/tut_00.jpg":Og,"../assets/tutorial/tut_01.jpg":Ig,"../assets/tutorial/tut_02.jpg":$g,"../assets/tutorial/tut_03.jpg":Rg,"../assets/tutorial/tut_04.jpg":Dg,"../assets/tutorial/tut_05.jpg":Mg,"../assets/tutorial/tut_06.jpg":Bg,"../assets/tutorial/tut_07.jpg":Fg,"../assets/tutorial/tut_08.jpg":Lg,"../assets/tutorial/tut_09.jpg":Ug})[`../assets/tutorial/${Hs[_].img}.jpg`],self.location).href}function d(){i.value++,i.value=Math.min(i.value,Hs.length-1)}function f(){i.value--,i.value=Math.max(i.value,0)}function p(){r.value=!1,setTimeout(()=>{t.toggleTutorial()},G.defaultTimeout)}return(_,b)=>(A(),Re(ks,{show:v(r),closable:"",backdrop:"",onClose:p},{default:Et(()=>[g("h2",null,D(v(K).tutorial),1),g("div",Ng,[g("button",{class:ne(["tooltip",["shadowed",a.value?"enabled":"invisible"]]),"data-tooltip":v(K).tooltip.previous,onClick:f},Vg,10,jg),g("div",null,[g("img",{class:"screenshot",alt:"tutorial",src:c(v(i))},null,8,qg),g("p",Kg,D(l.value),1)]),g("button",{class:ne(["tooltip",["shadowed",o.value?"enabled":"invisible"]]),"data-tooltip":v(K).tooltip.next,onClick:d},Gg,10,zg)])]),_:1},8,["show"]))}});const Jg=Ae(Yg,[["__scopeId","data-v-38039fa4"]]),Qg={class:"margined"},Xg=me({__name:"Error",setup(e){const t=ee(),{error:s}=Se(t);let n=Ne(!1);return ke(s,i=>{i&&(n.value=!0)}),ke(n,i=>{i||setTimeout(()=>{t.clearError()},G.defaultTimeout)}),(i,r)=>(A(),Re(ks,{show:v(n),closable:"",backdrop:"",onClose:r[0]||(r[0]=o=>pe(n)?n.value=!1:n=!1)},{default:Et(()=>[g("h2",null,D(v(K).error.heading),1),g("p",Qg,D(v(s)),1)]),_:1},8,["show"]))}}),Cr=e=>(at("data-v-4f4b4abc"),e=e(),lt(),e),Zg={class:"flex-row-center full-size padded"},em={key:0,class:"stat"},tm={class:"left-aligned"},sm={class:"left-aligned"},nm={class:"stat"},im={class:"flex-column-center full-size"},rm={class:"stat"},om={class:"stat"},am=["src","alt"],lm=Cr(()=>g("br",null,null,-1)),cm={class:"stat"},um={class:"stat"},dm=["id"],fm=Cr(()=>g("div",{class:"mask"},null,-1)),hm=[fm],pm=Cr(()=>g("br",null,null,-1)),gm={class:"stat"},mm=me({__name:"Stats",setup(e){const t=ee(),{stats:s,players:n,theme:i,monsterName:r}=Se(t);Xe(()=>{o()});function o(){s.value.resourceSpread.forEach((f,p)=>{const _=t.resourceForID(p+1),b=`stat-resource-${p}`;_&&t.styleResource(b,_.type)})}function a(f,p){return f.stats[p]===0?!1:n.value.reduce((b,T)=>b.stats[p]>T.stats[p]?b:T).stats[p]===f.stats[p]}function l(f){return f.reduce((p,_)=>p>_?p:_)}function c(f){var p;return((p=t.unitTypeForID(f+1))==null?void 0:p.type)||""}function d(f){return new URL(Object.assign({"../assets/icons/close.svg":Tn,"../assets/icons/corporate/art.svg":xn,"../assets/icons/corporate/base.svg":An,"../assets/icons/corporate/car.svg":Cn,"../assets/icons/corporate/coder.svg":Sn,"../assets/icons/corporate/designer.svg":En,"../assets/icons/corporate/executive.svg":kn,"../assets/icons/corporate/glasses.svg":Pn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":In,"../assets/icons/corporate/keys.svg":$n,"../assets/icons/corporate/laptop.svg":Rn,"../assets/icons/corporate/manager.svg":Dn,"../assets/icons/defense.svg":Mn,"../assets/icons/flag.svg":Bn,"../assets/icons/give.svg":Fn,"../assets/icons/help.svg":Ln,"../assets/icons/load.svg":Un,"../assets/icons/medieval/archer.svg":Nn,"../assets/icons/medieval/base.svg":jn,"../assets/icons/medieval/footman.svg":Hn,"../assets/icons/medieval/horse.svg":Vn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Kn,"../assets/icons/medieval/peasant.svg":zn,"../assets/icons/medieval/rice.svg":Wn,"../assets/icons/medieval/serf.svg":Gn,"../assets/icons/medieval/tree.svg":Yn,"../assets/icons/medieval/wand.svg":Jn,"../assets/icons/medieval/wizard.svg":Qn,"../assets/icons/menu.svg":Xn,"../assets/icons/move.svg":Zn,"../assets/icons/next.svg":ei,"../assets/icons/offense.svg":ti,"../assets/icons/ranged.svg":si,"../assets/icons/reset.svg":ni,"../assets/icons/save.svg":ii,"../assets/icons/settings.svg":ri,"../assets/icons/take.svg":oi,"../assets/icons/undead/base.svg":ai,"../assets/icons/undead/coffin.svg":li,"../assets/icons/undead/flesh.svg":ci,"../assets/icons/undead/ghost.svg":ui,"../assets/icons/undead/moonshine.svg":di,"../assets/icons/undead/remains.svg":fi,"../assets/icons/undead/scroll.svg":hi,"../assets/icons/undead/skeleton.svg":pi,"../assets/icons/undead/soul.svg":gi,"../assets/icons/undead/vampire.svg":mi,"../assets/icons/undead/werewolf.svg":_i,"../assets/icons/undead/zombie.svg":vi})[`../assets/icons/${i.value}/${c(f)}.svg`],self.location).href}return(f,p)=>(A(),k("div",Zg,[v(n).length?(A(),k("div",em,[g("table",null,[g("tr",null,[g("td",null,[g("h4",tm,D(v(K).stats.headings.stat),1)]),(A(!0),k(se,null,ye(v(n),(_,b)=>(A(),k("td",{key:b},[g("h4",{class:ne(`p${_.id}-color`)},D(_.name()),3)]))),128))]),(A(!0),k(se,null,ye(v(n)[0].stats,(_,b,T)=>(A(),k("tr",{key:T},[g("td",sm,D(v(K).stats[b]),1),(A(!0),k(se,null,ye(v(n),(M,I)=>(A(),k("td",{key:I,class:ne(a(M,b)?"gold":"")},D(M.stats[b]),3))),128))]))),128))])])):be("",!0),g("div",nm,[g("table",null,[g("tr",null,[g("td",null,[g("h4",null,D(v(K).stats.headings.roll),1)]),g("td",null,[g("h4",null,D(v(K).stats.headings.count),1)])]),(A(!0),k(se,null,ye(v(s).rollSpread,(_,b)=>(A(),k("tr",{key:b},[g("td",null,D(b+2),1),g("td",{class:ne(l(v(s).rollSpread)===_?"gold":"")},D(_),3)]))),128))])]),g("div",im,[g("div",rm,[g("h4",null,D(v(K).stats.headings.turns),1),Tt(" "+D(v(s).turnsCount),1)]),g("div",om,[g("h4",null,D(v(K).stats.headings.units),1),g("table",null,[g("tr",null,[(A(!0),k(se,null,ye(v(s).unitSpread,(_,b)=>(A(),k("td",{key:b},[g("img",{src:d(b),alt:c(b)},null,8,am)]))),128))]),g("tr",null,[(A(!0),k(se,null,ye(v(s).unitSpread,(_,b)=>(A(),k("td",{key:b,class:ne(l(v(s).unitSpread)===_?"gold":"")},D(_),3))),128))]),lm])]),g("div",cm,[g("h4",null,D(v(K).stats.headings.battles),1),Tt(" "+D(v(s).battlesCount),1)]),g("div",um,[g("h4",null,D(v(K).stats.headings.resources),1),g("table",null,[g("tr",null,[(A(!0),k(se,null,ye(v(s).resourceSpread,(_,b)=>(A(),k("td",{key:b},[g("div",{id:`stat-resource-${b}`,class:"color"},hm,8,dm)]))),128))]),g("tr",null,[(A(!0),k(se,null,ye(v(s).resourceSpread,(_,b)=>(A(),k("td",{key:b,class:ne(l(v(s).resourceSpread)===_?"gold":"")},D(_),3))),128))]),pm])]),g("div",gm,[g("h4",null,D(v(r).toCapitalized())+" "+D(v(K).stats.headings.kills),1),Tt(" "+D(v(s).monsterKills),1)])])]))}});const _m=Ae(mm,[["__scopeId","data-v-4f4b4abc"]]),vm=e=>(at("data-v-ed438f10"),e=e(),lt(),e),ym={class:"flex-row-spaced full-size menu"},bm=vm(()=>g("img",{src:ul,alt:"reset"},null,-1)),wm=me({__name:"Victory",setup(e){const t=ee(),{playerWinner:s,victoryString:n}=Se(t);let i=Ne(!1);ke(()=>s.value,o=>{o&&(i.value=!0)});function r(){i.value=!1,setTimeout(()=>{t.init()},G.defaultTimeout)}return(o,a)=>(A(),Re(ks,{show:v(i),backdrop:""},{default:Et(()=>[g("div",ym,[v(s)?(A(),k("h1",{key:0,class:ne(`p${v(s).id}-color`)},D(v(s).name())+" "+D(v(K).victory),3)):be("",!0),g("h3",null,D(v(n).toUpperCase()),1),g("button",{onClick:r,class:"flex-row-spaced shadowed enabled"},[bm,g("span",null,D(v(K).reset),1)])]),v(s)?(A(),Re(_m,{key:0})):be("",!0)]),_:1},8,["show"]))}});const Tm=Ae(wm,[["__scopeId","data-v-ed438f10"]]),xm={props:{animate:{type:Boolean,default:!1},roll:{type:Number,default:0}},watch:{animate(){this.animate&&this.animateDie()}},methods:{animateDie(){const t=this.$refs.die;t&&this.cssAnimation(t,this.roll)},cssAnimation(e,t){for(var s=1;s<=6;s++){const n=`show-${s}-a`,i=`show-${s}-b`,r=e.classList.contains(n);e.classList.remove(n),e.classList.remove(i),t===s&&(r?e.classList.add(i):e.classList.add(n))}}}};const Am={class:"container"},Cm={ref:"die",class:"die"},Sm=uu('<div class="side one" data-v-86416020><div class="dot one-1" data-v-86416020></div></div><div class="side two" data-v-86416020><div class="dot two-1" data-v-86416020></div><div class="dot two-2" data-v-86416020></div></div><div class="side three" data-v-86416020><div class="dot three-1" data-v-86416020></div><div class="dot three-2" data-v-86416020></div><div class="dot three-3" data-v-86416020></div></div><div class="side four" data-v-86416020><div class="dot four-1" data-v-86416020></div><div class="dot four-2" data-v-86416020></div><div class="dot four-3" data-v-86416020></div><div class="dot four-4" data-v-86416020></div></div><div class="side five" data-v-86416020><div class="dot five-1" data-v-86416020></div><div class="dot five-2" data-v-86416020></div><div class="dot five-3" data-v-86416020></div><div class="dot five-4" data-v-86416020></div><div class="dot five-5" data-v-86416020></div></div><div class="side six" data-v-86416020><div class="dot six-1" data-v-86416020></div><div class="dot six-2" data-v-86416020></div><div class="dot six-3" data-v-86416020></div><div class="dot six-4" data-v-86416020></div><div class="dot six-5" data-v-86416020></div><div class="dot six-6" data-v-86416020></div></div>',6),Em=[Sm];function km(e,t,s,n,i,r){return A(),k("div",Am,[g("div",Cm,Em,512)])}const $o=Ae(xm,[["render",km],["__scopeId","data-v-86416020"]]),Pm=["data-tooltip"],Om=me({__name:"Dice",setup(e){const t=ee(),{turn:s,isOpponentTurn:n,rolled:i}=Se(t),r=le(()=>!i.value&&!n.value);let o=!1;ke(i,d=>{d&&a()});function a(){o=!0,qe(()=>{o=!1})}Xe(()=>{document.addEventListener("keydown",l,!1)}),is(()=>{document.removeEventListener("keydown",l)});function l(d){d.code==="Space"&&r&&t.rollDice()}function c(){r.value&&t.rollDice()}return(d,f)=>(A(),k("div",{id:"dice",class:ne(["tooltip",["shadowed",r.value?"enabled":"",`p${v(s).player}-dice`]]),"data-tooltip":v(K).tooltip.dice,onClick:c},[Y($o,{roll:v(s).roll.dieOne,animate:v(o)},null,8,["roll","animate"]),Y($o,{roll:v(s).roll.dieTwo,animate:v(o)},null,8,["roll","animate"])],10,Pm))}}),Im="/assets/move-75d7174f.svg",$m="/assets/offense-bbc31d54.svg",Rm="/assets/defense-bd9c3f5b.svg",Dm="/assets/ranged-c9fa731e.svg",Ps=e=>(at("data-v-1a8bb37b"),e=e(),lt(),e),Mm={class:"cost"},Bm={class:"unit-details"},Fm={key:0,class:"stats flex-row-spaced"},Lm={class:"stat flex-row-spaced"},Um=Ps(()=>g("img",{src:Im,alt:"move"},null,-1)),Nm={class:"stat flex-row-spaced"},jm=Ps(()=>g("img",{src:$m,alt:"offense"},null,-1)),Hm={class:"stat flex-row-spaced"},Vm=Ps(()=>g("img",{src:Rm,alt:"defense"},null,-1)),qm={class:"stat flex-row-spaced"},Km=Ps(()=>g("img",{src:Dm,alt:"ranged"},null,-1)),zm={class:"flex-row-center"},Wm=["id"],Gm=Ps(()=>g("div",{class:"mask"},null,-1)),Ym=[Gm],Jm=me({__name:"Cost",props:{unit:{type:Ka,default:null}},setup(e){const t=e,s=ee(),{playerActive:n}=Se(s);Xe(()=>{qe(()=>{i()})});function i(){t.unit.cost.forEach(r=>{const o=s.resourceForID(r[0]),a=`cost-${r[0]}-${t.unit.type}`;o&&s.styleResource(a,o.type)})}return(r,o)=>(A(),k("div",Mm,[g("div",Bm,[g("h2",null,D(e.unit.type.toCapitalized()),1),e.unit.battle.offense?(A(),k("div",Fm,[g("div",Lm,[Um,Tt(D(e.unit.move),1)]),g("div",Nm,[jm,Tt(D(e.unit.battle.offense),1)]),g("div",Hm,[Vm,Tt(D(e.unit.battle.defense),1)]),g("div",qm,[Km,Tt(D(e.unit.battle.ranged?"1":"0"),1)])])):be("",!0)]),g("div",zm,[(A(!0),k(se,null,ye(e.unit.cost,(a,l)=>{var c;return A(),k("div",{key:l,class:ne(["resource",(c=v(n))!=null&&c.resourceCount(a[0])?"":"strikethrough"])},[g("div",{id:`cost-${a[0]}-${e.unit.type}`,class:"color"},Ym,8,Wm)],2)}),128))])]))}});const Qm=Ae(Jm,[["__scopeId","data-v-1a8bb37b"]]),Xm={class:"train"},Zm=["onClick"],e_=["src","alt"],t_=me({__name:"Train",setup(e){const t=ee(),{train:s,playerActive:n,isOpponentTurn:i,unitTypes:r,theme:o}=Se(t);function a(d){return t.canAffordUnit(d)&&!i.value}function l(d){a(d)&&t.selectTrainUnit(d)}function c(d){return new URL(Object.assign({"../assets/icons/close.svg":Tn,"../assets/icons/corporate/art.svg":xn,"../assets/icons/corporate/base.svg":An,"../assets/icons/corporate/car.svg":Cn,"../assets/icons/corporate/coder.svg":Sn,"../assets/icons/corporate/designer.svg":En,"../assets/icons/corporate/executive.svg":kn,"../assets/icons/corporate/glasses.svg":Pn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":In,"../assets/icons/corporate/keys.svg":$n,"../assets/icons/corporate/laptop.svg":Rn,"../assets/icons/corporate/manager.svg":Dn,"../assets/icons/defense.svg":Mn,"../assets/icons/flag.svg":Bn,"../assets/icons/give.svg":Fn,"../assets/icons/help.svg":Ln,"../assets/icons/load.svg":Un,"../assets/icons/medieval/archer.svg":Nn,"../assets/icons/medieval/base.svg":jn,"../assets/icons/medieval/footman.svg":Hn,"../assets/icons/medieval/horse.svg":Vn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Kn,"../assets/icons/medieval/peasant.svg":zn,"../assets/icons/medieval/rice.svg":Wn,"../assets/icons/medieval/serf.svg":Gn,"../assets/icons/medieval/tree.svg":Yn,"../assets/icons/medieval/wand.svg":Jn,"../assets/icons/medieval/wizard.svg":Qn,"../assets/icons/menu.svg":Xn,"../assets/icons/move.svg":Zn,"../assets/icons/next.svg":ei,"../assets/icons/offense.svg":ti,"../assets/icons/ranged.svg":si,"../assets/icons/reset.svg":ni,"../assets/icons/save.svg":ii,"../assets/icons/settings.svg":ri,"../assets/icons/take.svg":oi,"../assets/icons/undead/base.svg":ai,"../assets/icons/undead/coffin.svg":li,"../assets/icons/undead/flesh.svg":ci,"../assets/icons/undead/ghost.svg":ui,"../assets/icons/undead/moonshine.svg":di,"../assets/icons/undead/remains.svg":fi,"../assets/icons/undead/scroll.svg":hi,"../assets/icons/undead/skeleton.svg":pi,"../assets/icons/undead/soul.svg":gi,"../assets/icons/undead/vampire.svg":mi,"../assets/icons/undead/werewolf.svg":_i,"../assets/icons/undead/zombie.svg":vi})[`../assets/icons/${o.value}/${d.type}.svg`],self.location).href}return(d,f)=>(A(),k("div",Xm,[(A(!0),k(se,null,ye(v(r),(p,_)=>{var b,T;return A(),k("button",{key:_,class:ne(["unit","shadowed",a(p)?"enabled":"disabled",p.id===v(s)?`selected p${(b=v(n))==null?void 0:b.id}-background`:""]),onClick:M=>l(p)},[g("img",{src:c(p),class:ne(`p${(T=v(n))==null?void 0:T.id}-filter`),alt:p.type},null,10,e_),Y(Qm,{unit:p,class:"cost"},null,8,["unit"])],10,Zm)}),128))]))}});const s_=Ae(t_,[["__scopeId","data-v-11a42e82"]]),Sr=e=>(at("data-v-c49d4d2d"),e=e(),lt(),e),n_={class:"flex-row-spaced"},i_={class:"player quarter flex-row-centered"},r_={key:0},o_={key:0,class:"half flex-row-spaced"},a_=Sr(()=>g("div",null,null,-1)),l_={key:0},c_=Sr(()=>g("div",null,null,-1)),u_={key:1,class:"quarter flex-row-spaced"},d_=Sr(()=>g("div",null,null,-1)),f_={class:"flex-column-center"},h_=["data-tooltip"],p_={key:0,class:"digits"},g_={key:2},m_=me({__name:"Footer",setup(e){const t=ee(),{monster:s,monsterName:n,battling:i,rolled:r,turnPhase:o,startPhase:a,rollPhase:l,marchPhase:c,playerActive:d,isOpponentTurn:f,turn:p,victory:_}=Se(t),b=le(()=>K.monster.replace("monster",n.value)),T=le(()=>!(a.value||f.value||l.value&&!r.value||l.value&&s.value.moving||i.value));function M(){T.value&&t.newTurn()}Xe(()=>{document.addEventListener("keydown",I,!1)}),is(()=>{document.removeEventListener("keydown",I)});function I(U){U.code==="Space"&&T&&t.newTurn()}return(U,R)=>(A(),k("footer",n_,[g("div",i_,[v(d)?(A(),k("h2",r_,[g("span",{class:ne(`p${v(d).id}-color`)},D(v(d).name())+"'s Turn",3)])):be("",!0),g("span",null,D(v(o).description),1)]),v(a)?be("",!0):(A(),k("div",o_,[a_,v(s).moving?(A(),k("h2",l_,D(b.value),1)):v(c)&&!v(f)?(A(),Re(s_,{key:1})):be("",!0),c_])),!v(a)&&v(d)?(A(),k("div",u_,[d_,Y(Om),g("div",f_,[g("button",{class:ne(["tooltip",["shadowed",T.value?"enabled":"disabled"]]),"data-tooltip":v(K).tooltip.turn,onClick:M},[g("img",{src:Ar,alt:"next",class:ne(`p${v(d).id}-filter`)},null,2)],10,h_),v(_)?be("",!0):(A(),k("span",p_,D(Math.floor(v(p).time/600))+D(Math.floor(v(p).time/60))+":"+D(Math.floor(v(p).time%60/10))+D(Math.floor(v(p).time%10)),1))])])):(A(),k("div",g_))]))}});const __=Ae(m_,[["__scopeId","data-v-c49d4d2d"]]),v_={key:0,class:"window-height flex-column-spaced"},y_={class:"flex-row-spaced"},b_=me({__name:"App",setup(e){const t=ee(),{players:s,settings:n}=Se(t),i=le(()=>n.value.players==2),r=le(()=>s.value[0]),o=le(()=>s.value[1]),a=le(()=>n.value.players>2?s.value[2]:null),l=le(()=>n.value.players>3?s.value[3]:null);let c=Ne(!1);Xe(()=>{f(),c.value&&(t.init(),qe(()=>{p()}))});function d(){const _=window.location.search;return new URLSearchParams(_)}function f(){d().get("key")==="kgs"&&(c.value=!0)}function p(){const _=d().get("debug");_&&console.log(_)}return(_,b)=>v(c)?(A(),k("div",v_,[Y(eh),g("main",y_,[Y(ih),Y(Io,{centered:i.value,top:r.value,bottom:a.value||void 0},null,8,["centered","top","bottom"]),Y(yp),Y(Io,{centered:i.value,top:o.value,bottom:l.value||void 0},null,8,["centered","top","bottom"]),Y(Cp)]),Y(Rp),Y(Mp),Y(og),Y(Pg),Y(Jg),Y(Xg),Y(Tm),Y(__)])):be("",!0)}}),fl=Xu(b_);fl.use(td());fl.mount("#app");
