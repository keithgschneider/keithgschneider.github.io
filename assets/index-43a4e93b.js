var el=Object.defineProperty;var tl=(e,t,s)=>t in e?el(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var p=(e,t,s)=>(tl(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};Array.prototype.shuffle=function(){return this.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e)};String.prototype.toCapitalized=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.toEachCapitalized=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")};Number.prototype.roll=function(){return Math.floor(this*Math.random())+1};Number.prototype.chance=function(){const e=this;return e<Math.floor(Math.random()*100)+1?0:e};function Dn(e,t){const s=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)s[i[n]]=!0;return t?n=>!!s[n.toLowerCase()]:n=>!!s[n]}const ae={},Ut=[],qe=()=>{},sl=()=>!1,il=/^on[^a-z]/,Zs=e=>il.test(e),Mn=e=>e.startsWith("onUpdate:"),he=Object.assign,Fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},nl=Object.prototype.hasOwnProperty,G=(e,t)=>nl.call(e,t),F=Array.isArray,Nt=e=>ei(e)==="[object Map]",fo=e=>ei(e)==="[object Set]",U=e=>typeof e=="function",me=e=>typeof e=="string",Bn=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",po=e=>le(e)&&U(e.then)&&U(e.catch),go=Object.prototype.toString,ei=e=>go.call(e),rl=e=>ei(e).slice(8,-1),mo=e=>ei(e)==="[object Object]",Ln=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ms=Dn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ti=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ol=/-(\w)/g,qt=ti(e=>e.replace(ol,(t,s)=>s?s.toUpperCase():"")),al=/\B([A-Z])/g,Gt=ti(e=>e.replace(al,"-$1").toLowerCase()),_o=ti(e=>e.charAt(0).toUpperCase()+e.slice(1)),nn=ti(e=>e?`on${_o(e)}`:""),ds=(e,t)=>!Object.is(e,t),rn=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},qs=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},ll=e=>{const t=parseFloat(e);return isNaN(t)?e:t},cl=e=>{const t=me(e)?Number(e):NaN;return isNaN(t)?e:t};let pr;const gn=()=>pr||(pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function si(e){if(F(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=me(i)?fl(i):si(i);if(n)for(const r in n)t[r]=n[r]}return t}else{if(me(e))return e;if(le(e))return e}}const ul=/;(?![^(]*\))/g,dl=/:([^]+)/,hl=/\/\*[^]*?\*\//g;function fl(e){const t={};return e.replace(hl,"").split(ul).forEach(s=>{if(s){const i=s.split(dl);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ee(e){let t="";if(me(e))t=e;else if(F(e))for(let s=0;s<e.length;s++){const i=ee(e[s]);i&&(t+=i+" ")}else if(le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const pl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gl=Dn(pl);function yo(e){return!!e||e===""}const q=e=>me(e)?e:e==null?"":F(e)||le(e)&&(e.toString===go||!U(e.toString))?JSON.stringify(e,vo,2):String(e),vo=(e,t)=>t&&t.__v_isRef?vo(e,t.value):Nt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n])=>(s[`${i} =>`]=n,s),{})}:fo(t)?{[`Set(${t.size})`]:[...t.values()]}:le(t)&&!F(t)&&!mo(t)?String(t):t;let Ie;class bo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ie,!t&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Ie;try{return Ie=this,t()}finally{Ie=s}}}on(){Ie=this}off(){Ie=this.parent}stop(t){if(this._active){let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.scopes)for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function wo(e){return new bo(e)}function ml(e,t=Ie){t&&t.active&&t.effects.push(e)}function To(){return Ie}function _l(e){Ie&&Ie.cleanups.push(e)}const Un=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Co=e=>(e.w&yt)>0,So=e=>(e.n&yt)>0,yl=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yt},vl=e=>{const{deps:t}=e;if(t.length){let s=0;for(let i=0;i<t.length;i++){const n=t[i];Co(n)&&!So(n)?n.delete(e):t[s++]=n,n.w&=~yt,n.n&=~yt}t.length=s}},zs=new WeakMap;let is=0,yt=1;const mn=30;let Ve;const Ot=Symbol(""),_n=Symbol("");class Nn{constructor(t,s=null,i){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,ml(this,i)}run(){if(!this.active)return this.fn();let t=Ve,s=gt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ve,Ve=this,gt=!0,yt=1<<++is,is<=mn?yl(this):gr(this),this.fn()}finally{is<=mn&&vl(this),yt=1<<--is,Ve=this.parent,gt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ve===this?this.deferStop=!0:this.active&&(gr(this),this.onStop&&this.onStop(),this.active=!1)}}function gr(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let gt=!0;const Eo=[];function Yt(){Eo.push(gt),gt=!1}function Jt(){const e=Eo.pop();gt=e===void 0?!0:e}function Oe(e,t,s){if(gt&&Ve){let i=zs.get(e);i||zs.set(e,i=new Map);let n=i.get(s);n||i.set(s,n=Un()),ko(n)}}function ko(e,t){let s=!1;is<=mn?So(e)||(e.n|=yt,s=!Co(e)):s=!e.has(Ve),s&&(e.add(Ve),Ve.deps.push(e))}function ot(e,t,s,i,n,r){const o=zs.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(s==="length"&&F(e)){const l=Number(i);o.forEach((u,f)=>{(f==="length"||f>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),t){case"add":F(e)?Ln(s)&&a.push(o.get("length")):(a.push(o.get(Ot)),Nt(e)&&a.push(o.get(_n)));break;case"delete":F(e)||(a.push(o.get(Ot)),Nt(e)&&a.push(o.get(_n)));break;case"set":Nt(e)&&a.push(o.get(Ot));break}if(a.length===1)a[0]&&yn(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);yn(Un(l))}}function yn(e,t){const s=F(e)?e:[...e];for(const i of s)i.computed&&mr(i);for(const i of s)i.computed||mr(i)}function mr(e,t){(e!==Ve||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function bl(e,t){var s;return(s=zs.get(e))==null?void 0:s.get(t)}const wl=Dn("__proto__,__v_isRef,__isVue"),Ao=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Bn)),Tl=jn(),Cl=jn(!1,!0),Sl=jn(!0),_r=El();function El(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const i=z(this);for(let r=0,o=this.length;r<o;r++)Oe(i,"get",r+"");const n=i[t](...s);return n===-1||n===!1?i[t](...s.map(z)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Yt();const i=z(this)[t].apply(this,s);return Jt(),i}}),e}function kl(e){const t=z(this);return Oe(t,"has",e),t.hasOwnProperty(e)}function jn(e=!1,t=!1){return function(i,n,r){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(e?t?Hl:Io:t?Po:Oo).get(i))return i;const o=F(i);if(!e){if(o&&G(_r,n))return Reflect.get(_r,n,r);if(n==="hasOwnProperty")return kl}const a=Reflect.get(i,n,r);return(Bn(n)?Ao.has(n):wl(n))||(e||Oe(i,"get",n),t)?a:de(a)?o&&Ln(n)?a:a.value:le(a)?e?Ro(a):ni(a):a}}const Al=xo(),xl=xo(!0);function xo(e=!1){return function(s,i,n,r){let o=s[i];if(zt(o)&&de(o)&&!de(n))return!1;if(!e&&(!Ks(n)&&!zt(n)&&(o=z(o),n=z(n)),!F(s)&&de(o)&&!de(n)))return o.value=n,!0;const a=F(s)&&Ln(i)?Number(i)<s.length:G(s,i),l=Reflect.set(s,i,n,r);return s===z(r)&&(a?ds(n,o)&&ot(s,"set",i,n):ot(s,"add",i,n)),l}}function $l(e,t){const s=G(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&s&&ot(e,"delete",t,void 0),i}function Ol(e,t){const s=Reflect.has(e,t);return(!Bn(t)||!Ao.has(t))&&Oe(e,"has",t),s}function Pl(e){return Oe(e,"iterate",F(e)?"length":Ot),Reflect.ownKeys(e)}const $o={get:Tl,set:Al,deleteProperty:$l,has:Ol,ownKeys:Pl},Il={get:Sl,set(e,t){return!0},deleteProperty(e,t){return!0}},Rl=he({},$o,{get:Cl,set:xl}),Hn=e=>e,ii=e=>Reflect.getPrototypeOf(e);function Es(e,t,s=!1,i=!1){e=e.__v_raw;const n=z(e),r=z(t);s||(t!==r&&Oe(n,"get",t),Oe(n,"get",r));const{has:o}=ii(n),a=i?Hn:s?qn:hs;if(o.call(n,t))return a(e.get(t));if(o.call(n,r))return a(e.get(r));e!==n&&e.get(t)}function ks(e,t=!1){const s=this.__v_raw,i=z(s),n=z(e);return t||(e!==n&&Oe(i,"has",e),Oe(i,"has",n)),e===n?s.has(e):s.has(e)||s.has(n)}function As(e,t=!1){return e=e.__v_raw,!t&&Oe(z(e),"iterate",Ot),Reflect.get(e,"size",e)}function yr(e){e=z(e);const t=z(this);return ii(t).has.call(t,e)||(t.add(e),ot(t,"add",e,e)),this}function vr(e,t){t=z(t);const s=z(this),{has:i,get:n}=ii(s);let r=i.call(s,e);r||(e=z(e),r=i.call(s,e));const o=n.call(s,e);return s.set(e,t),r?ds(t,o)&&ot(s,"set",e,t):ot(s,"add",e,t),this}function br(e){const t=z(this),{has:s,get:i}=ii(t);let n=s.call(t,e);n||(e=z(e),n=s.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return n&&ot(t,"delete",e,void 0),r}function wr(){const e=z(this),t=e.size!==0,s=e.clear();return t&&ot(e,"clear",void 0,void 0),s}function xs(e,t){return function(i,n){const r=this,o=r.__v_raw,a=z(o),l=t?Hn:e?qn:hs;return!e&&Oe(a,"iterate",Ot),o.forEach((u,f)=>i.call(n,l(u),l(f),r))}}function $s(e,t,s){return function(...i){const n=this.__v_raw,r=z(n),o=Nt(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...i),f=s?Hn:t?qn:hs;return!t&&Oe(r,"iterate",l?_n:Ot),{next(){const{value:m,done:v}=u.next();return v?{value:m,done:v}:{value:a?[f(m[0]),f(m[1])]:f(m),done:v}},[Symbol.iterator](){return this}}}}function ct(e){return function(...t){return e==="delete"?!1:this}}function Dl(){const e={get(r){return Es(this,r)},get size(){return As(this)},has:ks,add:yr,set:vr,delete:br,clear:wr,forEach:xs(!1,!1)},t={get(r){return Es(this,r,!1,!0)},get size(){return As(this)},has:ks,add:yr,set:vr,delete:br,clear:wr,forEach:xs(!1,!0)},s={get(r){return Es(this,r,!0)},get size(){return As(this,!0)},has(r){return ks.call(this,r,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:xs(!0,!1)},i={get(r){return Es(this,r,!0,!0)},get size(){return As(this,!0)},has(r){return ks.call(this,r,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:xs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=$s(r,!1,!1),s[r]=$s(r,!0,!1),t[r]=$s(r,!1,!0),i[r]=$s(r,!0,!0)}),[e,s,t,i]}const[Ml,Fl,Bl,Ll]=Dl();function Vn(e,t){const s=t?e?Ll:Bl:e?Fl:Ml;return(i,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(G(s,n)&&n in i?s:i,n,r)}const Ul={get:Vn(!1,!1)},Nl={get:Vn(!1,!0)},jl={get:Vn(!0,!1)},Oo=new WeakMap,Po=new WeakMap,Io=new WeakMap,Hl=new WeakMap;function Vl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wl(e){return e.__v_skip||!Object.isExtensible(e)?0:Vl(rl(e))}function ni(e){return zt(e)?e:Wn(e,!1,$o,Ul,Oo)}function ql(e){return Wn(e,!1,Rl,Nl,Po)}function Ro(e){return Wn(e,!0,Il,jl,Io)}function Wn(e,t,s,i,n){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const o=Wl(e);if(o===0)return e;const a=new Proxy(e,o===2?i:s);return n.set(e,a),a}function mt(e){return zt(e)?mt(e.__v_raw):!!(e&&e.__v_isReactive)}function zt(e){return!!(e&&e.__v_isReadonly)}function Ks(e){return!!(e&&e.__v_isShallow)}function Do(e){return mt(e)||zt(e)}function z(e){const t=e&&e.__v_raw;return t?z(t):e}function ri(e){return qs(e,"__v_skip",!0),e}const hs=e=>le(e)?ni(e):e,qn=e=>le(e)?Ro(e):e;function Mo(e){gt&&Ve&&(e=z(e),ko(e.dep||(e.dep=Un())))}function Fo(e,t){e=z(e);const s=e.dep;s&&yn(s)}function de(e){return!!(e&&e.__v_isRef===!0)}function Bo(e){return zl(e,!1)}function zl(e,t){return de(e)?e:new Kl(e,t)}class Kl{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:z(t),this._value=s?t:hs(t)}get value(){return Mo(this),this._value}set value(t){const s=this.__v_isShallow||Ks(t)||zt(t);t=s?t:z(t),ds(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:hs(t),Fo(this))}}function Lo(e){return de(e)?e.value:e}const Gl={get:(e,t,s)=>Lo(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return de(n)&&!de(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Uo(e){return mt(e)?e:new Proxy(e,Gl)}function Yl(e){const t=F(e)?new Array(e.length):{};for(const s in e)t[s]=Xl(e,s);return t}class Jl{constructor(t,s,i){this._object=t,this._key=s,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bl(z(this._object),this._key)}}function Xl(e,t,s){const i=e[t];return de(i)?i:new Jl(e,t,s)}class Ql{constructor(t,s,i,n){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Nn(t,()=>{this._dirty||(this._dirty=!0,Fo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=z(this);return Mo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Zl(e,t,s=!1){let i,n;const r=U(e);return r?(i=e,n=qe):(i=e.get,n=e.set),new Ql(i,n,r||!n,s)}function _t(e,t,s,i){let n;try{n=i?e(...i):e()}catch(r){oi(r,t,s)}return n}function Be(e,t,s,i){if(U(e)){const r=_t(e,t,s,i);return r&&po(r)&&r.catch(o=>{oi(o,t,s)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(Be(e[r],t,s,i));return n}function oi(e,t,s,i=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=s;for(;r;){const u=r.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){_t(l,null,10,[e,o,a]);return}}ec(e,s,n,i)}function ec(e,t,s,i=!0){console.error(e)}let fs=!1,vn=!1;const Se=[];let Xe=0;const jt=[];let rt=null,kt=0;const No=Promise.resolve();let zn=null;function jo(e){const t=zn||No;return e?t.then(this?e.bind(this):e):t}function tc(e){let t=Xe+1,s=Se.length;for(;t<s;){const i=t+s>>>1;ps(Se[i])<e?t=i+1:s=i}return t}function Kn(e){(!Se.length||!Se.includes(e,fs&&e.allowRecurse?Xe+1:Xe))&&(e.id==null?Se.push(e):Se.splice(tc(e.id),0,e),Ho())}function Ho(){!fs&&!vn&&(vn=!0,zn=No.then(Wo))}function sc(e){const t=Se.indexOf(e);t>Xe&&Se.splice(t,1)}function ic(e){F(e)?jt.push(...e):(!rt||!rt.includes(e,e.allowRecurse?kt+1:kt))&&jt.push(e),Ho()}function Tr(e,t=fs?Xe+1:0){for(;t<Se.length;t++){const s=Se[t];s&&s.pre&&(Se.splice(t,1),t--,s())}}function Vo(e){if(jt.length){const t=[...new Set(jt)];if(jt.length=0,rt){rt.push(...t);return}for(rt=t,rt.sort((s,i)=>ps(s)-ps(i)),kt=0;kt<rt.length;kt++)rt[kt]();rt=null,kt=0}}const ps=e=>e.id==null?1/0:e.id,nc=(e,t)=>{const s=ps(e)-ps(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Wo(e){vn=!1,fs=!0,Se.sort(nc);const t=qe;try{for(Xe=0;Xe<Se.length;Xe++){const s=Se[Xe];s&&s.active!==!1&&_t(s,null,14)}}finally{Xe=0,Se.length=0,Vo(),fs=!1,zn=null,(Se.length||jt.length)&&Wo()}}function rc(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||ae;let n=s;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const f=`${o==="modelValue"?"model":o}Modifiers`,{number:m,trim:v}=i[f]||ae;v&&(n=s.map(P=>me(P)?P.trim():P)),m&&(n=s.map(ll))}let a,l=i[a=nn(t)]||i[a=nn(qt(t))];!l&&r&&(l=i[a=nn(Gt(t))]),l&&Be(l,e,6,n);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Be(u,e,6,n)}}function qo(e,t,s=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const r=e.emits;let o={},a=!1;if(!U(e)){const l=u=>{const f=qo(u,t,!0);f&&(a=!0,he(o,f))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(le(e)&&i.set(e,null),null):(F(r)?r.forEach(l=>o[l]=null):he(o,r),le(e)&&i.set(e,o),o)}function ai(e,t){return!e||!Zs(t)?!1:(t=t.slice(2).replace(/Once$/,""),G(e,t[0].toLowerCase()+t.slice(1))||G(e,Gt(t))||G(e,t))}let we=null,li=null;function Gs(e){const t=we;return we=e,li=e&&e.type.__scopeId||null,t}function et(e){li=e}function tt(){li=null}function bt(e,t=we,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Rr(-1);const r=Gs(t);let o;try{o=e(...n)}finally{Gs(r),i._d&&Rr(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function on(e){const{type:t,vnode:s,proxy:i,withProxy:n,props:r,propsOptions:[o],slots:a,attrs:l,emit:u,render:f,renderCache:m,data:v,setupState:P,ctx:N,inheritAttrs:D}=e;let Q,ie;const ne=Gs(e);try{if(s.shapeFlag&4){const B=n||i;Q=Je(f.call(B,B,m,r,P,v,N)),ie=l}else{const B=t;Q=Je(B.length>1?B(r,{attrs:l,slots:a,emit:u}):B(r,null)),ie=t.props?l:oc(l)}}catch(B){cs.length=0,oi(B,e,1),Q=K(Le)}let re=Q;if(ie&&D!==!1){const B=Object.keys(ie),{shapeFlag:X}=re;B.length&&X&7&&(o&&B.some(Mn)&&(ie=ac(ie,o)),re=vt(re,ie))}return s.dirs&&(re=vt(re),re.dirs=re.dirs?re.dirs.concat(s.dirs):s.dirs),s.transition&&(re.transition=s.transition),Q=re,Gs(ne),Q}const oc=e=>{let t;for(const s in e)(s==="class"||s==="style"||Zs(s))&&((t||(t={}))[s]=e[s]);return t},ac=(e,t)=>{const s={};for(const i in e)(!Mn(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function lc(e,t,s){const{props:i,children:n,component:r}=e,{props:o,children:a,patchFlag:l}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?Cr(i,o,u):!!o;if(l&8){const f=t.dynamicProps;for(let m=0;m<f.length;m++){const v=f[m];if(o[v]!==i[v]&&!ai(u,v))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Cr(i,o,u):!0:!!o;return!1}function Cr(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==e[r]&&!ai(s,r))return!0}return!1}function cc({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const uc=e=>e.__isSuspense;function dc(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):ic(e)}const Os={};function Fs(e,t,s){return zo(e,t,s)}function zo(e,t,{immediate:s,deep:i,flush:n,onTrack:r,onTrigger:o}=ae){var a;const l=To()===((a=ve)==null?void 0:a.scope)?ve:null;let u,f=!1,m=!1;if(de(e)?(u=()=>e.value,f=Ks(e)):mt(e)?(u=()=>e,i=!0):F(e)?(m=!0,f=e.some(B=>mt(B)||Ks(B)),u=()=>e.map(B=>{if(de(B))return B.value;if(mt(B))return $t(B);if(U(B))return _t(B,l,2)})):U(e)?t?u=()=>_t(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return v&&v(),Be(e,l,3,[P])}:u=qe,t&&i){const B=u;u=()=>$t(B())}let v,P=B=>{v=ne.onStop=()=>{_t(B,l,4)}},N;if(vs)if(P=qe,t?s&&Be(t,l,3,[u(),m?[]:void 0,P]):u(),n==="sync"){const B=ru();N=B.__watcherHandles||(B.__watcherHandles=[])}else return qe;let D=m?new Array(e.length).fill(Os):Os;const Q=()=>{if(ne.active)if(t){const B=ne.run();(i||f||(m?B.some((X,De)=>ds(X,D[De])):ds(B,D)))&&(v&&v(),Be(t,l,3,[B,D===Os?void 0:m&&D[0]===Os?[]:D,P]),D=B)}else ne.run()};Q.allowRecurse=!!t;let ie;n==="sync"?ie=Q:n==="post"?ie=()=>xe(Q,l&&l.suspense):(Q.pre=!0,l&&(Q.id=l.uid),ie=()=>Kn(Q));const ne=new Nn(u,ie);t?s?Q():D=ne.run():n==="post"?xe(ne.run.bind(ne),l&&l.suspense):ne.run();const re=()=>{ne.stop(),l&&l.scope&&Fn(l.scope.effects,ne)};return N&&N.push(re),re}function hc(e,t,s){const i=this.proxy,n=me(e)?e.includes(".")?Ko(i,e):()=>i[e]:e.bind(i,i);let r;U(t)?r=t:(r=t.handler,s=t);const o=ve;Kt(this);const a=zo(n,r.bind(i),s);return o?Kt(o):Pt(),a}function Ko(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}function $t(e,t){if(!le(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))$t(e.value,t);else if(F(e))for(let s=0;s<e.length;s++)$t(e[s],t);else if(fo(e)||Nt(e))e.forEach(s=>{$t(s,t)});else if(mo(e))for(const s in e)$t(e[s],t);return e}function Go(e,t){const s=we;if(s===null)return e;const i=fi(s)||s.proxy,n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,u=ae]=t[r];o&&(U(o)&&(o={mounted:o,updated:o}),o.deep&&$t(a),n.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function Ct(e,t,s,i){const n=e.dirs,r=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Yt(),Be(l,s,8,[e.el,a,e,t]),Jt())}}function Yo(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zo(()=>{e.isMounted=!0}),ta(()=>{e.isUnmounting=!0}),e}const Me=[Function,Array],Jo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Me,onEnter:Me,onAfterEnter:Me,onEnterCancelled:Me,onBeforeLeave:Me,onLeave:Me,onAfterLeave:Me,onLeaveCancelled:Me,onBeforeAppear:Me,onAppear:Me,onAfterAppear:Me,onAppearCancelled:Me},fc={name:"BaseTransition",props:Jo,setup(e,{slots:t}){const s=ga(),i=Yo();let n;return()=>{const r=t.default&&Gn(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const D of r)if(D.type!==Le){o=D;break}}const a=z(e),{mode:l}=a;if(i.isLeaving)return an(o);const u=Sr(o);if(!u)return an(o);const f=gs(u,a,i,s);ms(u,f);const m=s.subTree,v=m&&Sr(m);let P=!1;const{getTransitionKey:N}=u.type;if(N){const D=N();n===void 0?n=D:D!==n&&(n=D,P=!0)}if(v&&v.type!==Le&&(!At(u,v)||P)){const D=gs(v,a,i,s);if(ms(v,D),l==="out-in")return i.isLeaving=!0,D.afterLeave=()=>{i.isLeaving=!1,s.update.active!==!1&&s.update()},an(o);l==="in-out"&&u.type!==Le&&(D.delayLeave=(Q,ie,ne)=>{const re=Xo(i,v);re[String(v.key)]=v,Q._leaveCb=()=>{ie(),Q._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=ne})}return o}}},pc=fc;function Xo(e,t){const{leavingVNodes:s}=e;let i=s.get(t.type);return i||(i=Object.create(null),s.set(t.type,i)),i}function gs(e,t,s,i){const{appear:n,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:m,onLeave:v,onAfterLeave:P,onLeaveCancelled:N,onBeforeAppear:D,onAppear:Q,onAfterAppear:ie,onAppearCancelled:ne}=t,re=String(e.key),B=Xo(s,e),X=(A,M)=>{A&&Be(A,i,9,M)},De=(A,M)=>{const j=M[1];X(A,M),F(A)?A.every(ce=>ce.length<=1)&&j():A.length<=1&&j()},Ce={mode:r,persisted:o,beforeEnter(A){let M=a;if(!s.isMounted)if(n)M=D||a;else return;A._leaveCb&&A._leaveCb(!0);const j=B[re];j&&At(e,j)&&j.el._leaveCb&&j.el._leaveCb(),X(M,[A])},enter(A){let M=l,j=u,ce=f;if(!s.isMounted)if(n)M=Q||l,j=ie||u,ce=ne||f;else return;let x=!1;const oe=A._enterCb=ke=>{x||(x=!0,ke?X(ce,[A]):X(j,[A]),Ce.delayedLeave&&Ce.delayedLeave(),A._enterCb=void 0)};M?De(M,[A,oe]):oe()},leave(A,M){const j=String(e.key);if(A._enterCb&&A._enterCb(!0),s.isUnmounting)return M();X(m,[A]);let ce=!1;const x=A._leaveCb=oe=>{ce||(ce=!0,M(),oe?X(N,[A]):X(P,[A]),A._leaveCb=void 0,B[j]===e&&delete B[j])};B[j]=e,v?De(v,[A,x]):x()},clone(A){return gs(A,t,s,i)}};return Ce}function an(e){if(ci(e))return e=vt(e),e.children=null,e}function Sr(e){return ci(e)?e.children?e.children[0]:void 0:e}function ms(e,t){e.shapeFlag&6&&e.component?ms(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Gn(e,t=!1,s){let i=[],n=0;for(let r=0;r<e.length;r++){let o=e[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===J?(o.patchFlag&128&&n++,i=i.concat(Gn(o.children,t,a))):(t||o.type!==Le)&&i.push(a!=null?vt(o,{key:a}):o)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function _e(e,t){return U(e)?(()=>he({name:e.name},t,{setup:e}))():e}const os=e=>!!e.type.__asyncLoader,ci=e=>e.type.__isKeepAlive;function gc(e,t){Qo(e,"a",t)}function mc(e,t){Qo(e,"da",t)}function Qo(e,t,s=ve){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(ui(t,i,s),s){let n=s.parent;for(;n&&n.parent;)ci(n.parent.vnode)&&_c(i,t,s,n),n=n.parent}}function _c(e,t,s,i){const n=ui(t,e,i,!0);sa(()=>{Fn(i[t],n)},s)}function ui(e,t,s=ve,i=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;Yt(),Kt(s);const a=Be(t,s,e,o);return Pt(),Jt(),a});return i?n.unshift(r):n.push(r),r}}const at=e=>(t,s=ve)=>(!vs||e==="sp")&&ui(e,(...i)=>t(...i),s),yc=at("bm"),Zo=at("m"),vc=at("bu"),ea=at("u"),ta=at("bum"),sa=at("um"),bc=at("sp"),wc=at("rtg"),Tc=at("rtc");function Cc(e,t=ve){ui("ec",e,t)}const Sc=Symbol.for("v-ndc");function be(e,t,s,i){let n;const r=s&&s[i];if(F(e)||me(e)){n=new Array(e.length);for(let o=0,a=e.length;o<a;o++)n[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,void 0,r&&r[o])}else if(le(e))if(e[Symbol.iterator])n=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];n[a]=t(e[u],u,a,r&&r[a])}}else n=[];return s&&(s[i]=n),n}function Ec(e,t,s={},i,n){if(we.isCE||we.parent&&os(we.parent)&&we.parent.isCE)return t!=="default"&&(s.name=t),K("slot",s,i&&i());let r=e[t];r&&r._c&&(r._d=!1),S();const o=r&&ia(r(s)),a=Re(J,{key:s.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function ia(e){return e.some(t=>Js(t)?!(t.type===Le||t.type===J&&!ia(t.children)):!0)?e:null}const bn=e=>e?ma(e)?fi(e)||e.proxy:bn(e.parent):null,as=he(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bn(e.parent),$root:e=>bn(e.root),$emit:e=>e.emit,$options:e=>Yn(e),$forceUpdate:e=>e.f||(e.f=()=>Kn(e.update)),$nextTick:e=>e.n||(e.n=jo.bind(e.proxy)),$watch:e=>hc.bind(e)}),ln=(e,t)=>e!==ae&&!e.__isScriptSetup&&G(e,t),kc={get({_:e},t){const{ctx:s,setupState:i,data:n,props:r,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const P=o[t];if(P!==void 0)switch(P){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(ln(i,t))return o[t]=1,i[t];if(n!==ae&&G(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&G(u,t))return o[t]=3,r[t];if(s!==ae&&G(s,t))return o[t]=4,s[t];wn&&(o[t]=0)}}const f=as[t];let m,v;if(f)return t==="$attrs"&&Oe(e,"get",t),f(e);if((m=a.__cssModules)&&(m=m[t]))return m;if(s!==ae&&G(s,t))return o[t]=4,s[t];if(v=l.config.globalProperties,G(v,t))return v[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:r}=e;return ln(n,t)?(n[t]=s,!0):i!==ae&&G(i,t)?(i[t]=s,!0):G(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:r}},o){let a;return!!s[o]||e!==ae&&G(e,o)||ln(t,o)||(a=r[0])&&G(a,o)||G(i,o)||G(as,o)||G(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:G(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Er(e){return F(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let wn=!0;function Ac(e){const t=Yn(e),s=e.proxy,i=e.ctx;wn=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:o,watch:a,provide:l,inject:u,created:f,beforeMount:m,mounted:v,beforeUpdate:P,updated:N,activated:D,deactivated:Q,beforeDestroy:ie,beforeUnmount:ne,destroyed:re,unmounted:B,render:X,renderTracked:De,renderTriggered:Ce,errorCaptured:A,serverPrefetch:M,expose:j,inheritAttrs:ce,components:x,directives:oe,filters:ke}=t;if(u&&xc(u,i,null),o)for(const ue in o){const te=o[ue];U(te)&&(i[ue]=te.bind(s))}if(n){const ue=n.call(s,s);le(ue)&&(e.data=ni(ue))}if(wn=!0,r)for(const ue in r){const te=r[ue],wt=U(te)?te.bind(s,s):U(te.get)?te.get.bind(s,s):qe,Cs=!U(te)&&U(te.set)?te.set.bind(s):qe,Tt=ya({get:wt,set:Cs});Object.defineProperty(i,ue,{enumerable:!0,configurable:!0,get:()=>Tt.value,set:ze=>Tt.value=ze})}if(a)for(const ue in a)na(a[ue],i,s,ue);if(l){const ue=U(l)?l.call(s):l;Reflect.ownKeys(ue).forEach(te=>{Dc(te,ue[te])})}f&&kr(f,e,"c");function Y(ue,te){F(te)?te.forEach(wt=>ue(wt.bind(s))):te&&ue(te.bind(s))}if(Y(yc,m),Y(Zo,v),Y(vc,P),Y(ea,N),Y(gc,D),Y(mc,Q),Y(Cc,A),Y(Tc,De),Y(wc,Ce),Y(ta,ne),Y(sa,B),Y(bc,M),F(j))if(j.length){const ue=e.exposed||(e.exposed={});j.forEach(te=>{Object.defineProperty(ue,te,{get:()=>s[te],set:wt=>s[te]=wt})})}else e.exposed||(e.exposed={});X&&e.render===qe&&(e.render=X),ce!=null&&(e.inheritAttrs=ce),x&&(e.components=x),oe&&(e.directives=oe)}function xc(e,t,s=qe){F(e)&&(e=Tn(e));for(const i in e){const n=e[i];let r;le(n)?"default"in n?r=ls(n.from||i,n.default,!0):r=ls(n.from||i):r=ls(n),de(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function kr(e,t,s){Be(F(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function na(e,t,s,i){const n=i.includes(".")?Ko(s,i):()=>s[i];if(me(e)){const r=t[e];U(r)&&Fs(n,r)}else if(U(e))Fs(n,e.bind(s));else if(le(e))if(F(e))e.forEach(r=>na(r,t,s,i));else{const r=U(e.handler)?e.handler.bind(s):t[e.handler];U(r)&&Fs(n,r,e)}}function Yn(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!n.length&&!s&&!i?l=t:(l={},n.length&&n.forEach(u=>Ys(l,u,o,!0)),Ys(l,t,o)),le(t)&&r.set(t,l),l}function Ys(e,t,s,i=!1){const{mixins:n,extends:r}=t;r&&Ys(e,r,s,!0),n&&n.forEach(o=>Ys(e,o,s,!0));for(const o in t)if(!(i&&o==="expose")){const a=$c[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const $c={data:Ar,props:xr,emits:xr,methods:ns,computed:ns,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:ns,directives:ns,watch:Pc,provide:Ar,inject:Oc};function Ar(e,t){return t?e?function(){return he(U(e)?e.call(this,this):e,U(t)?t.call(this,this):t)}:t:e}function Oc(e,t){return ns(Tn(e),Tn(t))}function Tn(e){if(F(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ae(e,t){return e?[...new Set([].concat(e,t))]:t}function ns(e,t){return e?he(Object.create(null),e,t):t}function xr(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:he(Object.create(null),Er(e),Er(t??{})):t}function Pc(e,t){if(!e)return t;if(!t)return e;const s=he(Object.create(null),e);for(const i in t)s[i]=Ae(e[i],t[i]);return s}function ra(){return{app:null,config:{isNativeTag:sl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ic=0;function Rc(e,t){return function(i,n=null){U(i)||(i=he({},i)),n!=null&&!le(n)&&(n=null);const r=ra(),o=new Set;let a=!1;const l=r.app={_uid:Ic++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:ou,get config(){return r.config},set config(u){},use(u,...f){return o.has(u)||(u&&U(u.install)?(o.add(u),u.install(l,...f)):U(u)&&(o.add(u),u(l,...f))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,f){return f?(r.components[u]=f,l):r.components[u]},directive(u,f){return f?(r.directives[u]=f,l):r.directives[u]},mount(u,f,m){if(!a){const v=K(i,n);return v.appContext=r,f&&t?t(v,u):e(v,u,m),a=!0,l._container=u,u.__vue_app__=l,fi(v.component)||v.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,f){return r.provides[u]=f,l},runWithContext(u){_s=l;try{return u()}finally{_s=null}}};return l}}let _s=null;function Dc(e,t){if(ve){let s=ve.provides;const i=ve.parent&&ve.parent.provides;i===s&&(s=ve.provides=Object.create(i)),s[e]=t}}function ls(e,t,s=!1){const i=ve||we;if(i||_s){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:_s._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return s&&U(t)?t.call(i&&i.proxy):t}}function Mc(){return!!(ve||we||_s)}function Fc(e,t,s,i=!1){const n={},r={};qs(r,hi,1),e.propsDefaults=Object.create(null),oa(e,t,n,r);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=i?n:ql(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function Bc(e,t,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=e,a=z(n),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let m=0;m<f.length;m++){let v=f[m];if(ai(e.emitsOptions,v))continue;const P=t[v];if(l)if(G(r,v))P!==r[v]&&(r[v]=P,u=!0);else{const N=qt(v);n[N]=Cn(l,a,N,P,e,!1)}else P!==r[v]&&(r[v]=P,u=!0)}}}else{oa(e,t,n,r)&&(u=!0);let f;for(const m in a)(!t||!G(t,m)&&((f=Gt(m))===m||!G(t,f)))&&(l?s&&(s[m]!==void 0||s[f]!==void 0)&&(n[m]=Cn(l,a,m,void 0,e,!0)):delete n[m]);if(r!==a)for(const m in r)(!t||!G(t,m))&&(delete r[m],u=!0)}u&&ot(e,"set","$attrs")}function oa(e,t,s,i){const[n,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ms(l))continue;const u=t[l];let f;n&&G(n,f=qt(l))?!r||!r.includes(f)?s[f]=u:(a||(a={}))[f]=u:ai(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(r){const l=z(s),u=a||ae;for(let f=0;f<r.length;f++){const m=r[f];s[m]=Cn(n,l,m,u[m],e,!G(u,m))}}return o}function Cn(e,t,s,i,n,r){const o=e[s];if(o!=null){const a=G(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=n;s in u?i=u[s]:(Kt(n),i=u[s]=l.call(null,t),Pt())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Gt(s))&&(i=!0))}return i}function aa(e,t,s=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const r=e.props,o={},a=[];let l=!1;if(!U(e)){const f=m=>{l=!0;const[v,P]=aa(m,t,!0);he(o,v),P&&a.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!l)return le(e)&&i.set(e,Ut),Ut;if(F(r))for(let f=0;f<r.length;f++){const m=qt(r[f]);$r(m)&&(o[m]=ae)}else if(r)for(const f in r){const m=qt(f);if($r(m)){const v=r[f],P=o[m]=F(v)||U(v)?{type:v}:he({},v);if(P){const N=Ir(Boolean,P.type),D=Ir(String,P.type);P[0]=N>-1,P[1]=D<0||N<D,(N>-1||G(P,"default"))&&a.push(m)}}}const u=[o,a];return le(e)&&i.set(e,u),u}function $r(e){return e[0]!=="$"}function Or(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Pr(e,t){return Or(e)===Or(t)}function Ir(e,t){return F(t)?t.findIndex(s=>Pr(s,e)):U(t)&&Pr(t,e)?0:-1}const la=e=>e[0]==="_"||e==="$stable",Jn=e=>F(e)?e.map(Je):[Je(e)],Lc=(e,t,s)=>{if(t._n)return t;const i=bt((...n)=>Jn(t(...n)),s);return i._c=!1,i},ca=(e,t,s)=>{const i=e._ctx;for(const n in e){if(la(n))continue;const r=e[n];if(U(r))t[n]=Lc(n,r,i);else if(r!=null){const o=Jn(r);t[n]=()=>o}}},ua=(e,t)=>{const s=Jn(t);e.slots.default=()=>s},Uc=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=z(t),qs(t,"_",s)):ca(t,e.slots={})}else e.slots={},t&&ua(e,t);qs(e.slots,hi,1)},Nc=(e,t,s)=>{const{vnode:i,slots:n}=e;let r=!0,o=ae;if(i.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:(he(n,t),!s&&a===1&&delete n._):(r=!t.$stable,ca(t,n)),o=t}else t&&(ua(e,t),o={default:1});if(r)for(const a in n)!la(a)&&!(a in o)&&delete n[a]};function Sn(e,t,s,i,n=!1){if(F(e)){e.forEach((v,P)=>Sn(v,t&&(F(t)?t[P]:t),s,i,n));return}if(os(i)&&!n)return;const r=i.shapeFlag&4?fi(i.component)||i.component.proxy:i.el,o=n?null:r,{i:a,r:l}=e,u=t&&t.r,f=a.refs===ae?a.refs={}:a.refs,m=a.setupState;if(u!=null&&u!==l&&(me(u)?(f[u]=null,G(m,u)&&(m[u]=null)):de(u)&&(u.value=null)),U(l))_t(l,a,12,[o,f]);else{const v=me(l),P=de(l);if(v||P){const N=()=>{if(e.f){const D=v?G(m,l)?m[l]:f[l]:l.value;n?F(D)&&Fn(D,r):F(D)?D.includes(r)||D.push(r):v?(f[l]=[r],G(m,l)&&(m[l]=f[l])):(l.value=[r],e.k&&(f[e.k]=l.value))}else v?(f[l]=o,G(m,l)&&(m[l]=o)):P&&(l.value=o,e.k&&(f[e.k]=o))};o?(N.id=-1,xe(N,s)):N()}}}const xe=dc;function jc(e){return Hc(e)}function Hc(e,t){const s=gn();s.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:f,parentNode:m,nextSibling:v,setScopeId:P=qe,insertStaticContent:N}=e,D=(c,d,g,y=null,_=null,T=null,E=!1,w=null,C=!!d.dynamicChildren)=>{if(c===d)return;c&&!At(c,d)&&(y=Ss(c),ze(c,_,T,!0),c=null),d.patchFlag===-2&&(C=!1,d.dynamicChildren=null);const{type:b,ref:I,shapeFlag:$}=d;switch(b){case di:Q(c,d,g,y);break;case Le:ie(c,d,g,y);break;case Bs:c==null&&ne(d,g,y,E);break;case J:x(c,d,g,y,_,T,E,w,C);break;default:$&1?X(c,d,g,y,_,T,E,w,C):$&6?oe(c,d,g,y,_,T,E,w,C):($&64||$&128)&&b.process(c,d,g,y,_,T,E,w,C,It)}I!=null&&_&&Sn(I,c&&c.ref,T,d||c,!d)},Q=(c,d,g,y)=>{if(c==null)i(d.el=a(d.children),g,y);else{const _=d.el=c.el;d.children!==c.children&&u(_,d.children)}},ie=(c,d,g,y)=>{c==null?i(d.el=l(d.children||""),g,y):d.el=c.el},ne=(c,d,g,y)=>{[c.el,c.anchor]=N(c.children,d,g,y,c.el,c.anchor)},re=({el:c,anchor:d},g,y)=>{let _;for(;c&&c!==d;)_=v(c),i(c,g,y),c=_;i(d,g,y)},B=({el:c,anchor:d})=>{let g;for(;c&&c!==d;)g=v(c),n(c),c=g;n(d)},X=(c,d,g,y,_,T,E,w,C)=>{E=E||d.type==="svg",c==null?De(d,g,y,_,T,E,w,C):M(c,d,_,T,E,w,C)},De=(c,d,g,y,_,T,E,w)=>{let C,b;const{type:I,props:$,shapeFlag:R,transition:L,dirs:H}=c;if(C=c.el=o(c.type,T,$&&$.is,$),R&8?f(C,c.children):R&16&&A(c.children,C,null,y,_,T&&I!=="foreignObject",E,w),H&&Ct(c,null,y,"created"),Ce(C,c,c.scopeId,E,y),$){for(const Z in $)Z!=="value"&&!Ms(Z)&&r(C,Z,null,$[Z],T,c.children,y,_,st);"value"in $&&r(C,"value",null,$.value),(b=$.onVnodeBeforeMount)&&Ge(b,y,c)}H&&Ct(c,null,y,"beforeMount");const se=(!_||_&&!_.pendingBranch)&&L&&!L.persisted;se&&L.beforeEnter(C),i(C,d,g),((b=$&&$.onVnodeMounted)||se||H)&&xe(()=>{b&&Ge(b,y,c),se&&L.enter(C),H&&Ct(c,null,y,"mounted")},_)},Ce=(c,d,g,y,_)=>{if(g&&P(c,g),y)for(let T=0;T<y.length;T++)P(c,y[T]);if(_){let T=_.subTree;if(d===T){const E=_.vnode;Ce(c,E,E.scopeId,E.slotScopeIds,_.parent)}}},A=(c,d,g,y,_,T,E,w,C=0)=>{for(let b=C;b<c.length;b++){const I=c[b]=w?ft(c[b]):Je(c[b]);D(null,I,d,g,y,_,T,E,w)}},M=(c,d,g,y,_,T,E)=>{const w=d.el=c.el;let{patchFlag:C,dynamicChildren:b,dirs:I}=d;C|=c.patchFlag&16;const $=c.props||ae,R=d.props||ae;let L;g&&St(g,!1),(L=R.onVnodeBeforeUpdate)&&Ge(L,g,d,c),I&&Ct(d,c,g,"beforeUpdate"),g&&St(g,!0);const H=_&&d.type!=="foreignObject";if(b?j(c.dynamicChildren,b,w,g,y,H,T):E||te(c,d,w,null,g,y,H,T,!1),C>0){if(C&16)ce(w,d,$,R,g,y,_);else if(C&2&&$.class!==R.class&&r(w,"class",null,R.class,_),C&4&&r(w,"style",$.style,R.style,_),C&8){const se=d.dynamicProps;for(let Z=0;Z<se.length;Z++){const fe=se[Z],je=$[fe],Rt=R[fe];(Rt!==je||fe==="value")&&r(w,fe,je,Rt,_,c.children,g,y,st)}}C&1&&c.children!==d.children&&f(w,d.children)}else!E&&b==null&&ce(w,d,$,R,g,y,_);((L=R.onVnodeUpdated)||I)&&xe(()=>{L&&Ge(L,g,d,c),I&&Ct(d,c,g,"updated")},y)},j=(c,d,g,y,_,T,E)=>{for(let w=0;w<d.length;w++){const C=c[w],b=d[w],I=C.el&&(C.type===J||!At(C,b)||C.shapeFlag&70)?m(C.el):g;D(C,b,I,null,y,_,T,E,!0)}},ce=(c,d,g,y,_,T,E)=>{if(g!==y){if(g!==ae)for(const w in g)!Ms(w)&&!(w in y)&&r(c,w,g[w],null,E,d.children,_,T,st);for(const w in y){if(Ms(w))continue;const C=y[w],b=g[w];C!==b&&w!=="value"&&r(c,w,b,C,E,d.children,_,T,st)}"value"in y&&r(c,"value",g.value,y.value)}},x=(c,d,g,y,_,T,E,w,C)=>{const b=d.el=c?c.el:a(""),I=d.anchor=c?c.anchor:a("");let{patchFlag:$,dynamicChildren:R,slotScopeIds:L}=d;L&&(w=w?w.concat(L):L),c==null?(i(b,g,y),i(I,g,y),A(d.children,g,I,_,T,E,w,C)):$>0&&$&64&&R&&c.dynamicChildren?(j(c.dynamicChildren,R,g,_,T,E,w),(d.key!=null||_&&d===_.subTree)&&da(c,d,!0)):te(c,d,g,I,_,T,E,w,C)},oe=(c,d,g,y,_,T,E,w,C)=>{d.slotScopeIds=w,c==null?d.shapeFlag&512?_.ctx.activate(d,g,y,E,C):ke(d,g,y,_,T,E,C):Ne(c,d,C)},ke=(c,d,g,y,_,T,E)=>{const w=c.component=Xc(c,y,_);if(ci(c)&&(w.ctx.renderer=It),Qc(w),w.asyncDep){if(_&&_.registerDep(w,Y),!c.el){const C=w.subTree=K(Le);ie(null,C,d,g)}return}Y(w,c,d,g,_,T,E)},Ne=(c,d,g)=>{const y=d.component=c.component;if(lc(c,d,g))if(y.asyncDep&&!y.asyncResolved){ue(y,d,g);return}else y.next=d,sc(y.update),y.update();else d.el=c.el,y.vnode=d},Y=(c,d,g,y,_,T,E)=>{const w=()=>{if(c.isMounted){let{next:I,bu:$,u:R,parent:L,vnode:H}=c,se=I,Z;St(c,!1),I?(I.el=H.el,ue(c,I,E)):I=H,$&&rn($),(Z=I.props&&I.props.onVnodeBeforeUpdate)&&Ge(Z,L,I,H),St(c,!0);const fe=on(c),je=c.subTree;c.subTree=fe,D(je,fe,m(je.el),Ss(je),c,_,T),I.el=fe.el,se===null&&cc(c,fe.el),R&&xe(R,_),(Z=I.props&&I.props.onVnodeUpdated)&&xe(()=>Ge(Z,L,I,H),_)}else{let I;const{el:$,props:R}=d,{bm:L,m:H,parent:se}=c,Z=os(d);if(St(c,!1),L&&rn(L),!Z&&(I=R&&R.onVnodeBeforeMount)&&Ge(I,se,d),St(c,!0),$&&sn){const fe=()=>{c.subTree=on(c),sn($,c.subTree,c,_,null)};Z?d.type.__asyncLoader().then(()=>!c.isUnmounted&&fe()):fe()}else{const fe=c.subTree=on(c);D(null,fe,g,y,c,_,T),d.el=fe.el}if(H&&xe(H,_),!Z&&(I=R&&R.onVnodeMounted)){const fe=d;xe(()=>Ge(I,se,fe),_)}(d.shapeFlag&256||se&&os(se.vnode)&&se.vnode.shapeFlag&256)&&c.a&&xe(c.a,_),c.isMounted=!0,d=g=y=null}},C=c.effect=new Nn(w,()=>Kn(b),c.scope),b=c.update=()=>C.run();b.id=c.uid,St(c,!0),b()},ue=(c,d,g)=>{d.component=c;const y=c.vnode.props;c.vnode=d,c.next=null,Bc(c,d.props,y,g),Nc(c,d.children,g),Yt(),Tr(),Jt()},te=(c,d,g,y,_,T,E,w,C=!1)=>{const b=c&&c.children,I=c?c.shapeFlag:0,$=d.children,{patchFlag:R,shapeFlag:L}=d;if(R>0){if(R&128){Cs(b,$,g,y,_,T,E,w,C);return}else if(R&256){wt(b,$,g,y,_,T,E,w,C);return}}L&8?(I&16&&st(b,_,T),$!==b&&f(g,$)):I&16?L&16?Cs(b,$,g,y,_,T,E,w,C):st(b,_,T,!0):(I&8&&f(g,""),L&16&&A($,g,y,_,T,E,w,C))},wt=(c,d,g,y,_,T,E,w,C)=>{c=c||Ut,d=d||Ut;const b=c.length,I=d.length,$=Math.min(b,I);let R;for(R=0;R<$;R++){const L=d[R]=C?ft(d[R]):Je(d[R]);D(c[R],L,g,null,_,T,E,w,C)}b>I?st(c,_,T,!0,!1,$):A(d,g,y,_,T,E,w,C,$)},Cs=(c,d,g,y,_,T,E,w,C)=>{let b=0;const I=d.length;let $=c.length-1,R=I-1;for(;b<=$&&b<=R;){const L=c[b],H=d[b]=C?ft(d[b]):Je(d[b]);if(At(L,H))D(L,H,g,null,_,T,E,w,C);else break;b++}for(;b<=$&&b<=R;){const L=c[$],H=d[R]=C?ft(d[R]):Je(d[R]);if(At(L,H))D(L,H,g,null,_,T,E,w,C);else break;$--,R--}if(b>$){if(b<=R){const L=R+1,H=L<I?d[L].el:y;for(;b<=R;)D(null,d[b]=C?ft(d[b]):Je(d[b]),g,H,_,T,E,w,C),b++}}else if(b>R)for(;b<=$;)ze(c[b],_,T,!0),b++;else{const L=b,H=b,se=new Map;for(b=H;b<=R;b++){const Pe=d[b]=C?ft(d[b]):Je(d[b]);Pe.key!=null&&se.set(Pe.key,b)}let Z,fe=0;const je=R-H+1;let Rt=!1,dr=0;const Zt=new Array(je);for(b=0;b<je;b++)Zt[b]=0;for(b=L;b<=$;b++){const Pe=c[b];if(fe>=je){ze(Pe,_,T,!0);continue}let Ke;if(Pe.key!=null)Ke=se.get(Pe.key);else for(Z=H;Z<=R;Z++)if(Zt[Z-H]===0&&At(Pe,d[Z])){Ke=Z;break}Ke===void 0?ze(Pe,_,T,!0):(Zt[Ke-H]=b+1,Ke>=dr?dr=Ke:Rt=!0,D(Pe,d[Ke],g,null,_,T,E,w,C),fe++)}const hr=Rt?Vc(Zt):Ut;for(Z=hr.length-1,b=je-1;b>=0;b--){const Pe=H+b,Ke=d[Pe],fr=Pe+1<I?d[Pe+1].el:y;Zt[b]===0?D(null,Ke,g,fr,_,T,E,w,C):Rt&&(Z<0||b!==hr[Z]?Tt(Ke,g,fr,2):Z--)}}},Tt=(c,d,g,y,_=null)=>{const{el:T,type:E,transition:w,children:C,shapeFlag:b}=c;if(b&6){Tt(c.component.subTree,d,g,y);return}if(b&128){c.suspense.move(d,g,y);return}if(b&64){E.move(c,d,g,It);return}if(E===J){i(T,d,g);for(let $=0;$<C.length;$++)Tt(C[$],d,g,y);i(c.anchor,d,g);return}if(E===Bs){re(c,d,g);return}if(y!==2&&b&1&&w)if(y===0)w.beforeEnter(T),i(T,d,g),xe(()=>w.enter(T),_);else{const{leave:$,delayLeave:R,afterLeave:L}=w,H=()=>i(T,d,g),se=()=>{$(T,()=>{H(),L&&L()})};R?R(T,H,se):se()}else i(T,d,g)},ze=(c,d,g,y=!1,_=!1)=>{const{type:T,props:E,ref:w,children:C,dynamicChildren:b,shapeFlag:I,patchFlag:$,dirs:R}=c;if(w!=null&&Sn(w,null,g,c,!0),I&256){d.ctx.deactivate(c);return}const L=I&1&&R,H=!os(c);let se;if(H&&(se=E&&E.onVnodeBeforeUnmount)&&Ge(se,d,c),I&6)Za(c.component,g,y);else{if(I&128){c.suspense.unmount(g,y);return}L&&Ct(c,null,d,"beforeUnmount"),I&64?c.type.remove(c,d,g,_,It,y):b&&(T!==J||$>0&&$&64)?st(b,d,g,!1,!0):(T===J&&$&384||!_&&I&16)&&st(C,d,g),y&&cr(c)}(H&&(se=E&&E.onVnodeUnmounted)||L)&&xe(()=>{se&&Ge(se,d,c),L&&Ct(c,null,d,"unmounted")},g)},cr=c=>{const{type:d,el:g,anchor:y,transition:_}=c;if(d===J){Qa(g,y);return}if(d===Bs){B(c);return}const T=()=>{n(g),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(c.shapeFlag&1&&_&&!_.persisted){const{leave:E,delayLeave:w}=_,C=()=>E(g,T);w?w(c.el,T,C):C()}else T()},Qa=(c,d)=>{let g;for(;c!==d;)g=v(c),n(c),c=g;n(d)},Za=(c,d,g)=>{const{bum:y,scope:_,update:T,subTree:E,um:w}=c;y&&rn(y),_.stop(),T&&(T.active=!1,ze(E,c,d,g)),w&&xe(w,d),xe(()=>{c.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},st=(c,d,g,y=!1,_=!1,T=0)=>{for(let E=T;E<c.length;E++)ze(c[E],d,g,y,_)},Ss=c=>c.shapeFlag&6?Ss(c.component.subTree):c.shapeFlag&128?c.suspense.next():v(c.anchor||c.el),ur=(c,d,g)=>{c==null?d._vnode&&ze(d._vnode,null,null,!0):D(d._vnode||null,c,d,null,null,null,g),Tr(),Vo(),d._vnode=c},It={p:D,um:ze,m:Tt,r:cr,mt:ke,mc:A,pc:te,pbc:j,n:Ss,o:e};let tn,sn;return t&&([tn,sn]=t(It)),{render:ur,hydrate:tn,createApp:Rc(ur,tn)}}function St({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function da(e,t,s=!1){const i=e.children,n=t.children;if(F(i)&&F(n))for(let r=0;r<i.length;r++){const o=i[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=ft(n[r]),a.el=o.el),s||da(o,a)),a.type===di&&(a.el=o.el)}}function Vc(e){const t=e.slice(),s=[0];let i,n,r,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(n=s[s.length-1],e[n]<u){t[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,e[s[a]]<u?r=a+1:o=a;u<e[s[r]]&&(r>0&&(t[i]=s[r-1]),s[r]=i)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}const Wc=e=>e.__isTeleport,J=Symbol.for("v-fgt"),di=Symbol.for("v-txt"),Le=Symbol.for("v-cmt"),Bs=Symbol.for("v-stc"),cs=[];let We=null;function S(e=!1){cs.push(We=e?null:[])}function qc(){cs.pop(),We=cs[cs.length-1]||null}let ys=1;function Rr(e){ys+=e}function ha(e){return e.dynamicChildren=ys>0?We||Ut:null,qc(),ys>0&&We&&We.push(e),e}function k(e,t,s,i,n,r){return ha(h(e,t,s,i,n,r,!0))}function Re(e,t,s,i,n){return ha(K(e,t,s,i,n,!0))}function Js(e){return e?e.__v_isVNode===!0:!1}function At(e,t){return e.type===t.type&&e.key===t.key}const hi="__vInternal",fa=({key:e})=>e??null,Ls=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||de(e)||U(e)?{i:we,r:e,k:t,f:!!s}:e:null);function h(e,t=null,s=null,i=0,n=null,r=e===J?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fa(t),ref:t&&Ls(t),scopeId:li,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:we};return a?(Xn(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=me(s)?8:16),ys>0&&!o&&We&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&We.push(l),l}const K=zc;function zc(e,t=null,s=null,i=0,n=null,r=!1){if((!e||e===Sc)&&(e=Le),Js(e)){const a=vt(e,t,!0);return s&&Xn(a,s),ys>0&&!r&&We&&(a.shapeFlag&6?We[We.indexOf(e)]=a:We.push(a)),a.patchFlag|=-2,a}if(su(e)&&(e=e.__vccOpts),t){t=Kc(t);let{class:a,style:l}=t;a&&!me(a)&&(t.class=ee(a)),le(l)&&(Do(l)&&!F(l)&&(l=he({},l)),t.style=si(l))}const o=me(e)?1:uc(e)?128:Wc(e)?64:le(e)?4:U(e)?2:0;return h(e,t,s,i,n,o,r,!0)}function Kc(e){return e?Do(e)||hi in e?he({},e):e:null}function vt(e,t,s=!1){const{props:i,ref:n,patchFlag:r,children:o}=e,a=t?Gc(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&fa(a),ref:t&&t.ref?s&&n?F(n)?n.concat(Ls(t)):[n,Ls(t)]:Ls(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==J?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vt(e.ssContent),ssFallback:e.ssFallback&&vt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function pt(e=" ",t=0){return K(di,null,e,t)}function pa(e,t){const s=K(Bs,null,e);return s.staticCount=t,s}function Ue(e="",t=!1){return t?(S(),Re(Le,null,e)):K(Le,null,e)}function Je(e){return e==null||typeof e=="boolean"?K(Le):F(e)?K(J,null,e.slice()):typeof e=="object"?ft(e):K(di,null,String(e))}function ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vt(e)}function Xn(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(F(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Xn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!(hi in t)?t._ctx=we:n===3&&we&&(we.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else U(t)?(t={default:t,_ctx:we},s=32):(t=String(t),i&64?(s=16,t=[pt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Gc(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=ee([t.class,i.class]));else if(n==="style")t.style=si([t.style,i.style]);else if(Zs(n)){const r=t[n],o=i[n];o&&r!==o&&!(F(r)&&r.includes(o))&&(t[n]=r?[].concat(r,o):o)}else n!==""&&(t[n]=i[n])}return t}function Ge(e,t,s,i=null){Be(e,t,7,[s,i])}const Yc=ra();let Jc=0;function Xc(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Yc,r={uid:Jc++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new bo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aa(i,n),emitsOptions:qo(i,n),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:i.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=rc.bind(null,r),e.ce&&e.ce(r),r}let ve=null;const ga=()=>ve||we;let Qn,Dt,Dr="__VUE_INSTANCE_SETTERS__";(Dt=gn()[Dr])||(Dt=gn()[Dr]=[]),Dt.push(e=>ve=e),Qn=e=>{Dt.length>1?Dt.forEach(t=>t(e)):Dt[0](e)};const Kt=e=>{Qn(e),e.scope.on()},Pt=()=>{ve&&ve.scope.off(),Qn(null)};function ma(e){return e.vnode.shapeFlag&4}let vs=!1;function Qc(e,t=!1){vs=t;const{props:s,children:i}=e.vnode,n=ma(e);Fc(e,s,n,t),Uc(e,i);const r=n?Zc(e,t):void 0;return vs=!1,r}function Zc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=ri(new Proxy(e.ctx,kc));const{setup:i}=s;if(i){const n=e.setupContext=i.length>1?tu(e):null;Kt(e),Yt();const r=_t(i,e,0,[e.props,n]);if(Jt(),Pt(),po(r)){if(r.then(Pt,Pt),t)return r.then(o=>{Mr(e,o,t)}).catch(o=>{oi(o,e,0)});e.asyncDep=r}else Mr(e,r,t)}else _a(e,t)}function Mr(e,t,s){U(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=Uo(t)),_a(e,s)}let Fr;function _a(e,t,s){const i=e.type;if(!e.render){if(!t&&Fr&&!i.render){const n=i.template||Yn(e).template;if(n){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=he(he({isCustomElement:r,delimiters:a},o),l);i.render=Fr(n,u)}}e.render=i.render||qe}Kt(e),Yt(),Ac(e),Jt(),Pt()}function eu(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Oe(e,"get","$attrs"),t[s]}}))}function tu(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return eu(e)},slots:e.slots,emit:e.emit,expose:t}}function fi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Uo(ri(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in as)return as[s](e)},has(t,s){return s in t||s in as}}))}function su(e){return U(e)&&"__vccOpts"in e}const ya=(e,t)=>Zl(e,t,vs);function iu(e,t,s){const i=arguments.length;return i===2?le(t)&&!F(t)?Js(t)?K(e,null,[t]):K(e,t):K(e,null,t):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Js(s)&&(s=[s]),K(e,t,s))}const nu=Symbol.for("v-scx"),ru=()=>ls(nu),ou="3.3.4",au="http://www.w3.org/2000/svg",xt=typeof document<"u"?document:null,Br=xt&&xt.createElement("template"),lu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t?xt.createElementNS(au,e):xt.createElement(e,s?{is:s}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,r){const o=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Br.innerHTML=i?`<svg>${e}</svg>`:e;const a=Br.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}};function cu(e,t,s){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}function uu(e,t,s){const i=e.style,n=me(s);if(s&&!n){if(t&&!me(t))for(const r in t)s[r]==null&&En(i,r,"");for(const r in s)En(i,r,s[r])}else{const r=i.display;n?t!==s&&(i.cssText=s):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const Lr=/\s*!important$/;function En(e,t,s){if(F(s))s.forEach(i=>En(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=du(e,t);Lr.test(s)?e.setProperty(Gt(i),s.replace(Lr,""),"important"):e[i]=s}}const Ur=["Webkit","Moz","ms"],cn={};function du(e,t){const s=cn[t];if(s)return s;let i=qt(t);if(i!=="filter"&&i in e)return cn[t]=i;i=_o(i);for(let n=0;n<Ur.length;n++){const r=Ur[n]+i;if(r in e)return cn[t]=r}return t}const Nr="http://www.w3.org/1999/xlink";function hu(e,t,s,i,n){if(i&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(Nr,t.slice(6,t.length)):e.setAttributeNS(Nr,t,s);else{const r=gl(t);s==null||r&&!yo(s)?e.removeAttribute(t):e.setAttribute(t,r?"":s)}}function fu(e,t,s,i,n,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,n,r),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=s;const u=a==="OPTION"?e.getAttribute("value"):e.value,f=s??"";u!==f&&(e.value=f),s==null&&e.removeAttribute(t);return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=yo(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function pu(e,t,s,i){e.addEventListener(t,s,i)}function gu(e,t,s,i){e.removeEventListener(t,s,i)}function mu(e,t,s,i,n=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=_u(t);if(i){const u=r[t]=bu(i,n);pu(e,a,u,l)}else o&&(gu(e,a,o,l),r[t]=void 0)}}const jr=/(?:Once|Passive|Capture)$/;function _u(e){let t;if(jr.test(e)){t={};let i;for(;i=e.match(jr);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gt(e.slice(2)),t]}let un=0;const yu=Promise.resolve(),vu=()=>un||(yu.then(()=>un=0),un=Date.now());function bu(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Be(wu(i,s.value),t,5,[i])};return s.value=e,s.attached=vu(),s}function wu(e,t){if(F(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Hr=/^on[a-z]/,Tu=(e,t,s,i,n=!1,r,o,a,l)=>{t==="class"?cu(e,i,n):t==="style"?uu(e,s,i):Zs(t)?Mn(t)||mu(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Cu(e,t,i,n))?fu(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),hu(e,t,i,n))};function Cu(e,t,s,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Hr.test(t)&&U(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Hr.test(t)&&me(s)?!1:t in e}const ut="transition",es="animation",Zn=(e,{slots:t})=>iu(pc,ba(e),t);Zn.displayName="Transition";const va={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Su=Zn.props=he({},Jo,va),Et=(e,t=[])=>{F(e)?e.forEach(s=>s(...t)):e&&e(...t)},Vr=e=>e?F(e)?e.some(t=>t.length>1):e.length>1:!1;function ba(e){const t={};for(const x in e)x in va||(t[x]=e[x]);if(e.css===!1)return t;const{name:s="v",type:i,duration:n,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:u=o,appearToClass:f=a,leaveFromClass:m=`${s}-leave-from`,leaveActiveClass:v=`${s}-leave-active`,leaveToClass:P=`${s}-leave-to`}=e,N=Eu(n),D=N&&N[0],Q=N&&N[1],{onBeforeEnter:ie,onEnter:ne,onEnterCancelled:re,onLeave:B,onLeaveCancelled:X,onBeforeAppear:De=ie,onAppear:Ce=ne,onAppearCancelled:A=re}=t,M=(x,oe,ke)=>{dt(x,oe?f:a),dt(x,oe?u:o),ke&&ke()},j=(x,oe)=>{x._isLeaving=!1,dt(x,m),dt(x,P),dt(x,v),oe&&oe()},ce=x=>(oe,ke)=>{const Ne=x?Ce:ne,Y=()=>M(oe,x,ke);Et(Ne,[oe,Y]),Wr(()=>{dt(oe,x?l:r),it(oe,x?f:a),Vr(Ne)||qr(oe,i,D,Y)})};return he(t,{onBeforeEnter(x){Et(ie,[x]),it(x,r),it(x,o)},onBeforeAppear(x){Et(De,[x]),it(x,l),it(x,u)},onEnter:ce(!1),onAppear:ce(!0),onLeave(x,oe){x._isLeaving=!0;const ke=()=>j(x,oe);it(x,m),Ta(),it(x,v),Wr(()=>{x._isLeaving&&(dt(x,m),it(x,P),Vr(B)||qr(x,i,Q,ke))}),Et(B,[x,ke])},onEnterCancelled(x){M(x,!1),Et(re,[x])},onAppearCancelled(x){M(x,!0),Et(A,[x])},onLeaveCancelled(x){j(x),Et(X,[x])}})}function Eu(e){if(e==null)return null;if(le(e))return[dn(e.enter),dn(e.leave)];{const t=dn(e);return[t,t]}}function dn(e){return cl(e)}function it(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(t)}function dt(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:s}=e;s&&(s.delete(t),s.size||(e._vtc=void 0))}function Wr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ku=0;function qr(e,t,s,i){const n=e._endId=++ku,r=()=>{n===e._endId&&i()};if(s)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=wa(e,t);if(!o)return i();const u=o+"end";let f=0;const m=()=>{e.removeEventListener(u,v),r()},v=P=>{P.target===e&&++f>=l&&m()};setTimeout(()=>{f<l&&m()},a+1),e.addEventListener(u,v)}function wa(e,t){const s=window.getComputedStyle(e),i=N=>(s[N]||"").split(", "),n=i(`${ut}Delay`),r=i(`${ut}Duration`),o=zr(n,r),a=i(`${es}Delay`),l=i(`${es}Duration`),u=zr(a,l);let f=null,m=0,v=0;t===ut?o>0&&(f=ut,m=o,v=r.length):t===es?u>0&&(f=es,m=u,v=l.length):(m=Math.max(o,u),f=m>0?o>u?ut:es:null,v=f?f===ut?r.length:l.length:0);const P=f===ut&&/\b(transform|all)(,|$)/.test(i(`${ut}Property`).toString());return{type:f,timeout:m,propCount:v,hasTransform:P}}function zr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,i)=>Kr(s)+Kr(e[i])))}function Kr(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Ta(){return document.body.offsetHeight}const Ca=new WeakMap,Sa=new WeakMap,Ea={name:"TransitionGroup",props:he({},Su,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=ga(),i=Yo();let n,r;return ea(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Iu(n[0].el,s.vnode.el,o))return;n.forEach($u),n.forEach(Ou);const a=n.filter(Pu);Ta(),a.forEach(l=>{const u=l.el,f=u.style;it(u,o),f.transform=f.webkitTransform=f.transitionDuration="";const m=u._moveCb=v=>{v&&v.target!==u||(!v||/transform$/.test(v.propertyName))&&(u.removeEventListener("transitionend",m),u._moveCb=null,dt(u,o))};u.addEventListener("transitionend",m)})}),()=>{const o=z(e),a=ba(o);let l=o.tag||J;n=r,r=t.default?Gn(t.default()):[];for(let u=0;u<r.length;u++){const f=r[u];f.key!=null&&ms(f,gs(f,a,i,s))}if(n)for(let u=0;u<n.length;u++){const f=n[u];ms(f,gs(f,a,i,s)),Ca.set(f,f.el.getBoundingClientRect())}return K(l,null,r)}}},Au=e=>delete e.mode;Ea.props;const xu=Ea;function $u(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Ou(e){Sa.set(e,e.el.getBoundingClientRect())}function Pu(e){const t=Ca.get(e),s=Sa.get(e),i=t.left-s.left,n=t.top-s.top;if(i||n){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${n}px)`,r.transitionDuration="0s",e}}function Iu(e,t,s){const i=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),s.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:r}=wa(i);return n.removeChild(i),r}const ka={beforeMount(e,{value:t},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ts(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),ts(e,!0),i.enter(e)):i.leave(e,()=>{ts(e,!1)}):ts(e,t))},beforeUnmount(e,{value:t}){ts(e,t)}};function ts(e,t){e.style.display=t?e._vod:"none"}const Ru=he({patchProp:Tu},lu);let Gr;function Du(){return Gr||(Gr=jc(Ru))}const Mu=(...e)=>{const t=Du().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Fu(i);if(!n)return;const r=t._component;!U(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const o=s(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Fu(e){return me(e)?document.querySelector(e):e}var Bu=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Aa;const pi=e=>Aa=e,xa=Symbol();function kn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var us;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(us||(us={}));function Lu(){const e=wo(!0),t=e.run(()=>Bo({}));let s=[],i=[];const n=ri({install(r){pi(n),n._a=r,r.provide(xa,n),r.config.globalProperties.$pinia=n,i.forEach(o=>s.push(o)),i=[]},use(r){return!this._a&&!Bu?i.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const $a=()=>{};function Yr(e,t,s,i=$a){e.push(t);const n=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!s&&To()&&_l(n),n}function Mt(e,...t){e.slice().forEach(s=>{s(...t)})}const Uu=e=>e();function An(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,i)=>e.set(i,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const i=t[s],n=e[s];kn(n)&&kn(i)&&e.hasOwnProperty(s)&&!de(i)&&!mt(i)?e[s]=An(n,i):e[s]=i}return e}const Nu=Symbol();function ju(e){return!kn(e)||!e.hasOwnProperty(Nu)}const{assign:ht}=Object;function Hu(e){return!!(de(e)&&e.effect)}function Vu(e,t,s,i){const{state:n,actions:r,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const f=Yl(s.state.value[e]);return ht(f,r,Object.keys(o||{}).reduce((m,v)=>(m[v]=ri(ya(()=>{pi(s);const P=s._s.get(e);return o[v].call(P,P)})),m),{}))}return l=Oa(e,u,t,s,i,!0),l}function Oa(e,t,s={},i,n,r){let o;const a=ht({actions:{}},s),l={deep:!0};let u,f,m=[],v=[],P;const N=i.state.value[e];!r&&!N&&(i.state.value[e]={}),Bo({});let D;function Q(A){let M;u=f=!1,typeof A=="function"?(A(i.state.value[e]),M={type:us.patchFunction,storeId:e,events:P}):(An(i.state.value[e],A),M={type:us.patchObject,payload:A,storeId:e,events:P});const j=D=Symbol();jo().then(()=>{D===j&&(u=!0)}),f=!0,Mt(m,M,i.state.value[e])}const ie=r?function(){const{state:M}=s,j=M?M():{};this.$patch(ce=>{ht(ce,j)})}:$a;function ne(){o.stop(),m=[],v=[],i._s.delete(e)}function re(A,M){return function(){pi(i);const j=Array.from(arguments),ce=[],x=[];function oe(Y){ce.push(Y)}function ke(Y){x.push(Y)}Mt(v,{args:j,name:A,store:X,after:oe,onError:ke});let Ne;try{Ne=M.apply(this&&this.$id===e?this:X,j)}catch(Y){throw Mt(x,Y),Y}return Ne instanceof Promise?Ne.then(Y=>(Mt(ce,Y),Y)).catch(Y=>(Mt(x,Y),Promise.reject(Y))):(Mt(ce,Ne),Ne)}}const B={_p:i,$id:e,$onAction:Yr.bind(null,v),$patch:Q,$reset:ie,$subscribe(A,M={}){const j=Yr(m,A,M.detached,()=>ce()),ce=o.run(()=>Fs(()=>i.state.value[e],x=>{(M.flush==="sync"?f:u)&&A({storeId:e,type:us.direct,events:P},x)},ht({},l,M)));return j},$dispose:ne},X=ni(B);i._s.set(e,X);const De=i._a&&i._a.runWithContext||Uu,Ce=i._e.run(()=>(o=wo(),De(()=>o.run(t))));for(const A in Ce){const M=Ce[A];if(de(M)&&!Hu(M)||mt(M))r||(N&&ju(M)&&(de(M)?M.value=N[A]:An(M,N[A])),i.state.value[e][A]=M);else if(typeof M=="function"){const j=re(A,M);Ce[A]=j,a.actions[A]=M}}return ht(X,Ce),ht(z(X),Ce),Object.defineProperty(X,"$state",{get:()=>i.state.value[e],set:A=>{Q(M=>{ht(M,A)})}}),i._p.forEach(A=>{ht(X,o.run(()=>A({store:X,app:i._a,pinia:i,options:a})))}),N&&r&&s.hydrate&&s.hydrate(X.$state,N),u=!0,f=!0,X}function Wu(e,t,s){let i,n;const r=typeof t=="function";typeof e=="string"?(i=e,n=r?s:t):(n=e,i=e.id);function o(a,l){const u=Mc();return a=a||(u?ls(xa,null):null),a&&pi(a),a=Aa,a._s.has(i)||(r?Oa(i,t,n,a):Vu(i,n,a)),a._s.get(i)}return o.$id=i,o}function ye(e,t){return Array.isArray(t)?t.reduce((s,i)=>(s[i]=function(){return e(this.$pinia)[i]},s),{}):Object.keys(t).reduce((s,i)=>(s[i]=function(){const n=e(this.$pinia),r=t[i];return typeof r=="function"?r.call(this,n):n[r]},s),{})}function Ee(e,t){return Array.isArray(t)?t.reduce((s,i)=>(s[i]=function(...n){return e(this.$pinia)[i](...n)},s),{}):Object.keys(t).reduce((s,i)=>(s[i]=function(...n){return e(this.$pinia)[t[i]](...n)},s),{})}const gi="/assets/castle-27a3d291.svg",mi="/assets/close-f5d846ec.svg",_i="/assets/defense-bd9c3f5b.svg",yi="/assets/flag-54741b89.svg",vi="/assets/give-d1ccf0c7.svg",bi="/assets/help-518d5cb1.svg",wi="/assets/load-9b6a67c5.svg",Ti="/assets/archer-06aeaf2c.svg",Ci="/assets/footman-f32b5165.svg",Si="/assets/horse-dac998a4.svg",Ei="/assets/knight-4b6e0df3.svg",ki="/assets/ore-bcbc3549.svg",Ai="/assets/peasant-11e0c611.svg",xi="/assets/rice-8aa3a52c.svg",$i="/assets/serf-251385a3.svg",Oi="/assets/tree-f893f7da.svg",Pi="/assets/wand-c232b03a.svg",Ii="/assets/wizard-e457c3e5.svg",Ri="/assets/menu-05ddd784.svg",Di="/assets/move-75d7174f.svg",Mi="/assets/next-393dbd13.svg",Fi="/assets/offense-bbc31d54.svg",Bi="/assets/ranged-c9fa731e.svg",Li="/assets/reset-57391f15.svg",Ui="/assets/save-b0d06498.svg",Ni="/assets/settings-620ec5c9.svg",ji="/assets/take-82478436.svg",Hi="/assets/coffin-1f64f4eb.svg",Vi="/assets/flesh-f41315ff.svg",Wi="/assets/ghost-61325e9a.svg",qi="/assets/moonshine-c9dc1f10.svg",zi="/assets/remains-f1908e87.svg",Ki="/assets/scroll-b658ab93.svg",Gi="/assets/skeleton-81760aa6.svg",Yi="/assets/soul-6693ca8c.svg",Ji="/assets/vampire-a7eeb5df.svg",Xi="/assets/werewolf-bc9ac783.svg",Qi="/assets/zombie-36ad5e99.svg",qu="/assets/arrow-6a3f0288.mp3",zu="/assets/caching-e90fdd11.mp3",Ku="/assets/death-03083ae2.mp3",Gu="/assets/dice-a1881af1.mp3",Yu="/assets/fanfare-a0410765.mp3",Ju="/assets/horse-ca99b5f3.mp3",Xu="/assets/magic-8e64b0c2.mp3",Qu="/assets/march-c5cf354f.mp3",Zu="/assets/monster-600e610e.mp3",ed="/assets/pitchfork-fec95f6f.mp3",td="/assets/sword-36ee8c5f.mp3",sd="/assets/bones-4021280c.mp3",id="/assets/boo-5aef38fd.mp3",nd="/assets/caching-af777d2f.mp3",rd="/assets/death-31e8be97.mp3",od="/assets/dice-a1881af1.mp3",ad="/assets/fanfare-06a95c51.mp3",ld="/assets/howl-03eeec67.mp3",cd="/assets/march-57b19690.mp3",ud="/assets/monster-c9f19d27.mp3",dd="/assets/suck-773fc40c.mp3",hd="/assets/zombie-5e039676.mp3",fd={resourceTypes:[{id:1,type:"village",resource:"Loyal Serf",icon:"serf",color:"teal",value:1},{id:2,type:"farm",resource:"Tasty Ration",icon:"rice",color:"lightgreen",value:1},{id:3,type:"mine",resource:"Iron Chunk",icon:"ore",color:"gray",value:2},{id:4,type:"forest",resource:"Dead Tree",icon:"tree",color:"darkgreen",value:2},{id:5,type:"tower",resource:"Magic Wand",icon:"wand",color:"purple",value:3},{id:6,type:"stables",resource:"Noble Steed",icon:"horse",color:"orange",value:3},{id:7,type:"desert",resource:"",icon:"",color:"white",value:0}],separateResourceTypes:["tower","stables","desert"],unitTypes:[{id:1,type:"peasant",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"pitchfork"},value:1},{id:2,type:"footman",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:20,ranged:!1,sound:"sword"},value:2},{id:3,type:"archer",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:15,defense:10,ranged:!0,sound:"arrow"},value:2},{id:4,type:"knight",move:2,cost:[[1,1],[2,1],[3,1],[6,1]],battle:{offense:20,defense:30,ranged:!1,sound:"horse"},value:3},{id:5,type:"wizard",move:5,cost:[[1,1],[2,1],[4,1],[5,1]],battle:{offense:30,defense:5,ranged:!0,sound:"magic"},value:3}],startingUnits:["peasant","peasant","peasant","peasant","footman","archer","footman"],monsterName:"dragon"},pd={resourceTypes:[{id:1,type:"battlefield",resource:"Human Remains",icon:"remains",color:"#339966",value:1},{id:2,type:"library",resource:"Reanimate Scroll",icon:"scroll",color:"#FFCC99",value:1},{id:3,type:"dungeon",resource:"Spare Flesh",icon:"flesh",color:"#990000",value:2},{id:4,type:"cemetary",resource:"Lost Soul",icon:"soul",color:"gray",value:2},{id:5,type:"distillery",resource:"Moon Shine",icon:"moonshine",color:"purple",value:3},{id:6,type:"shop",resource:"Used Coffin",icon:"coffin",color:"#663300",value:3},{id:7,type:"church",resource:"",icon:"",color:"white",value:0}],separateResourceTypes:["distillery","shop","church"],unitTypes:[{id:1,type:"skeleton",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"bones"},value:1},{id:2,type:"zombie",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:20,ranged:!1,sound:"zombie"},value:2},{id:3,type:"ghost",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:15,defense:10,ranged:!0,sound:"boo"},value:2},{id:4,type:"werewolf",move:2,cost:[[1,1],[2,1],[3,1],[5,1]],battle:{offense:20,defense:30,ranged:!1,sound:"howl"},value:3},{id:5,type:"vampire",move:5,cost:[[1,1],[2,1],[4,1],[6,1]],battle:{offense:30,defense:5,ranged:!0,sound:"suck"},value:3}],startingUnits:["skeleton","skeleton","skeleton","skeleton","zombie","ghost","zombie"],monsterName:"angel"};var Us=(e=>(e[e.start=0]="start",e[e.roll=1]="roll",e[e.march=2]="march",e))(Us||{}),Ye=(e=>(e[e.none=0]="none",e[e.points=1]="points",e[e.siege=2]="siege",e[e.concede=3]="concede",e))(Ye||{});const V={turnPhases:[{phase:0,description:"Select a starting location!"},{phase:1,description:"Roll the dice to collect resources!"},{phase:2,description:"Train units, reposition troops, or march to war!"}],maxPlayers:2,gridSize:[4,5,6,5,4],gridMakeup:{1:5,2:5,3:4,4:4,5:2,6:2,7:2},rolls:[2,3,4,4,5,5,5,5,6,6,6,8,8,8,9,9,9,9,10,10,11,12],monsterRoll:7,monsterMove:"The monster is on the move!",tradeSurcharge:2,baseGeneration:3,maxMoveDistance:10,tileUnitMax:8,startingLife:100,controlPoints:5,winningPoints:100,settingsBaseSound:100,settingsBaseSpeed:2,statStrings:{pointsMax:"Highest Victory Points",tilesMax:"Highest Controlled Tiles",resourcesGathered:"Resources Gathered",resourcesSpent:"Resources Spent",resourcesTraded:"Resources Traded",unitsTrained:"Units Trained",unitsLost:"Units Lost",unitsKilled:"Units Killed",unitsMoved:"Units Moved",unitsMax:"Highest Unit Count",damageTotal:"Total Damage"},themeData:{medieval:fd,undead:pd}};function gd(e,t,s){const i=new Date;i.setTime(i.getTime()+s*24*60*60*1e3);const n="expires="+i.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}function md(e){const t=e+"=",i=decodeURIComponent(document.cookie).split(";");for(let n=0;n<i.length;n++){let r=i[n];for(;r.charAt(0)==" ";)r=r.substring(1);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return""}var $e=(e=>(e[e.PvC=0]="PvC",e[e.PvPLocal=1]="PvPLocal",e[e.PvPOnline=2]="PvPOnline",e[e.CvC=3]="CvC",e[e.None=4]="None",e))($e||{});class Jr{constructor(){p(this,"users");p(this,"playerLocal");p(this,"playerOne");p(this,"playerTwo");p(this,"setup");this.users=0,this.playerLocal=0,this.playerOne=0,this.playerTwo=0,this.setup=!1}isPlayerOne(){return this.playerLocal>0&&this.playerLocal===this.playerOne}isPlayerTwo(){return this.playerLocal>0&&this.playerLocal===this.playerTwo}}class Xr{constructor(){p(this,"turnsCount");p(this,"rollSpread");p(this,"unitSpread");p(this,"resourceSpread");p(this,"battlesCount");p(this,"monsterKills");this.turnsCount=1,this.rollSpread=[];for(let t=0;t<new Set(V.rolls).size+1;t++)this.rollSpread.push(0);this.unitSpread=[],this.resourceSpread=[],this.battlesCount=0,this.monsterKills=0}init(t,s){for(let i=0;i<t;i++)this.unitSpread.push(0);for(let i=0;i<s-1;i++)this.resourceSpread.push(0)}}var Ht;let Ns=(Ht=class{constructor(t){p(this,"id");p(this,"base");p(this,"life");p(this,"resources");p(this,"points");p(this,"winner");p(this,"computer");p(this,"remote");p(this,"stats");this.id=t,this.base=null,this.life=V.startingLife,this.resources=[],this.points=0,this.winner=!1,this.computer=!1,this.remote=!1,this.stats=new Xs}name(){return this.computer?"Computer":`Player ${this.id}`}startingLife(){return V.startingLife}winTotal(){return V.winningPoints}resourceCount(t){return this.resources[t]}resourceScore(){let t=0;return this.resources.forEach(s=>t+=s),t}updateResource(t,s){let i=this.resources[t];i=i+s,this.resources[t]=i}save(){var t;return new _d({i:this.id,b:(t=this.base)==null?void 0:t.id,l:this.life,r:this.resources,p:this.points,c:this.computer?1:0,o:this.remote?1:0,s:this.stats.save()})}static load(t){const s=new Ht(t.i);return s.life=t.l,s.resources=t.r,s.points=t.p,s.computer=t.c>0,s.remote=t.o>0,s.stats=Xs.load(t.s),s}},p(Ht,"playerID",1),Ht);class _d{constructor(t){p(this,"i");p(this,"b");p(this,"l");p(this,"r");p(this,"p");p(this,"c");p(this,"o");p(this,"s");this.i=t.i,this.b=t.b,this.l=t.l,this.r=t.r,this.p=t.p,this.c=t.c,this.o=t.o,this.s=t.s}}class Xs{constructor(){p(this,"pointsMax");p(this,"tilesMax");p(this,"resourcesGathered");p(this,"resourcesSpent");p(this,"resourcesTraded");p(this,"unitsTrained");p(this,"unitsLost");p(this,"unitsKilled");p(this,"unitsMoved");p(this,"unitsMax");p(this,"damageTotal");this.pointsMax=0,this.tilesMax=0,this.resourcesGathered=0,this.resourcesSpent=0,this.resourcesTraded=0,this.unitsTrained=0,this.unitsLost=0,this.unitsKilled=0,this.unitsMoved=0,this.unitsMax=0,this.damageTotal=0}save(){return new yd({p:this.pointsMax,t:this.tilesMax,rg:this.resourcesGathered,rs:this.resourcesSpent,rt:this.resourcesTraded,ut:this.unitsTrained,ul:this.unitsLost,uk:this.unitsKilled,um:this.unitsMoved,u:this.unitsMax,d:this.damageTotal})}static load(t){const s=new Xs;return s.pointsMax=t.p,s.tilesMax=t.t,s.resourcesGathered=t.rg,s.resourcesSpent=t.rs,s.resourcesTraded=t.rt,s.unitsTrained=t.ut,s.unitsLost=t.ul,s.unitsKilled=t.uk,s.unitsMoved=t.um,s.unitsMax=t.u,s.damageTotal=t.d,s}}class yd{constructor(t){p(this,"p");p(this,"t");p(this,"rg");p(this,"rs");p(this,"rt");p(this,"ut");p(this,"ul");p(this,"uk");p(this,"um");p(this,"u");p(this,"d");this.p=t.p,this.t=t.t,this.rg=t.rg,this.rs=t.rs,this.rt=t.rt,this.ut=t.ut,this.ul=t.ul,this.uk=t.uk,this.um=t.um,this.u=t.u,this.d=t.d}}var Vt;let js=(Vt=class{constructor(t){p(this,"id");p(this,"roll");p(this,"type");p(this,"units");p(this,"adjacent");p(this,"base");this.id=t,this.roll=0,this.type=null,this.units=[],this.adjacent=[],this.base=null}playerController(){return this.base?this.base:this.units.length&&this.units[0].player||null}unitsSelected(){return this.units.filter(t=>t.selected)||[]}score(){var s;let t=((s=this.type)==null?void 0:s.value)||0;return this.roll&&(t+=6-Math.abs(7-this.roll)),t}startScore(){var s;if((s=this.base)!=null&&s.id)return 0;let t=this.score();return t?(this.adjacent.forEach(i=>t+=i.score()),this.adjacent.forEach(i=>{var n;t=(n=i.base)!=null&&n.id?0:t,i.adjacent.forEach(r=>{var o;return t=(o=r.base)!=null&&o.id?0:t})}),t):0}unitScore(){let t=0;return this.units.forEach(s=>t+=s.type.value),t}dangerScore(t){let s=0;return this.adjacent.forEach(i=>{i.units.length&&i.units[0].player!==t&&i.units.forEach(n=>s+=n.type.value)}),s}save(){var t,s;return new vd({i:this.id,r:this.roll,t:(t=this.type)==null?void 0:t.id,b:(s=this.base)==null?void 0:s.id})}static load(t){const s=new Vt(t.i);return s.roll=t.r,s}},p(Vt,"tileID",1),Vt);class vd{constructor(t){p(this,"i");p(this,"r");p(this,"t");p(this,"b");this.i=t.i,this.r=t.r,this.t=t.t,this.b=t.b}}class nt{constructor(t){p(this,"id");p(this,"player");p(this,"tile");p(this,"type");p(this,"sent");p(this,"hide");p(this,"spend");p(this,"delay");this.id=t,this.player=null,this.tile=null,this.type=null,this.sent=!1,this.hide=!1,this.spend=!1,this.delay=0}}p(nt,"resourceID",1);class bs{constructor(t){p(this,"id");p(this,"type");p(this,"resource");p(this,"icon");p(this,"color");p(this,"value");this.id=t.id,this.type=t.type,this.resource=t.resource,this.icon=t.icon,this.color=t.color,this.value=t.value}static resourceTypes(t){return V.themeData[t].resourceTypes.map(s=>new bs(s))}static resourceTypesValid(t){return bs.resourceTypes(t).filter(s=>s.resource)}}class Qr{constructor(){p(this,"give");p(this,"take");p(this,"cost");p(this,"valid");this.give=0,this.take=0,this.cost=0,this.valid=!1}}var Wt;let Ft=(Wt=class{constructor(t,s){p(this,"id");p(this,"tile");p(this,"player");p(this,"selected");p(this,"moved");p(this,"staying");p(this,"stranded");p(this,"type");p(this,"damage");this.id=t,this.tile=null,this.player=null,this.selected=!1,this.moved=!1,this.staying=!1,this.stranded=!1,this.type=s,this.damage=0}static unitTypes(t){return V.themeData[t].unitTypes.map(s=>new Pa(s))}resetMove(){this.selected=!1,this.moved=!1,this.staying=!1}save(){var t,s,i;return new bd({i:this.id,m:this.moved?1:0,t:(t=this.tile)==null?void 0:t.id,y:(s=this.type)==null?void 0:s.id,p:(i=this.player)==null?void 0:i.id})}static load(t,s){const i=new Wt(t.i,s);return i.moved=t.m>0,i}},p(Wt,"unitID",1),Wt);class bd{constructor(t){p(this,"i");p(this,"m");p(this,"t");p(this,"y");p(this,"p");this.i=t.i,this.m=t.m,this.t=t.t,this.y=t.y,this.p=t.p}}class Pa{constructor(t){p(this,"id");p(this,"type");p(this,"move");p(this,"cost");p(this,"battle");p(this,"value");this.id=t.id,this.type=t.type,this.move=t.move,this.cost=t.cost,this.battle=new wd(t.battle),this.value=t.value}}class wd{constructor(t){p(this,"offense");p(this,"defense");p(this,"ranged");p(this,"sound");this.offense=t.offense,this.defense=t.defense,this.ranged=t.ranged,this.sound=t.sound}}class Ia{constructor(t,s){p(this,"index");p(this,"value");this.index=t,this.value=s}}let Zr=class{constructor(){p(this,"location");p(this,"moving");p(this,"hungry");this.location=0,this.moving=!1,this.hungry=!1}};class Lt{constructor(){p(this,"player");p(this,"phase");p(this,"roll");this.player=0,this.phase=0,this.roll=new Qs}static load(t){const s=new Lt;return s.player=t.player,s.phase=t.phase,s.roll=Qs.load(t.roll),s}}class Qs{constructor(){p(this,"dieOne");p(this,"dieTwo");p(this,"total");p(this,"rolled");this.dieOne=3,this.dieTwo=4,this.total=7,this.rolled=!1}roll(){this.dieOne=Math.floor(Math.random()*6+1),this.dieTwo=Math.floor(Math.random()*6+1),this.total=this.dieOne+this.dieTwo,this.rolled=!0}setRoll(t,s){this.dieOne=t,this.dieTwo=s,this.total=this.dieOne+this.dieTwo,this.rolled=!0}static load(t){const s=new Qs;return s.dieOne=t.dieOne,s.dieTwo=t.dieTwo,s.total=t.total,s.rolled=t.rolled,s}}class eo{constructor(t,s){p(this,"x");p(this,"y");this.x=t,this.y=s}}let hn=class Ra{constructor(){p(this,"open");p(this,"sound");p(this,"speed");p(this,"theme");this.open=!1,this.sound=null,this.speed=null,this.theme="medieval"}static load(t){const s=new Ra;return s.open=!1,s.sound=(t==null?void 0:t.sound)||V.settingsBaseSound,s.speed=(t==null?void 0:t.speed)||V.settingsBaseSpeed,s.theme=(t==null?void 0:t.theme)||"medieval",s}};class Td{constructor(){p(this,"p");p(this,"g");p(this,"u");p(this,"t");p(this,"d");p(this,"s");p(this,"x");p(this,"i");this.p="",this.g="",this.u="",this.t="",this.d="",this.s="",this.x="",this.i=0}}const Ze=Object.create(null);Ze.open="0";Ze.close="1";Ze.ping="2";Ze.pong="3";Ze.message="4";Ze.upgrade="5";Ze.noop="6";const Hs=Object.create(null);Object.keys(Ze).forEach(e=>{Hs[Ze[e]]=e});const xn={type:"error",data:"parser error"},Da=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ma=typeof ArrayBuffer=="function",Fa=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,er=({type:e,data:t},s,i)=>Da&&t instanceof Blob?s?i(t):to(t,i):Ma&&(t instanceof ArrayBuffer||Fa(t))?s?i(t):to(new Blob([t]),i):i(Ze[e]+(t||"")),to=(e,t)=>{const s=new FileReader;return s.onload=function(){const i=s.result.split(",")[1];t("b"+(i||""))},s.readAsDataURL(e)};function so(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let fn;function Cd(e,t){if(Da&&e.data instanceof Blob)return e.data.arrayBuffer().then(so).then(t);if(Ma&&(e.data instanceof ArrayBuffer||Fa(e.data)))return t(so(e.data));er(e,!1,s=>{fn||(fn=new TextEncoder),t(fn.encode(s))})}const io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<io.length;e++)rs[io.charCodeAt(e)]=e;const Sd=e=>{let t=e.length*.75,s=e.length,i,n=0,r,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(i=0;i<s;i+=4)r=rs[e.charCodeAt(i)],o=rs[e.charCodeAt(i+1)],a=rs[e.charCodeAt(i+2)],l=rs[e.charCodeAt(i+3)],f[n++]=r<<2|o>>4,f[n++]=(o&15)<<4|a>>2,f[n++]=(a&3)<<6|l&63;return u},Ed=typeof ArrayBuffer=="function",tr=(e,t)=>{if(typeof e!="string")return{type:"message",data:Ba(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:kd(e.substring(1),t)}:Hs[s]?e.length>1?{type:Hs[s],data:e.substring(1)}:{type:Hs[s]}:xn},kd=(e,t)=>{if(Ed){const s=Sd(e);return Ba(s,t)}else return{base64:!0,data:e}},Ba=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},La=String.fromCharCode(30),Ad=(e,t)=>{const s=e.length,i=new Array(s);let n=0;e.forEach((r,o)=>{er(r,!1,a=>{i[o]=a,++n===s&&t(i.join(La))})})},xd=(e,t)=>{const s=e.split(La),i=[];for(let n=0;n<s.length;n++){const r=tr(s[n],t);if(i.push(r),r.type==="error")break}return i};function $d(){return new TransformStream({transform(e,t){Cd(e,s=>{const i=s.length;let n;if(i<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,i);else if(i<65536){n=new Uint8Array(3);const r=new DataView(n.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{n=new Uint8Array(9);const r=new DataView(n.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(n[0]|=128),t.enqueue(n),t.enqueue(s)})}})}let pn;function Ps(e){return e.reduce((t,s)=>t+s.length,0)}function Is(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let i=0;for(let n=0;n<t;n++)s[n]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),s}function Od(e,t){pn||(pn=new TextDecoder);const s=[];let i=0,n=-1,r=!1;return new TransformStream({transform(o,a){for(s.push(o);;){if(i===0){if(Ps(s)<1)break;const l=Is(s,1);r=(l[0]&128)===128,n=l[0]&127,n<126?i=3:n===126?i=1:i=2}else if(i===1){if(Ps(s)<2)break;const l=Is(s,2);n=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Ps(s)<8)break;const l=Is(s,8),u=new DataView(l.buffer,l.byteOffset,l.length),f=u.getUint32(0);if(f>Math.pow(2,53-32)-1){a.enqueue(xn);break}n=f*Math.pow(2,32)+u.getUint32(4),i=3}else{if(Ps(s)<n)break;const l=Is(s,n);a.enqueue(tr(r?l:pn.decode(l),t)),i=0}if(n===0||n>e){a.enqueue(xn);break}}}})}const Ua=4;function ge(e){if(e)return Pd(e)}function Pd(e){for(var t in ge.prototype)e[t]=ge.prototype[t];return e}ge.prototype.on=ge.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ge.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};ge.prototype.off=ge.prototype.removeListener=ge.prototype.removeAllListeners=ge.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,n=0;n<s.length;n++)if(i=s[n],i===t||i.fn===t){s.splice(n,1);break}return s.length===0&&delete this._callbacks["$"+e],this};ge.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(s){s=s.slice(0);for(var i=0,n=s.length;i<n;++i)s[i].apply(this,t)}return this};ge.prototype.emitReserved=ge.prototype.emit;ge.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ge.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Fe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Na(e,...t){return t.reduce((s,i)=>(e.hasOwnProperty(i)&&(s[i]=e[i]),s),{})}const Id=Fe.setTimeout,Rd=Fe.clearTimeout;function Zi(e,t){t.useNativeTimers?(e.setTimeoutFn=Id.bind(Fe),e.clearTimeoutFn=Rd.bind(Fe)):(e.setTimeoutFn=Fe.setTimeout.bind(Fe),e.clearTimeoutFn=Fe.clearTimeout.bind(Fe))}const Dd=1.33;function Md(e){return typeof e=="string"?Fd(e):Math.ceil((e.byteLength||e.size)*Dd)}function Fd(e){let t=0,s=0;for(let i=0,n=e.length;i<n;i++)t=e.charCodeAt(i),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(i++,s+=4);return s}function Bd(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function Ld(e){let t={},s=e.split("&");for(let i=0,n=s.length;i<n;i++){let r=s[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Ud extends Error{constructor(t,s,i){super(t),this.description=s,this.context=i,this.type="TransportError"}}class sr extends ge{constructor(t){super(),this.writable=!1,Zi(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,i){return super.emitReserved("error",new Ud(t,s,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=tr(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=Bd(t);return s.length?"?"+s:""}}const ja="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),$n=64,Nd={};let no=0,Rs=0,ro;function oo(e){let t="";do t=ja[e%$n]+t,e=Math.floor(e/$n);while(e>0);return t}function Ha(){const e=oo(+new Date);return e!==ro?(no=0,ro=e):e+"."+oo(no++)}for(;Rs<$n;Rs++)Nd[ja[Rs]]=Rs;let Va=!1;try{Va=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const jd=Va;function Wa(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||jd))return new XMLHttpRequest}catch{}if(!t)try{return new Fe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Hd(){}const Vd=function(){return new Wa({xdomain:!1}).responseType!=null}();class Wd extends sr{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let n=location.port;n||(n=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}const s=t&&t.forceBase64;this.supportsBinary=Vd&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||s()})),this.writable||(i++,this.once("drain",function(){--i||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};xd(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Ad(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Ha()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Qe(this.uri(),t)}doWrite(t,s){const i=this.request({method:"POST",data:t});i.on("success",s),i.on("error",(n,r)=>{this.onError("xhr post error",n,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,i)=>{this.onError("xhr poll error",s,i)}),this.pollXhr=t}}class Qe extends ge{constructor(t,s){super(),Zi(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=Na(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const i=this.xhr=new Wa(s);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&i.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var n;i.readyState===3&&((n=this.opts.cookieJar)===null||n===void 0||n.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document<"u"&&(this.index=Qe.requestsCount++,Qe.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Hd,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Qe.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Qe.requestsCount=0;Qe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ao);else if(typeof addEventListener=="function"){const e="onpagehide"in Fe?"pagehide":"unload";addEventListener(e,ao,!1)}}function ao(){for(let e in Qe.requests)Qe.requests.hasOwnProperty(e)&&Qe.requests[e].abort()}const ir=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0))(),Ds=Fe.WebSocket||Fe.MozWebSocket,lo=!0,qd="arraybuffer",co=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zd extends sr{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,i=co?{}:Na(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=lo&&!co?s?new Ds(t,s):new Ds(t):new Ds(t,s,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const i=t[s],n=s===t.length-1;er(i,this.supportsBinary,r=>{const o={};try{lo&&this.ws.send(r)}catch{}n&&ir(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Ha()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!Ds}}class Kd extends sr{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=Od(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(s).getReader(),n=$d();n.readable.pipeTo(t.writable),this.writer=n.writable.getWriter();const r=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const i=t[s],n=s===t.length-1;this.writer.write(i).then(()=>{n&&ir(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Gd={websocket:zd,webtransport:Kd,polling:Wd},Yd=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Jd=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function On(e){const t=e,s=e.indexOf("["),i=e.indexOf("]");s!=-1&&i!=-1&&(e=e.substring(0,s)+e.substring(s,i).replace(/:/g,";")+e.substring(i,e.length));let n=Yd.exec(e||""),r={},o=14;for(;o--;)r[Jd[o]]=n[o]||"";return s!=-1&&i!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Xd(r,r.path),r.queryKey=Qd(r,r.query),r}function Xd(e,t){const s=/\/{2,9}/g,i=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Qd(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,r){n&&(s[n]=r)}),s}let qa=class Bt extends ge{constructor(t,s={}){super(),this.binaryType=qd,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=On(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=On(s.host).host),Zi(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ld(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=Ua,s.transport=t,this.id&&(s.sid=this.id);const i=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Gd[t](i)}open(){let t;if(this.opts.rememberUpgrade&&Bt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),i=!1;Bt.priorWebsocketSuccess=!1;const n=()=>{i||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!i)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Bt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=s.name,this.emitReserved("upgradeError",v)}}))};function r(){i||(i=!0,f(),s.close(),s=null)}const o=m=>{const v=new Error("probe error: "+m);v.transport=s.name,r(),this.emitReserved("upgradeError",v)};function a(){o("transport closed")}function l(){o("socket closed")}function u(m){s&&m.name!==s.name&&r()}const f=()=>{s.removeListener("open",n),s.removeListener("error",o),s.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};s.once("open",n),s.once("error",o),s.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||s.open()},200):s.open()}onOpen(){if(this.readyState="open",Bt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(s+=Md(n)),i>0&&s>this.maxPayload)return this.writeBuffer.slice(0,i);s+=2}return this.writeBuffer}write(t,s,i){return this.sendPacket("message",t,s,i),this}send(t,s,i){return this.sendPacket("message",t,s,i),this}sendPacket(t,s,i,n){if(typeof s=="function"&&(n=s,s=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:t,data:s,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},i=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){Bt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let i=0;const n=t.length;for(;i<n;i++)~this.transports.indexOf(t[i])&&s.push(t[i]);return s}};qa.protocol=Ua;function Zd(e,t="",s){let i=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),i=On(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(s&&s.port===i.port?"":":"+i.port),i}const eh=typeof ArrayBuffer=="function",th=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,za=Object.prototype.toString,sh=typeof Blob=="function"||typeof Blob<"u"&&za.call(Blob)==="[object BlobConstructor]",ih=typeof File=="function"||typeof File<"u"&&za.call(File)==="[object FileConstructor]";function nr(e){return eh&&(e instanceof ArrayBuffer||th(e))||sh&&e instanceof Blob||ih&&e instanceof File}function Vs(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,i=e.length;s<i;s++)if(Vs(e[s]))return!0;return!1}if(nr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Vs(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Vs(e[s]))return!0;return!1}function nh(e){const t=[],s=e.data,i=e;return i.data=Pn(s,t),i.attachments=t.length,{packet:i,buffers:t}}function Pn(e,t){if(!e)return e;if(nr(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let i=0;i<e.length;i++)s[i]=Pn(e[i],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=Pn(e[i],t));return s}return e}function rh(e,t){return e.data=In(e.data,t),delete e.attachments,e}function In(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=In(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=In(e[s],t));return e}const oh=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ah=5;var W;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class lh{constructor(t){this.replacer=t}encode(t){return(t.type===W.EVENT||t.type===W.ACK)&&Vs(t)?this.encodeAsBinary({type:t.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===W.BINARY_EVENT||t.type===W.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=nh(t),i=this.encodeAsString(s.packet),n=s.buffers;return n.unshift(i),n}}function uo(e){return Object.prototype.toString.call(e)==="[object Object]"}class rr extends ge{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const i=s.type===W.BINARY_EVENT;i||s.type===W.BINARY_ACK?(s.type=i?W.EVENT:W.ACK,this.reconstructor=new ch(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(nr(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const i={type:Number(t.charAt(0))};if(W[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===W.BINARY_EVENT||i.type===W.BINARY_ACK){const r=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(r,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(t.charAt(s+1)==="/"){const r=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););i.nsp=t.substring(r,s)}else i.nsp="/";const n=t.charAt(s+1);if(n!==""&&Number(n)==n){const r=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}i.id=Number(t.substring(r,s+1))}if(t.charAt(++s)){const r=this.tryParse(t.substr(s));if(rr.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case W.CONNECT:return uo(s);case W.DISCONNECT:return s===void 0;case W.CONNECT_ERROR:return typeof s=="string"||uo(s);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&oh.indexOf(s[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ch{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=rh(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uh=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rr,Encoder:lh,get PacketType(){return W},protocol:ah},Symbol.toStringTag,{value:"Module"}));function He(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const dh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ka extends ge{constructor(t,s,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[He(t,"open",this.onopen.bind(this)),He(t,"packet",this.onpacket.bind(this)),He(t,"error",this.onerror.bind(this)),He(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(dh.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const i={type:W.EVENT,data:s};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,a=s.pop();this._registerAckCallback(o,a),i.id=o}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,s){var i;const n=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(n===void 0){this.acks[t]=s;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(r),s.apply(this,[null,...o])}}emitWithAck(t,...s){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((n,r)=>{s.push((o,a)=>i?o?r(o):n(a):n(o)),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...r)=>i!==this._queue[0]?void 0:(n!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(n)):(this._queue.shift(),s&&s(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case W.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(t);break;case W.ACK:case W.BINARY_ACK:this.onack(t);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const i of s)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let i=!1;return function(...n){i||(i=!0,s.packet({type:W.ACK,id:t,data:n}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(s.apply(this,t.data),delete this.acks[t.id])}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let i=0;i<s.length;i++)if(t===s[i])return s.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let i=0;i<s.length;i++)if(t===s[i])return s.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const i of s)i.apply(this,t.data)}}}function Xt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};Xt.prototype.reset=function(){this.attempts=0};Xt.prototype.setMin=function(e){this.ms=e};Xt.prototype.setMax=function(e){this.max=e};Xt.prototype.setJitter=function(e){this.jitter=e};class Rn extends ge{constructor(t,s){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Zi(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((i=s.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Xt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const n=s.parser||uh;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new qa(this.uri,this.opts);const s=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=He(s,"open",function(){i.onopen(),t&&t()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=He(s,"error",r);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{n(),r(new Error("timeout")),s.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(n),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(He(t,"ping",this.onping.bind(this)),He(t,"data",this.ondata.bind(this)),He(t,"error",this.onerror.bind(this)),He(t,"close",this.onclose.bind(this)),He(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){ir(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Ka(this,t,s),this.nsps[t]=i),i}_destroy(t){const s=Object.keys(this.nsps);for(const i of s)if(this.nsps[i].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let i=0;i<s.length;i++)this.engine.write(s[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},s);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ss={};function Ws(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Zd(e,t.path||"/socket.io"),i=s.source,n=s.id,r=s.path,o=ss[n]&&r in ss[n].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new Rn(i,t):(ss[n]||(ss[n]=new Rn(i,t)),l=ss[n]),s.query&&!t.query&&(t.query=s.queryKey),l.socket(s.path,t)}Object.assign(Ws,{Manager:Rn,Socket:Ka,io:Ws,connect:Ws});class hh{constructor(){p(this,"socket")}setupSocketConnection(){this.socket=Ws("https://solid-garden-397801.wl.r.appspot.com/"),this.socket.on("users",t=>O().multiplayer.users=t),this.socket.on("joined",t=>this.joined(t)),this.socket.on("synced",t=>this.synced(t)),this.socket.on("acted",t=>this.acted(t))}joinGame(){if(!this.socket)return;const t=Date.now();O().multiplayer.playerLocal=t,this.socket.emit("join",t)}joined(t){O().multiplayer.playerOne?O().multiplayer.playerTwo||(O().multiplayer.playerTwo=t,O().randomizeStartingPlayer(),this.syncGame()):O().multiplayer.playerOne=t}syncGame(){if(this.socket&&O().multiplayer.playerLocal&&O().multiplayer.isPlayerOne()){const t=O().createSetupPacket();t.i=O().multiplayer.playerLocal,this.socket.emit("sync",t)}}synced(t){O().multiplayer.playerLocal&&(O().multiplayer.setup=!0,t.i!==O().multiplayer.playerLocal&&(O().multiplayer.playerOne=t.i,O().multiplayer.playerTwo=O().multiplayer.playerLocal),O().multiplayer.isPlayerTwo()&&O().loadSetupPacket(t),this.assignRemoteStatus())}assignRemoteStatus(){O().multiplayer.playerLocal&&(this.setPlayerRemote(2,O().multiplayer.isPlayerOne()),this.setPlayerRemote(1,O().multiplayer.isPlayerTwo()))}setPlayerRemote(t,s){const i=O().playerForID(t);i&&(i.remote=s)}selectStart(t,s){this.socket&&this.socket.emit("act",{act:0,pID:t,tID:s})}rollDice(t,s,i){this.socket&&this.socket.emit("act",{act:1,pID:t,d1:s,d2:i})}moveMonster(t,s){this.socket&&this.socket.emit("act",{act:2,pID:t,tID:s})}tradeResource(t,s){this.socket&&this.socket.emit("act",{act:3,pID:t,rID:s})}spendResource(t,s,i,n){this.socket&&this.socket.emit("act",{act:4,pID:t,rID:s,amt:i,tID:n})}trainUnit(t,s,i){this.socket&&this.socket.emit("act",{act:5,pID:t,uID:s,tID:i})}moveUnits(t,s,i,n){this.socket&&this.socket.emit("act",{act:6,pID:t,uIDs:s,fID:i,tID:n})}toggleBattle(t,s){this.socket&&this.socket.emit("act",{act:7,pID:t,battle:s})}unitDamageUnit(t,s,i,n,r,o){this.socket&&this.socket.emit("act",{act:8,pID:t,aID:s,fID:i,dID:n,tID:r,dam:o})}unitDamageCastle(t,s,i,n,r){this.socket&&this.socket.emit("act",{act:9,pID:t,aID:s,fID:i,tID:n,dam:r})}nextTurn(t){this.socket&&this.socket.emit("act",{act:10,pID:t})}concedeGame(t){this.socket&&this.socket.emit("act",{act:11,pID:t})}acted(t){var i;const s=O();(i=s.playerForID(t.pID))!=null&&i.remote&&(t.act===0?s.playerSelectStartingTile(t.pID,t.tID):t.act===1?s.setRoll(t.d1,t.d2):t.act===2?s.moveMonsterToTile(t.tID):t.act===3?s.playerTradeForResource(t.pID,t.rID):t.act===4?s.playerSpendResource(t.pID,t.rID,t.amt,t.tID):t.act===5?s.playerTrainUnitOnTile(t.pID,t.uID,t.tID):t.act===6?s.playerMoveUnits(t.pID,t.uIDs,t.fID,t.tID):t.act===7?s.toggleBattle(t.battle):t.act===8?s.unitDamageUnit(t.aID,t.fID,t.dID,t.tID,t.dam):t.act===9?s.unitDamageCastle(t.aID,t.fID,t.tID,t.dam):t.act===10?s.nextTurn():t.act===11&&s.playerConcedeGame(t.pID))}disconnect(){this.socket&&this.socket.disconnect()}}const pe=new hh,O=Wu("game",{state:()=>({players:[],multiplayer:new Jr,match:$e.None,grid:[],resources:[],trade:new Qr,train:0,turn:new Lt,monster:new Zr,battling:!1,stats:new Xr,settings:new hn,menu:!1,tutorial:!1,victory:Ye.none,error:""}),getters:{playerActive({players:e,turn:t}){return e.find(s=>s.id===t.player)||null},playerWinner({players:e}){return e.find(t=>t.winner)||null},tilesAll(){const e=[];return this.grid.forEach(t=>t.forEach(s=>e.push(s))),e},tilesOfActivePlayer(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()===this.playerActive)},tilesOfTheEnemy(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()!==this.playerActive)},tilesWithinDistance(){const e=this.unitsSelectedTile;if(!e)return[];const t=[e];t.push(...e.adjacent);for(let s=1;s<this.unitsMoveDistance;s++){const i=[];t.forEach(n=>{n.adjacent.forEach(r=>{!t.includes(r)&&!i.includes(r)&&i.push(r)})}),t.push(...i)}return t},resourceTypes(){return bs.resourceTypes(this.settings.theme)},resourceTypesValid(){return bs.resourceTypesValid(this.settings.theme)},unitTypes(){return Ft.unitTypes(this.settings.theme)},unitsSelected({grid:e}){const t=[];return e.forEach(s=>{s.forEach(i=>{i.units.forEach(n=>{n.selected&&t.push(n)})})}),t},unitsSelectedTile(){const e=this.unitsSelected;return e.length?e[0].tile:null},unitsMoveDistance(){let e=V.maxMoveDistance;return this.unitsSelected.forEach(t=>{const s=t.type;s&&(e=Math.min(e,s.move))}),e},unitsMovableForActivePlayer(){const e=[];return this.tilesOfActivePlayer.forEach(t=>t.units.forEach(s=>{!s.moved&&!s.staying&&e.push(s)})),e},turnPhase({turn:e}){return V.turnPhases[e.phase]},startPhase(){return this.turnPhase.phase===Us.start},rollPhase(){return this.turnPhase.phase===Us.roll},marchPhase(){return this.turnPhase.phase===Us.march},rolled(){return this.turn.roll.rolled},vsComputer(){return this.players&&this.players.length>1?this.players[1].computer:!1},isComputerTurn(){return this.playerActive?this.vsComputer&&this.playerActive.computer:!1},isOpponentTurn(){return this.playerActive?this.playerActive.computer||this.playerActive.remote:!1},gameSpeed(){var e;return(e=this.settings)!=null&&e.speed?this.settings.speed:1},theme(){return this.settings.theme},themeOptions(){return Object.keys(V.themeData)},monsterName(){return V.themeData[this.settings.theme].monsterName},victoryString(){switch(this.victory){case Ye.none:return"";case Ye.concede:return"Opponent Conceded";case Ye.points:return"Victory Points Winner";case Ye.siege:return"Opponent's Castle Destroyed"}},matchString(){return["Player - vs - Computer","Player - vs - Player Local","Player - vs - Player Online","Computer - vs - Computer"][this.match]},waitingForOnlinePlayer(){return this.match==$e.PvPOnline&&this.multiplayer.users<2?!0:this.match==$e.PvPOnline?!this.players.find(e=>e.remote):!1}},actions:{init(){this.reset(),this.loadSettings(),this.buildPlayers(),this.randomizeStartingPlayer(),this.buildGrid(),this.calculateGridAdjacents(),this.ensureValidAdjacents(),this.logTileScores(),this.toggleMatch(),this.stats.init(V.themeData[this.theme].unitTypes.length,V.themeData[this.theme].resourceTypes.length)},reset(){this.players=[],this.multiplayer=new Jr,this.match=$e.None,this.grid=[],this.resources=[],this.trade=new Qr,this.train=0,this.turn=new Lt,this.monster=new Zr,this.battling=!1,this.stats=new Xr,this.settings=new hn,this.menu=!1,this.tutorial=!1,this.victory=Ye.none,this.error=""},clearError(){this.error="",this.trade.take&&!this.trade.valid&&this.setTradeTake(0)},save(){this.savePlayers(),this.saveGrid(),this.saveUnits(),this.saveTurn(),this.saveMonster(),this.saveStats()},savePlayers(){this.saveObject(this.encodePlayers(),"p")},encodePlayers(){const e=[];return this.players.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveGrid(){this.saveObject(this.encodeGrid(),"g")},encodeGrid(){const e=[];return this.tilesAll.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveUnits(){this.saveObject(this.encodeUnits(),"u")},encodeUnits(){const e=[];return this.tilesAll.forEach(t=>{t.units.forEach(s=>{e.push(s.save())})}),this.encodeObject(e)},saveTurn(){const e=this.turn;this.saveObject(this.encodeObject(e),"t")},saveMonster(){const e=this.monster;this.saveObject(this.encodeObject(e),"d")},saveStats(){const e=this.stats;this.saveObject(this.encodeObject(e),"s")},saveSettings(){const e=this.settings;this.saveObject(this.encodeObject(e),"x")},createSetupPacket(){const e=new Td;return e.p=this.encodePlayers(),e.g=this.encodeGrid(),e.u=this.encodeUnits(),e.t=this.encodeObject(this.turn),e.d=this.encodeObject(this.monster),e.s=this.encodeObject(this.stats),e.x=this.encodeObject(this.settings),e},saveObject(e,t){gd(t,e,999)},encodeObject(e){const t=JSON.stringify(e);return btoa(t)},load(){this.reset(),this.loadSettings(),this.loadPlayers(),this.loadGrid(),this.loadUnits(),this.loadTurn(),this.loadMonster(),this.loadStats()},loadPlayers(){this.decodePlayers(this.loadObject("p"))},decodePlayers(e){const t=this.decodeObject(e);this.players=[],t.forEach(s=>this.players.push(Ns.load(s)))},loadGrid(){this.decodeGrid(this.loadObject("g")),this.calculateGridAdjacents()},decodeGrid(e){this.grid=[];let t=0;const s=this.decodeObject(e);V.gridSize.forEach(i=>{const n=[];for(let r=0;r<i;r++){const o=s[t++],a=js.load(o);a.type=this.resourceForID(o.t);const l=this.playerForID(o.b);l&&(a.base=l,l.base=a),n.push(a)}this.grid.push(n)})},loadUnits(){this.decodeUnits(this.loadObject("u"))},decodeUnits(e){let t=0;this.decodeObject(e).forEach(i=>{const n=this.unitTypeForID(i.y);if(n){const r=Ft.load(i,n),o=this.playerForID(i.p);o&&(r.player=o);const a=this.tileForID(i.t);a&&(r.tile=a,a.units.push(r))}t=Math.max(t,i.i)}),this.checkForStrandedUnits(),Ft.unitID=t+1},loadTurn(){this.turn=Lt.load(this.decodeObject(this.loadObject("t")))},loadMonster(){this.monster=this.decodeObject(this.loadObject("d"))},loadStats(){this.stats=this.decodeObject(this.loadObject("s"))},loadSettings(){const e=this.decodeObject(this.loadObject("x"));e&&(this.settings=hn.load(e))},loadSetupPacket(e){this.settings.theme=this.decodeObject(e.x).theme,this.decodePlayers(e.p),this.decodeGrid(e.g),this.calculateGridAdjacents(),this.decodeUnits(e.u),this.turn=Lt.load(this.decodeObject(e.t)),this.monster=this.decodeObject(e.d),this.stats=this.decodeObject(e.s)},loadObject(e){const t=md(e);return t||null},decodeObject(e){if(!e)return"";const t=atob(e);return JSON.parse(t)},buildPlayers(){for(let e=0;e<V.maxPlayers;e++){const t=new Ns(e+Ns.playerID);this.resourceTypes.forEach(()=>t.resources.push(0)),this.players.push(t)}},playerForID(e){return this.players.find(t=>t.id===e)||null},randomizeStartingPlayer(){const e=Math.floor(Math.random()*this.players.length)+1;this.turn.player=e},buildGrid(){const e=[...V.rolls],t=[...this.gridOptions()];V.gridSize.forEach(s=>{var n;const i=[];for(let r=0;r<s;r++){const o=new js(js.tileID++),a=Math.floor(Math.random()*t.length),l=this.resourceForType(t.splice(a,1)[0]);l&&(o.type=l,(n=o.type)!=null&&n.resource?o.roll=e.splice(Math.floor(Math.random()*e.length),1)[0]:this.monster.location||(this.monster.location=o.id)),i.push(o)}this.grid.push(i)})},gridOptions(){const e=[];return Object.entries(V.gridMakeup).forEach(t=>{for(let s=0;s<t[1];s++){const n=+t[0],r=this.resourceForID(n);r&&e.push(r.type)}}),e},calculateGridAdjacents(){const e=this.grid.length;for(let t=0;t<e;t++){const s=this.grid[t].length;for(let i=0;i<s;i++){const n=this.grid[t][i];n.adjacent=[];const r=i===s-1,o=this.tileForID(n.id+1);!r&&o&&n.adjacent.push(o);const a=i===0,l=this.tileForID(n.id-1);!a&&l&&n.adjacent.push(l),this.addAdjacentsBelow(n,t,a,r,s),this.addAdjacentsAbove(n,t,a,r,s)}}},addAdjacentsBelow(e,t,s,i,n){if(!(t===this.grid.length-1)){const o=this.grid[t+1].length,a=this.tileForID(e.id+n);a&&(!i||o>n)&&e.adjacent.push(a);const l=this.tileForID(e.id+o);l&&(!s||o>n)&&e.adjacent.push(l)}},addAdjacentsAbove(e,t,s,i,n){if(!(t===0)){const o=this.grid[t-1].length,a=this.tileForID(e.id-n);a&&(!s||o>n)&&e.adjacent.push(a);const l=this.tileForID(e.id-o);l&&(!i||o>n)&&e.adjacent.push(l)}},ensureValidAdjacents(){let e=!1;this.tilesAll.forEach(t=>{var i;const s=((i=t.type)==null?void 0:i.type)||null;s&&V.themeData[this.theme].separateResourceTypes.includes(s)&&t.adjacent.forEach(n=>{var r;((r=n.type)==null?void 0:r.type)===s&&(e=!0)})}),e&&(this.monster.location=0,this.shuffleGrid(),this.ensureValidAdjacents())},shuffleTiles(e){return e.map(t=>({value:t,sort:Math.random()})).sort((t,s)=>t.sort-s.sort).map(({value:t})=>t)},shuffleGrid(){let e=this.tilesAll;e=this.shuffleTiles(e);let t=0;this.grid=[],V.gridSize.forEach(s=>{var n;const i=[];for(let r=0;r<s;r++){const o=e[t++];o.id=t,!((n=o.type)!=null&&n.value)&&!this.monster.location&&(this.monster.location=o.id),i.push(o)}this.grid.push(i)}),this.calculateGridAdjacents()},logTileScores(){this.tilesAll.forEach(e=>{})},tileForID(e){return this.tilesAll.find(t=>t.id===e)||null},tileUnitForID(e,t){return e.units.find(s=>s.id===t)||null},playerControllingTile(e){return e.base?e.base:e.units.length?e.units[0].player:null},playerActiveControllingTile(e){const t=this.playerControllingTile(e);return this.playerActive===t},tileWithinDistance(e){return this.tilesWithinDistance.includes(e)},selectTile(e){this.startPhase?this.selectStartingTile(e):this.rollPhase&&this.monster.moving?this.moveMonster(e):this.marchPhase&&this.train?this.trainUnitOnTile(e):this.marchPhase&&this.unitsSelectedTile&&this.moveUnitsToTile(e),this.calculateVictoryPoints()},selectStartingTile(e){var t;if(e.base&&(this.error="You can't select another players starting location!"),(t=e.type)!=null&&t.resource||(this.error="Why would you want to put your castle there?"),e.adjacent.find(s=>s.base)&&(this.error="Maybe don't start so close to the other player..."),this.playerActive&&!this.error&&!this.playerActive.base){const s=this.playerActive.id,i=e.id;this.playerSelectStartingTile(s,i),pe.selectStart(s,i)}},playerSelectStartingTile(e,t){const s=this.playerForID(e),i=this.tileForID(t);!s||!i||(s.base=i,i.base=s,V.themeData[this.theme].startingUnits.forEach(n=>this.createUnitOnTile(n,i)),this.distributeResourcesToPlayerForTile(i),this.playSound("fanfare"),this.nextTurn())},moveMonster(e){var s;if(e.base){this.error=`The ${this.monsterName} is too smart to go near a castle, you know?`;return}if(this.monster.location===e.id){this.error=`The ${this.monsterName} is bored of that spot. Try somewhere else.`;return}const t=((s=this.playerActive)==null?void 0:s.id)||0;pe.moveMonster(t,e.id),this.moveMonsterToTile(e.id)},moveMonsterToTile(e){this.monster.location=e,this.monster.moving=!1,this.playSound("monster"),this.nextPhase()},monsterEats(){if(this.monster.hungry){this.monster.hungry=!1;const e=this.tileForID(this.monster.location);if(e&&e.units.length){const t=e.units.sort((s,i)=>i.id-s.id)[0];this.playSound("monster"),this.playSound("death"),e.units=e.units.filter(s=>s!==t),this.stats.monsterKills++}}},rollDice(){if(this.turn.roll.roll(),!this.playerActive)return;const e=this.playerActive.id;pe.rollDice(e,this.turn.roll.dieOne,this.turn.roll.dieTwo),this.rollActions()},setRoll(e,t){this.turn.roll.setRoll(e,t),this.rollActions()},rollActions(){this.playSound("dice"),this.statsIncrementRollSpread(),this.monster.moving=this.turn.roll.total===V.monsterRoll,this.monster.moving||(this.resolveRoll(this.turn.roll.total),this.monster.hungry=!0)},resolveRoll(e){this.tilesAll.forEach(t=>{var s;if(t.roll===e&&((s=t.type)!=null&&s.type)&&t.id!==this.monster.location){const i=this.playerControllingTile(t);i&&this.checkSupplyLinesForTile(t,[],i)&&this.distributeResourcesToPlayerForTile(t)}}),this.nextPhase()},checkSupplyLinesForTile(e,t,s){if(e.base)return!0;const i=t||[];i.push(e);for(let n=0;n<e.adjacent.length;n++){const r=e.adjacent[n];if(!i.includes(r)){let o=!1;if(this.playerControllingTile(r)===s&&(o=this.checkSupplyLinesForTile(r,i,s)),i.push(r),o)return o}}return!1},distributeBaseResource(){if(!this.playerActive)return;const e=this.playerActive.base;if(!e)return;const t=new nt(nt.resourceID++);t.player=this.playerActive,t.tile=e,t.type=e.type,this.resources.push(t)},distributeResourcesToPlayerForTile(e){const t=this.playerControllingTile(e);if(!t)return;let s=0;e.units.length&&(s+=e.units.length),e.base&&(s+=V.baseGeneration);for(let i=0;i<s;i++){const n=new nt(nt.resourceID++);n.player=t,n.tile=e,n.type=e.type,n.delay=i,this.resources.push(n)}},tradeForResource(e){if(!this.playerActive)return;const t=this.playerActive.id;pe.tradeResource(t,e),this.playerTradeForResource(t,e)},playerTradeForResource(e,t){const s=this.resourceForID(t),i=this.playerForID(e);if(!s||!i)return;const n=new nt(nt.resourceID++);n.player=i,n.tile=i.base,n.type=s,i.stats.resourcesTraded++,this.resources.push(n)},spendResource(e,t,s=null){if(!this.playerActive)return;const i=this.playerActive.id,n=(s==null?void 0:s.id)||0;pe.spendResource(i,e,t,n),this.playerSpendResource(i,e,t,n)},playerSpendResource(e,t,s,i){const n=this.resourceForID(t),r=this.playerForID(e);if(!(!n||!r)){for(let o=0;o<s;o++){const a=new nt(nt.resourceID++);a.player=r,i?a.tile=this.tileForID(i):a.tile=r.base,a.type=n,a.spend=!0,a.delay=o,this.resources.push(a),r.stats.resourcesSpent++}r.updateResource(t,s*-1)}},resourceForID(e){return this.resourceTypes.find(t=>t.id===e)||null},resourceForType(e){return this.resourceTypes.find(t=>t.type===e)||null},transitionResourceToPlayer(e){const t=e.player;!t||!e.type||(e.spend||(t.updateResource(e.type.id,1),t.stats.resourcesGathered++,this.playSound("caching"),this.statsIncrementResourceSpread(e.type.id)),e.hide=!0,this.flushResources())},styleResource(e,t){const s=document.getElementById(e),i=this.resourceForType(t);if(!s||!i)return;const n=new URL(Object.assign({"../assets/icons/castle.svg":gi,"../assets/icons/close.svg":mi,"../assets/icons/defense.svg":_i,"../assets/icons/flag.svg":yi,"../assets/icons/give.svg":vi,"../assets/icons/help.svg":bi,"../assets/icons/load.svg":wi,"../assets/icons/medieval/archer.svg":Ti,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":Si,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":ki,"../assets/icons/medieval/peasant.svg":Ai,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":$i,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Pi,"../assets/icons/medieval/wizard.svg":Ii,"../assets/icons/menu.svg":Ri,"../assets/icons/move.svg":Di,"../assets/icons/next.svg":Mi,"../assets/icons/offense.svg":Fi,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ui,"../assets/icons/settings.svg":Ni,"../assets/icons/take.svg":ji,"../assets/icons/undead/coffin.svg":Hi,"../assets/icons/undead/flesh.svg":Vi,"../assets/icons/undead/ghost.svg":Wi,"../assets/icons/undead/moonshine.svg":qi,"../assets/icons/undead/remains.svg":zi,"../assets/icons/undead/scroll.svg":Ki,"../assets/icons/undead/skeleton.svg":Gi,"../assets/icons/undead/soul.svg":Yi,"../assets/icons/undead/vampire.svg":Ji,"../assets/icons/undead/werewolf.svg":Xi,"../assets/icons/undead/zombie.svg":Qi})[`../assets/icons/${this.theme}/${i.icon}.svg`],self.location).href;s.style.maskImage=`url(${n})`,s.style.webkitMaskImage=`url(${n})`,s.style.background=i.color},flushResources(){this.resources.find(e=>!e.hide)||(this.resources=[])},clearTrade(){this.setTradeGive(0),this.setTradeTake(0)},setTradeGive(e){this.trade.give=e},setTradeTake(e){this.trade.take=e,this.calculateTradeValidity()},calculateTradeValidity(){var s;const e=this.resourceForID(this.trade.give),t=this.resourceForID(this.trade.take);t?e&&this.playerActive&&(this.trade.cost=t.value*V.tradeSurcharge,this.trade.valid=((s=this.playerActive)==null?void 0:s.resourceCount(e.id))>=this.trade.cost,this.trade.valid?this.playerActive&&(this.tradeForResource(t.id),this.spendResource(e.id,this.trade.cost),this.clearTrade()):this.error=`You need ${this.trade.cost} ${e.resource}'s to trade for 1 ${t.resource}...`):(this.trade.cost=0,this.trade.valid=!1)},unitTypeForID(e){return this.unitTypes.find(t=>t.id===e)||null},unitTypeForType(e){return this.unitTypes.find(t=>t.type===e)||null},selectTrainUnit(e){const t=e.id;this.train===t?this.train=0:this.train=t},canAffordUnit(e){return this.canAffordUnitResources(e)===e.cost.length},canAffordUnitResources(e){let t=0;return e.cost.forEach(s=>{const i=this.resourceForID(s[0]);i&&this.canAffordUnitResource(e,i)&&t++}),t},canAffordUnitResource(e,t){let s=!1;return e.cost.forEach(i=>{var n;if(t&&this.playerActive&&i[0]===t.id){const r=(n=this.playerActive)==null?void 0:n.resourceCount(t.id);i[1]<=r&&(s=!0)}}),s},trainUnitOnTile(e){if(e.units.length>=V.tileUnitMax){this.error="There just isn't any more room there...";return}const t=this.unitTypeForID(this.train);if(!t||!this.playerActive)return;const s=this.playerActive.id;pe.trainUnit(s,t.id,e.id),this.playerTrainUnitOnTile(s,t.id,e.id)},playerTrainUnitOnTile(e,t,s){var r;const i=this.unitTypeForID(t),n=this.tileForID(s);!i||!n||(this.createUnitOnTile(i==null?void 0:i.type,n),this.playSound((r=i.battle)==null?void 0:r.sound),this.checkForStrandedUnits(),i.cost.forEach(o=>{const a=this.resourceForID(o[0]);e&&a&&this.playerSpendResource(e,a.id,o[1],n.id)}),this.train=0)},createUnitOnTile(e,t){const s=this.unitTypeForType(e);if(!s)return;const i=new Ft(Ft.unitID++,s);i.tile=t,i.moved=!0,this.playerActive&&(i.player=this.playerActive,this.playerActive.stats.unitsTrained++),t.units.push(i),this.statsIncrementUnitSpread(s.id)},moveUnitsToTile(e){const t=this.unitsSelectedTile;if(!t||e===t)return;const s=e.playerController();if(s&&s!==this.playerActive){e.adjacent.includes(t)?e.units.length&&t?this.battleTiles(t,e):this.siegeCastle(t,e):this.error="You can't start a battle from that far away...";return}e.units.length+this.unitsSelected.length>V.tileUnitMax?this.error="You think those are all going to fit?":this.moveSelectedUnitsToTile(this.unitsSelected,e)},moveSelectedUnitsToTile(e,t){var o;if(!this.playerActive)return;const s=this.playerActive.id,i=e.map(a=>a.id),n=((o=e[0].tile)==null?void 0:o.id)||0,r=t.id;pe.moveUnits(s,i,n,r),this.playerMoveUnits(s,i,n,r)},playerMoveUnits(e,t,s,i){t.forEach(n=>this.moveUnitFromTileToTile(e,n,s,i)),this.playSound("march"),this.checkForStrandedUnits(),this.calculateVictoryPoints()},moveUnitFromTileToTile(e,t,s,i){const n=this.playerForID(e),r=this.tileForID(s),o=this.tileForID(i);if(!n||!r||!o)return;const a=this.tileUnitForID(r,t);a&&(r.units=r.units.filter(l=>a!==l),a.tile=o,a.moved=!0,a.selected=!1,o.units.push(a),n&&n.stats.unitsMoved++)},checkForStrandedUnits(){this.tilesAll.forEach(e=>{e.units.forEach(t=>{const s=e.playerController();s&&(t.stranded=!this.checkSupplyLinesForTile(e,[],s))})})},resetUnitMoves(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.resetMove()))},resetUnitDamage(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.damage=0))},async battlePause(){await new Promise(e=>setTimeout(e,1e3/this.gameSpeed))},attackerTileUnits(e){const t=e.units.filter(s=>s.selected);return t.length?t:null},toggleBattle(e){this.battling=e,e||this.stats.battlesCount++},async battleTiles(e,t){var n;pe.toggleBattle(((n=this.playerActive)==null?void 0:n.id)||0,!0),this.toggleBattle(!0);let s=!0,i=!1;for(;this.attackerTileUnits(e)&&t.units.length;)await this.resolveAttackWave(e,t,i,s),i&&(s=!s),i=!i,await this.battlePause();this.finishBattle(e,t)},finishBattle(e,t){var i;const s=this.attackerTileUnits(e);s&&!t.base?this.moveUnitsToTile(t):s&&s.forEach(n=>{n.moved=!0,n.selected=!1}),this.toggleBattle(!1),pe.toggleBattle(((i=this.playerActive)==null?void 0:i.id)||0,!1)},async resolveAttackWave(e,t,s,i){let n=s?this.attackerTileUnits(e):t.units;if(n)n=n==null?void 0:n.filter(o=>o.type.battle.ranged===i);else return;const r=s?t:e;for(let o=0;o<n.length;o++)await this.unitAttackTile(n[o],r,s)},async unitAttackTile(e,t,s){const i=s?t.units:this.attackerTileUnits(t);i&&(i.sort((n,r)=>{var o,a;return((o=r.type)==null?void 0:o.battle.defense)-((a=n.type)==null?void 0:a.battle.defense)}),this.unitDamageTargets(e,i)),await this.battlePause()},unitDamageTargets(e,t){if(!e.type)return;const s=e.type.battle.offense/2,i=Math.floor(Math.random()*s+s);this.distributeDamage(e,t.shuffle(),i)},distributeDamage(e,t,s){var r,o,a;const i=s,n=t[0];if(i&&n.type){const l=((r=e.tile)==null?void 0:r.id)||0,u=((o=n.tile)==null?void 0:o.id)||0,f=((a=this.playerActive)==null?void 0:a.id)||0;pe.unitDamageUnit(f,e.id,l,n.id,u,i),this.unitDamageUnit(e.id,l,n.id,u,i)}},unitDamageUnit(e,t,s,i,n){const r=this.tileForID(t),o=this.tileForID(i);if(!r||!o)return;const a=this.tileUnitForID(r,e),l=this.tileUnitForID(o,s);if(!a||!l)return;const u=l.type.battle.defense-l.damage;u>0&&(this.playSound(a.type.battle.sound),a.player&&(a.player.stats.damageTotal+=n),u<=n?(l.damage=l.type.battle.defense,l.player&&l.player.stats.unitsLost++,a.player&&a.player.stats.unitsKilled++,this.playSound("death")):n&&(l.damage+=n)),o.units=o.units.filter(f=>f.damage<f.type.battle.defense)},async siegeCastle(e,t){var n,r,o;pe.toggleBattle(((n=this.playerActive)==null?void 0:n.id)||0,!0),this.toggleBattle(!0);const s=e.units.filter(a=>a.selected);if(t.base){for(let a=0;a<s.length;a++){const l=s[a];if(!l.type)continue;const u=l.type.battle.offense/2,f=Math.floor(Math.random()*u+u),m=((r=l.player)==null?void 0:r.id)||0;pe.unitDamageCastle(m,l.id,e.id,t.id,f),this.unitDamageCastle(l.id,e.id,t.id,f),await this.battlePause()}this.toggleBattle(!1),pe.toggleBattle(((o=this.playerActive)==null?void 0:o.id)||0,!1)}},unitDamageCastle(e,t,s,i){const n=this.tileForID(t),r=this.tileForID(s);if(!n||!r)return;const o=this.tileUnitForID(n,e),a=r==null?void 0:r.playerController();!o||!a||(a.life-=i,a.life=Math.max(0,a.life),o.player&&(o.player.stats.damageTotal+=i),o.moved=!0,o.selected=!1,this.playSound(o.type.battle.sound),this.checkBaseVictory(n,a))},checkBaseVictory(e,t){if(t.life<=0){const s=e.playerController();s&&(s.winner=!0,this.victory=Ye.siege)}},calculateVictoryPoints(){this.players.forEach(e=>{let t=0,s=0,i=0;this.tilesAll.forEach(n=>{t+=this.calculateVictoryPointsForTile(n,e);const r=n.base==e,o=n.units.length>0&&n.units[0].player===e;(r||o)&&s++,o&&(i+=n.units.length)}),e.points=t,e.stats.pointsMax=Math.max(e.stats.pointsMax,t),e.stats.tilesMax=Math.max(e.stats.tilesMax,s),e.stats.unitsMax=Math.max(e.stats.unitsMax,i),this.checkVictoryPointsWinner(e)})},checkVictoryPointsWinner(e){e.points>=V.winningPoints&&(e.winner=!0,this.victory=Ye.points)},calculateVictoryPointsForTile(e,t){let s=0;const i=e.base===t,n=e.units.length>0&&e.units[0].player===t;return n&&e.units.forEach(r=>{var o;r.type&&(s+=(o=r.type)==null?void 0:o.value)}),(i||n)&&(s+=V.controlPoints),s},concede(){this.playerActive&&(pe.concedeGame(this.playerActive.id),this.playerConcedeGame(this.playerActive.id))},playerConcedeGame(e){const t=this.players.find(s=>s.id!==e)||null;t&&(t.winner=!0,this.victory=Ye.concede)},playSound(e){const t=new URL(Object.assign({"../assets/sounds/medieval/arrow.mp3":qu,"../assets/sounds/medieval/caching.mp3":zu,"../assets/sounds/medieval/death.mp3":Ku,"../assets/sounds/medieval/dice.mp3":Gu,"../assets/sounds/medieval/fanfare.mp3":Yu,"../assets/sounds/medieval/horse.mp3":Ju,"../assets/sounds/medieval/magic.mp3":Xu,"../assets/sounds/medieval/march.mp3":Qu,"../assets/sounds/medieval/monster.mp3":Zu,"../assets/sounds/medieval/pitchfork.mp3":ed,"../assets/sounds/medieval/sword.mp3":td,"../assets/sounds/undead/bones.mp3":sd,"../assets/sounds/undead/boo.mp3":id,"../assets/sounds/undead/caching.mp3":nd,"../assets/sounds/undead/death.mp3":rd,"../assets/sounds/undead/dice.mp3":od,"../assets/sounds/undead/fanfare.mp3":ad,"../assets/sounds/undead/howl.mp3":ld,"../assets/sounds/undead/march.mp3":cd,"../assets/sounds/undead/monster.mp3":ud,"../assets/sounds/undead/suck.mp3":dd,"../assets/sounds/undead/zombie.mp3":hd})[`../assets/sounds/${this.theme}/${e}.mp3`],self.location).pathname,s=new Audio(t),i=this.settings.sound||100;s.volume=i/100,s.play()},nextPhase(){this.playerWinner||(this.turn.phase++,this.turn.phase>=V.turnPhases.length&&(this.turn.phase=0,this.nextTurn()))},newTurn(){var t;if(this.playerWinner)return;const e=((t=this.playerActive)==null?void 0:t.id)||0;pe.nextTurn(e),this.nextTurn()},nextTurn(){this.turn.roll.rolled=!1,this.turn.player++,this.turn.player>this.players.length&&(this.turn.player=1);const e=this.players.find(t=>!t.base);e&&this.logTileScores(),this.turn.phase=e?0:1,this.train=0,this.resetUnitMoves(),this.resetUnitDamage(),this.calculateVictoryPoints(),this.clearTrade(),this.monsterEats(),this.flushResources(),this.distributeBaseResource(),this.stats.turnsCount++},statsIncrementRollSpread(){const e=this.turn.roll.total-2,t=this.stats.rollSpread[e];this.stats.rollSpread[e]=t+1},statsIncrementUnitSpread(e){const t=e-1,s=this.stats.unitSpread[t];this.stats.unitSpread[t]=s+1},statsIncrementResourceSpread(e){const t=e-1,s=this.stats.resourceSpread[t];this.stats.resourceSpread[t]=s+1},toggleSettings(){this.settings.open=!this.settings.open},toggleMenu(){this.menu=!this.menu},toggleTutorial(){this.tutorial=!this.tutorial},toggleMatch(){switch(this.match++,this.match>=$e.None&&(this.match=0),this.match){case $e.PvC:this.setMatchPVC();break;case $e.PvPLocal:this.setMatchPVP();break;case $e.CvC:this.setMatchCVC();break;case $e.PvPOnline:this.setMatchOnline();break}},setMatchPVC(){this.players.forEach(e=>e.computer=e.id%2===0),this.turn.player=1,pe.disconnect()},setMatchPVP(){this.players.forEach(e=>e.computer=!1),pe.disconnect()},setMatchCVC(){this.players.forEach(e=>e.computer=!0),pe.disconnect()},setMatchOnline(){this.setMatchPVP(),pe.setupSocketConnection(),pe.joinGame()}}}),fh="/assets/menu-05ddd784.svg",ph={class:"flex-row-spaced"},gh=h("h1",null,"RISKATAN",-1),mh=h("img",{src:fh},null,-1),_h=[mh],yh={computed:{...ye(O,["matchString"])},methods:{...Ee(O,["toggleMatch","toggleMenu"])}},vh=_e({...yh,__name:"Header",setup(e){return(t,s)=>(S(),k("header",ph,[gh,h("h2",{onClick:s[0]||(s[0]=(...i)=>t.toggleMatch&&t.toggleMatch(...i)),class:"enabled"},q(t.matchString),1),h("button",{onClick:s[1]||(s[1]=(...i)=>t.toggleMenu&&t.toggleMenu(...i)),class:"flex-column-center shadowed enabled"},_h)]))}});const Te=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},bh={},wh={class:"background"};function Th(e,t){return S(),k("div",wh)}const Ch=Te(bh,[["render",Th],["__scopeId","data-v-0cac9ebd"]]),Sh="/assets/flag-54741b89.svg",en=e=>(et("data-v-9279c6b3"),e=e(),tt(),e),Eh=["id"],kh={class:"flex-row-spaced full-size padded"},Ah=en(()=>h("img",{src:Sh},null,-1)),xh=[Ah],$h={class:"padded full-size"},Oh={class:"flex-row-spaced full-size"},Ph=en(()=>h("span",null,"Castle Integrity: ",-1)),Ih={class:"flex-row-spaced full-size"},Rh=en(()=>h("span",null,"Victory Points: ",-1)),Dh=["onClick"],Mh=["id"],Fh={key:1,class:"player flex-column-center"},Bh=en(()=>h("h3",null,"Waiting for player to join...",-1)),Lh=[Bh],Uh={props:{player:{type:Ns,default:null}},computed:{...ye(O,["playerActive","trade","vsComputer","resourceTypesValid","match","waitingForOnlinePlayer"]),playerIsActive(){var e,t;return((e=this.playerActive)==null?void 0:e.id)===((t=this.player)==null?void 0:t.id)},playerIsComputer(){return this.player.computer},playerIsRemote(){return this.player.remote},blurred(){return this.match==$e.CvC?!1:this.match==$e.PvC?this.playerIsComputer:this.match==$e.PvPLocal?!this.playerIsActive:this.match==$e.PvPOnline?this.playerIsRemote:!1}},mounted(){this.$nextTick(()=>{this.styleResources()})},watch:{waitingForOnlinePlayer(){this.waitingForOnlinePlayer||this.$nextTick(()=>{this.styleResources()})}},methods:{...Ee(O,["styleResource","setTradeGive","setTradeTake","concede"]),styleResources(){this.resourceTypesValid.forEach(e=>{const t=`${this.player.id}-${e.type}`;this.styleResource(t,e.type)})},tradeEnabled(e){return!(!this.playerIsActive||!this.player.resourceCount(e.id)&&!this.trade.give)},selectResource(e){this.tradeEnabled(e)&&(this.trade.give?this.trade.give===e.id?this.setTradeGive(0):this.trade.take===e.id?this.setTradeTake(0):this.setTradeTake(e.id):this.setTradeGive(e.id))}}},Nh=_e({...Uh,__name:"Player",setup(e){return(t,s)=>e.player&&!t.waitingForOnlinePlayer?(S(),k("div",{key:0,id:`player-${e.player.id}`,class:ee(["player flex-column-center",t.blurred?"blurred":""])},[h("div",kh,[h("h2",{class:ee(`p${e.player.id}-color`)},q(e.player.name()),3),h("button",{"data-tooltip":"Conceding already?",class:ee(["tooltip flex-column-center shadowed",t.playerIsActive?"enabled":"disabled"]),onClick:s[0]||(s[0]=(...i)=>t.concede&&t.concede(...i))},xh,2)]),h("div",$h,[h("div",Oh,[Ph,h("h3",null,q(e.player.life)+" / "+q(e.player.startingLife()),1)]),h("div",Ih,[Rh,h("h3",null,q(e.player.points)+" / "+q(e.player.winTotal()),1)])]),h("table",null,[(S(!0),k(J,null,be(t.resourceTypesValid,(i,n)=>(S(),k("tr",{key:n},[h("td",{class:ee(["icon shadowed",[t.tradeEnabled(i)?"enabled":"",t.playerIsActive&&i.id===t.trade.give?"give":"",t.playerIsActive&&i.id===t.trade.take?"take":""]]),onClick:r=>t.selectResource(i)},[h("div",{id:`${e.player.id}-${i.type}`,class:"mask"},null,8,Mh)],10,Dh),h("td",null,[h("h4",null,q(i.resource),1)]),h("td",{class:"count",style:si(`color: ${i.color};`)},q(Math.floor(e.player.resourceCount(i.id)/10))+q(e.player.resourceCount(i.id)%10),5)]))),128))])],10,Eh)):(S(),k("div",Fh,Lh))}});const ho=Te(Nh,[["__scopeId","data-v-9279c6b3"]]),jh={computed:{...ye(O,["isComputerTurn","menu","battling","turn","playerActive","playerWinner","rolled","monster","grid","tilesAll","tilesOfActivePlayer","tilesOfTheEnemy","unitTypes","unitsMovableForActivePlayer","resourceTypesValid","gameSpeed"]),canAct(){return!(!this.isComputerTurn||this.menu||this.battling||this.playerWinner)},shouldConcede(){if(this.isComputerTurn&&this.playerActive){const e=!!this.playerActive.base,t=!!this.tilesOfActivePlayer.find(s=>s.units.length>0);if(e&&!t)return!0}return!1}},watch:{isComputerTurn(){this.act()},menu(){this.act()},battling(){this.act()},turn:{handler(){this.act()},deep:!0}},methods:{...Ee(O,["selectStartingTile","rollDice","moveMonster","moveSelectedUnitsToTile","moveUnitsToTile","selectTrainUnit","trainUnitOnTile","resourceForID","canAffordUnit","canAffordUnitResource","canAffordUnitResources","setTradeGive","setTradeTake","newTurn","concede"]),async act(e=0){this.canAct&&(await this.think(e),this.canAct&&this.chooseAction())},async think(e){const s=(Math.floor(Math.random()*10)+10+e)*100;await new Promise(i=>setTimeout(i,s/this.gameSpeed))},async chooseAction(){var t;let e=!1;if(this.shouldConcede){this.concede();return}(t=this.playerActive)!=null&&t.base?this.rolled?this.monster.moving?this.directMonster():this.unitsMovableForActivePlayer.length?await this.moveOrBattle():this.playerActive.resourceScore()?e=this.getUnits():e=!0:this.rollDice():this.selectBase(),e&&this.endTurn()},selectBase(){if(!this.grid)return;let e=this.grid[0][0];this.tilesAll.forEach(t=>{t.startScore()>e.startScore()&&(e=t)}),this.selectStartingTile(e)},directMonster(){const e=this.tilesOfTheEnemy;e.filter(s=>!s.base).length?this.directMonsterToEnemyUnitTile(e):this.directMonsterToNearEnemyBase(e)},directMonsterToEnemyUnitTile(e){const s=e.filter(i=>!i.base).filter(i=>this.monster.location!==i.id).reduce((i,n)=>i.unitScore()>n.unitScore()?i:n);this.moveMonster(s)},directMonsterToNearEnemyBase(e){const t=e.find(i=>i.base)||null;if(!t)return;const s=t.adjacent.filter(i=>this.monster.location!==i.id).reduce((i,n)=>i.score()>n.score()?i:n);this.moveMonster(s)},async moveOrBattle(){if(this.battling)return;const e=this.unitsInDanger();if(e.length){this.moveUnit(e[0]),this.act();return}let t=!1;this.unitsStranded().length&&(t=this.reconnectSupplyLines(this.unitsMovableForActivePlayer[0]));const s=this.battleTileMatches();!t&&s.length?await this.battleTileFromTile(s[0],s[1]):t||this.moveUnit(this.unitsMovableForActivePlayer[0]),this.act()},unitsInDanger(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{t.id===this.monster.location&&(e=t.units)}),e},unitsStranded(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{t.units.forEach(s=>{s.stranded&&e.push(s)})}),e},reconnectSupplyLines(e){let t=!1;const s=this.unitsStranded();return s.length&&!e.stranded&&s.forEach(i=>{var r;const n=(r=e.tile)==null?void 0:r.adjacent.filter(o=>{var a;return((a=i.tile)==null?void 0:a.adjacent.includes(o))&&this.tileMovable(o)&&o.id!==this.monster.location});!t&&n&&n.length&&(n.sort((o,a)=>a.score()-o.score()),this.moveSelectedUnitsToTile([e],n[0]),t=!0)}),t},battleTileMatches(){let e=[];return this.tilesOfActivePlayer.forEach(t=>{if(!t.units.find(s=>s.moved)&&!e.length){const s=[];t.adjacent.forEach(i=>{i.playerController()&&i.playerController()!==this.playerActive&&t.unitScore()>i.unitScore()&&s.push(i)}),s.length&&(s.sort((i,n)=>i.unitScore()-n.unitScore()),e.push(t),e.push(s[0]))}}),e},async battleTileFromTile(e,t){e.units.forEach(s=>s.selected=!0),this.moveUnitsToTile(t)},moveUnit(e){const t=e?e.tile:null;if(!e||!t)return;let s=[t];for(let n=0;n<e.type.move;n++)s.forEach(r=>this.adjacentTilesMovable(r).forEach(o=>{s.includes(o)||s.push(o)}));s=s.filter(n=>n!==t),s.sort((n,r)=>r.score()-n.score());let i=!1;s.forEach(n=>{i||(i=this.unitMoved(e,t,n))}),i||(e.staying=!0)},adjacentTilesMovable(e){return e.adjacent.filter(t=>this.tileMovable(t))},tileMovable(e){const t=e.units.length<V.tileUnitMax,i=!!e.playerController()&&e.playerController()!==this.playerActive;return t&&!i},unitMoved(e,t,s){const i=t.id===this.monster.location,n=s.unitScore()+e.type.value<t.unitScore(),r=s.type?s.type.value>0:!1,o=s.id===this.monster.location;return i||n&&r&&!o?(this.moveSelectedUnitsToTile([e],s),!0):!1},getUnits(){let e=!this.trainUnits();return e&&(e=!this.tradeResources()),e},trainUnits(){const e=this.unitTypes.filter(t=>this.canAffordUnit(t));if(e.length){e.sort((s,i)=>i.value-s.value),this.selectTrainUnit(e[0]);let t=this.trainingTileBest();if(t)return this.trainUnitOnTile(t),this.act(),!0}return!1},trainingTileBest(){let e=[...this.tilesOfActivePlayer];return e=e.filter(t=>t.units.length<V.tileUnitMax),e.sort((t,s)=>s.score()-t.score()),e.sort((t,s)=>s.dangerScore(this.playerActive)-t.dangerScore(this.playerActive)),e.length?e[0]:null},tradeResources(){const e=[...this.unitTypes];if(e.sort((t,s)=>s.value-t.value),e.sort((t,s)=>t.cost.length-this.canAffordUnitResources(t)-(s.cost.length-this.canAffordUnitResources(s))),e.length){const t=e[0];let s=this.resourceForID(t.cost[0][0]);return t.cost.forEach(i=>{const n=this.resourceForID(i[0]);n&&!this.canAffordUnitResource(t,n)&&(s=n)}),s?this.tradeForResource(s):!1}else return!1},tradeForResource(e){let t=!1;const s=e.value*V.tradeSurcharge;return this.resourceTypesValid.forEach(i=>{var o;const r=(((o=this.playerActive)==null?void 0:o.resourceCount(i.id))||0)>s;r&&(t=!0),r&&i&&e&&this.tradeResourceForResource(i,e)}),t},tradeResourceForResource(e,t){this.setTradeGive(e.id),this.setTradeTake(t.id),this.act(30)},endTurn(){this.newTurn()}}},Hh=_e({...jh,__name:"Computer",setup(e){return(t,s)=>(S(),k("div"))}}),Vh="/assets/desert-e2390f07.jpeg",Wh="/assets/farm-3ac71b15.jpeg",qh="/assets/forest-e4379267.jpeg",zh="/assets/mine-16ad4638.jpeg",Kh="/assets/stables-4cd7f347.jpeg",Gh="/assets/tower-022a0fc1.jpeg",Yh="/assets/village-0857c7a9.jpeg",Jh="/assets/texture-92077bf6.jpeg",Xh="/assets/battlefield-18f47d3d.jpeg",Qh="/assets/cemetary-4b3e0442.jpeg",Zh="/assets/church-ec31c9dd.jpeg",ef="/assets/distillery-33f366f6.jpeg",tf="/assets/dungeon-50b2b726.jpeg",sf="/assets/library-679d839b.jpeg",nf="/assets/shop-c255cc7c.jpeg",rf={props:{damages:{type:Array,default:null}}},of=_e({...rf,__name:"Damages",setup(e){return(t,s)=>(S(),Re(xu,{name:"float"},{default:bt(()=>[(S(!0),k(J,null,be(e.damages,i=>(S(),k("div",{key:i.index,class:"damage taken shadowed"}," -"+q(i.value),1))),128))]),_:1}))}});const Ga=Te(of,[["__scopeId","data-v-3fbbddf9"]]),af=["src"],lf={data(){return{index:0,takenDamage:[],lastDamage:0}},props:{unit:{type:Ft,default:null}},computed:{...ye(O,["marchPhase","playerActive","unitsSelectedTile","battling","isOpponentTurn","theme"]),enabled(){return this.isOpponentTurn||this.battling||this.unitsSelectedTile&&this.unitsSelectedTile!==this.unit.tile?!1:this.marchPhase&&this.unit.player===this.playerActive&&!this.unit.moved},unitDamageTaken(){return this.unit.damage}},watch:{unitDamageTaken(){if(!this.unitDamageTaken)return;const e=this.index++,t=this.unitDamageTaken-this.lastDamage;this.lastDamage=this.unitDamageTaken;const s=new Ia(e,t);this.takenDamage.push(s),setTimeout(()=>{this.takenDamage=this.takenDamage.filter(i=>i.index!==e)},500)}},methods:{selectUnit(e){e.stopPropagation(),this.enabled&&this.$emit("selected")},iconForUnit(e){var t;return new URL(Object.assign({"../assets/icons/castle.svg":gi,"../assets/icons/close.svg":mi,"../assets/icons/defense.svg":_i,"../assets/icons/flag.svg":yi,"../assets/icons/give.svg":vi,"../assets/icons/help.svg":bi,"../assets/icons/load.svg":wi,"../assets/icons/medieval/archer.svg":Ti,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":Si,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":ki,"../assets/icons/medieval/peasant.svg":Ai,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":$i,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Pi,"../assets/icons/medieval/wizard.svg":Ii,"../assets/icons/menu.svg":Ri,"../assets/icons/move.svg":Di,"../assets/icons/next.svg":Mi,"../assets/icons/offense.svg":Fi,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ui,"../assets/icons/settings.svg":Ni,"../assets/icons/take.svg":ji,"../assets/icons/undead/coffin.svg":Hi,"../assets/icons/undead/flesh.svg":Vi,"../assets/icons/undead/ghost.svg":Wi,"../assets/icons/undead/moonshine.svg":qi,"../assets/icons/undead/remains.svg":zi,"../assets/icons/undead/scroll.svg":Ki,"../assets/icons/undead/skeleton.svg":Gi,"../assets/icons/undead/soul.svg":Yi,"../assets/icons/undead/vampire.svg":Ji,"../assets/icons/undead/werewolf.svg":Xi,"../assets/icons/undead/zombie.svg":Qi})[`../assets/icons/${this.theme}/${(t=e==null?void 0:e.type)==null?void 0:t.type}.svg`],self.location).href}}},cf=_e({...lf,__name:"Unit",setup(e){return(t,s)=>{var i;return e.unit?(S(),k("div",{key:0,class:ee(["unit","shadowed",t.enabled?"enabled":"",`p${(i=e.unit.player)==null?void 0:i.id}-background`,e.unit.selected?"selected":"",e.unit.moved?"disabled":"",e.unit.stranded?"stranded":""]),onClick:s[0]||(s[0]=(...n)=>t.selectUnit&&t.selectUnit(...n))},[h("img",{src:t.iconForUnit(e.unit)},null,8,af),K(Ga,{damages:t.takenDamage},null,8,["damages"])],2)):Ue("",!0)}}});const uf=Te(cf,[["__scopeId","data-v-a1626383"]]),df=e=>(et("data-v-2e1d4584"),e=e(),tt(),e),hf=["id"],ff=["fill"],pf=["stroke"],gf={key:0,class:"mask"},mf=["src"],_f={class:"details flex-column-spaced"},yf={key:1},vf=df(()=>h("br",null,null,-1)),bf=[vf],wf={class:"units flex-row-center flex-wrap"},Tf={key:0},Cf={key:1},Sf={data(){return{index:0,takenDamage:[],lastDamage:0}},props:{tile:{type:js,default:null}},computed:{...ye(O,["turn","rollPhase","marchPhase","train","monster","battling","unitsSelectedTile","isOpponentTurn","theme"]),enabled(){return!(this.rollPhase&&!this.monster.moving||this.train&&!this.playerActiveControllingTile(this.tile)||this.battling||this.isOpponentTurn||this.marchPhase&&this.unitsSelectedTile&&!this.tileWithinDistance(this.tile)||this.marchPhase&&!this.unitsSelectedTile&&!this.playerActiveControllingTile(this.tile))},playerLife(){return this.tile.playerController()?this.tile.playerController().life:0},tileBackground(){var e,t;return this.tile?new URL(Object.assign({"../assets/images/medieval/desert.jpeg":Vh,"../assets/images/medieval/farm.jpeg":Wh,"../assets/images/medieval/forest.jpeg":qh,"../assets/images/medieval/mine.jpeg":zh,"../assets/images/medieval/stables.jpeg":Kh,"../assets/images/medieval/tower.jpeg":Gh,"../assets/images/medieval/village.jpeg":Yh,"../assets/images/texture.jpeg":Jh,"../assets/images/undead/battlefield.jpeg":Xh,"../assets/images/undead/cemetary.jpeg":Qh,"../assets/images/undead/church.jpeg":Zh,"../assets/images/undead/distillery.jpeg":ef,"../assets/images/undead/dungeon.jpeg":tf,"../assets/images/undead/library.jpeg":sf,"../assets/images/undead/shop.jpeg":nf})[`../assets/images/${this.theme}/${(t=(e=this.tile)==null?void 0:e.type)==null?void 0:t.type}.jpeg`],self.location).href:""}},watch:{playerLife(){if(!this.playerLife)return;if(this.playerLife===V.startingLife){this.lastDamage=this.playerLife;return}const e=this.index++,t=this.lastDamage-this.playerLife;this.lastDamage=this.playerLife;const s=new Ia(e,t);this.takenDamage.push(s),setTimeout(()=>{this.takenDamage=this.takenDamage.filter(i=>i.index!==e)},500)}},methods:{...Ee(O,["selectTile","playerActiveControllingTile","tileWithinDistance"]),selectedTile(){this.enabled&&this.selectTile(this.tile)}}},Ef=_e({...Sf,__name:"Tile",setup(e){return(t,s)=>e.tile.type?(S(),k("div",{key:0,id:`tile-${e.tile.id}`,class:ee(["tile","shadowed",t.enabled?"enabled":""]),onClick:s[0]||(s[0]=(...i)=>t.selectedTile&&t.selectedTile(...i))},[(S(),k("svg",{fill:e.tile.type.color,height:"150",width:"160",xmlns:"http://www.w3.org/2000/svg"},[h("path",{d:"m155 75-37.5 65h-75l-37.5-65 37.5-65h75z",stroke:e.tile.roll&&e.tile.roll===t.turn.roll.total?"gold":"none","stroke-width":"10"},null,8,pf)],8,ff)),e.tile.type?(S(),k("div",gf,[h("img",{src:t.tileBackground},null,8,mf)])):Ue("",!0),h("div",_f,[e.tile.base?(S(),k("div",{key:0,class:ee(["castle-container","shadowed",`p${e.tile.base.id}-border`])},[h("div",{class:ee(["castle",[`p${e.tile.base.id}-background`]])},null,2),K(Ga,{damages:t.takenDamage},null,8,["damages"])],2)):(S(),k("div",yf,bf)),h("div",wf,[(S(!0),k(J,null,be(e.tile.units,(i,n)=>(S(),Re(uf,{key:n,unit:i,onSelected:r=>i.selected=!i.selected},null,8,["unit","onSelected"]))),128))]),h("div",{class:ee(["roll","flex-column-center",e.tile.roll===t.turn.roll.total?"gold":"",e.tile.roll?"":"invisible"])},[t.monster.location!==e.tile.id?(S(),k("h4",Tf,q(e.tile.roll),1)):(S(),k("h4",Cf,"✖"))],2)])],10,hf)):Ue("",!0)}});const kf=Te(Ef,[["__scopeId","data-v-2e1d4584"]]),Af={id:"grid",class:"grid"},xf={computed:{...ye(O,["grid","turn"])},mounted(){const e=document.getElementById("grid"),t=window.innerWidth/1920*1.25;e&&(e.style.transform=`scale(${t})`)}},$f=_e({...xf,__name:"Grid",setup(e){return(t,s)=>(S(),k("div",Af,[(S(!0),k(J,null,be(t.grid,(i,n)=>(S(),k("div",{key:n,class:"flex-row-center"},[(S(!0),k(J,null,be(i,(r,o)=>(S(),Re(kf,{key:o,tile:r,roll:t.turn.roll.total},null,8,["tile","roll"]))),128))]))),128))]))}});const Of=Te($f,[["__scopeId","data-v-c61cf75d"]]),Pf=e=>(et("data-v-e14d75f0"),e=e(),tt(),e),If={class:"resources"},Rf=["id"],Df=["id"],Mf=Pf(()=>h("div",{class:"mask"},null,-1)),Ff=[Mf],Bf={computed:{...ye(O,["resources","gameSpeed"])},watch:{resources:{handler(){this.$nextTick(()=>{this.sendResources()})},deep:!0}},methods:{...Ee(O,["transitionResourceToPlayer","styleResource"]),sendResources(){this.resources.forEach(e=>{e.sent||(e.sent=!0,this.sendResource(e))})},sendResource(e){const t=`resource-${e.id}`,s=document.getElementById(t);s&&(this.setupResourceMask(e),e.spend?this.setResourcePointPlayer(s,e.player,e.type):this.setResourcePointTile(s,e.tile),setTimeout(()=>{this.sendResourceToPlayer(e,e.delay/10)},200))},setupResourceMask(e){var s;const t=`resource-color-${e.id}`;e.type&&this.styleResource(t,(s=e.type)==null?void 0:s.type)},centerCoordForObjectWithID(e){var t=document.getElementById(e);if(!t)return new eo(0,0);var s=t.getBoundingClientRect(),i=new eo(s.x+s.width/2,s.y+s.height/2);return i},sendResourceToPlayer(e,t){const s=`resource-${e.id}`,i=document.getElementById(s);if(!i||!e)return;e.spend?this.setResourcePointTile(i,e.tile):this.setResourcePointPlayer(i,e.player,e.type);const n=2/this.gameSpeed;i.style.transition=`all ${n}s ease-out`,i.style.transitionDelay=`${t}s`;const r=(1e3+200+t*1e3)*n;setTimeout(()=>{this.transitionResourceToPlayer(e)},r)},setResourcePointTile(e,t){if(!t)return;const s=`tile-${t==null?void 0:t.id}`,i=this.centerCoordForObjectWithID(s),n=e.getBoundingClientRect();e.style.top=`${i.y-n.height/2}px`,e.style.left=`${i.x-n.width/2}px`},setResourcePointPlayer(e,t,s){if(!t||!s)return;const i=`${t.id}-${s.type}`,n=this.centerCoordForObjectWithID(i),r=e.getBoundingClientRect();e.style.top=`${n.y-r.height/2}px`,e.style.left=`${n.x-r.width/2}px`}}},Lf=_e({...Bf,__name:"Resources",setup(e){return(t,s)=>(S(),k("div",If,[(S(!0),k(J,null,be(t.resources,(i,n)=>Go((S(),k("div",{key:n,id:`resource-${i.id}`,class:"resource shadowed"},[h("div",{id:`resource-color-${i.id}`,class:"color"},Ff,8,Df)],8,Rf)),[[ka,!(i!=null&&i.hide)]])),128))]))}});const Uf=Te(Lf,[["__scopeId","data-v-e14d75f0"]]),Nf="/assets/medieval-3e81f0a1.png",jf="/assets/undead-dacc2437.png",Hf={id:"monster"},Vf={data(){return{x:0,y:0,dir:""}},computed:{...ye(O,["monster","gameSpeed","theme"]),monsterLocation(){return this.monster.location},backgroundImage(){return new URL(Object.assign({"../assets/animations/medieval.png":Nf,"../assets/animations/undead.png":jf})[`../assets/animations/${this.theme}.png`],self.location).href}},mounted(){setTimeout(()=>this.monsterMoveabout(),200),setInterval(()=>this.monsterMoveabout(),2e3),this.$nextTick(()=>{this.moveMonster(),window.addEventListener("resize",this.onResize,{passive:!0})}),this.setupMonster(this.backgroundImage)},beforeUnmount(){window.removeEventListener("resize",this.onResize)},watch:{monsterLocation(){this.monsterLocation&&this.$nextTick(()=>{this.moveMonster()})},backgroundImage(){this.backgroundImage&&this.$nextTick(()=>{this.setupMonster(this.backgroundImage)})}},methods:{onResize(){this.moveMonster()},async setupMonster(e){const t=new Image;if(!e||(t.src=e,await t.decode(),t.src!==this.backgroundImage))return;const s=t.naturalWidth/3/(t.naturalHeight/4)*60,i=document.getElementById("monster");i&&(i.style.width=`${s}px`);const n=document.getElementById("sprite");n&&(n.style.backgroundImage=`url('${e}')`)},moveMonster(){const e=document.getElementById("monster"),t=`tile-${this.monster.location}`,s=document.getElementById(t);if(e&&s){var i=s.getBoundingClientRect();e.style.left=`${i.x+i.width/2-e.offsetWidth/2}px`,e.style.top=`${i.y-e.offsetHeight/2}px`}},monsterMoveabout(){const e=Math.floor(Math.random()*100-50),t=e-this.x;this.x=e;const s=Math.floor(Math.random()*100-50),i=s-this.y;this.y=s;const n=document.getElementById("monster");n&&(n.style.transform=`translate(${this.x}px, ${this.y}px)`,n.style.transitionDuration=`${3/this.gameSpeed}s`),Math.abs(t)>Math.abs(i)?this.dir=t>0?"right":"left":this.dir=i>0?"down":"up"}}},Wf=_e({...Vf,__name:"Monster",setup(e){return(t,s)=>(S(),k("div",Hf,[h("div",{id:"sprite",class:ee(["sprite shadowed",t.dir])},null,2)]))}});const qf=Te(Wf,[["__scopeId","data-v-43a8dcb6"]]),zf="/assets/help-518d5cb1.svg",Kf="/assets/settings-620ec5c9.svg",Gf="/assets/save-b0d06498.svg",Yf="/assets/load-9b6a67c5.svg",Ya="/assets/reset-57391f15.svg",Jf={props:{show:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!1},closable:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}},Xf="/assets/close-f5d846ec.svg";const Qf=e=>(et("data-v-425790f9"),e=e(),tt(),e),Zf={class:"modal-overlay flex-column-center"},ep={class:"modal flex-column-center padded shadowed"},tp=Qf(()=>h("img",{src:Xf},null,-1)),sp=[tp];function ip(e,t,s,i,n,r){return S(),Re(Zn,{name:"zoom"},{default:bt(()=>[Go(h("div",Zf,[s.backdrop?(S(),k("div",{key:0,class:"backdrop full-size",onClick:t[0]||(t[0]=(...o)=>r.close&&r.close(...o))})):Ue("",!0),h("div",ep,[s.closable?(S(),k("button",{key:0,class:"close shadowed enabled",onClick:t[1]||(t[1]=(...o)=>r.close&&r.close(...o))},sp)):Ue("",!0),Ec(e.$slots,"default",{onClose:t[2]||(t[2]=(...o)=>r.close&&r.close(...o))},void 0,!0)])],512),[[ka,s.show]])]),_:3})}const ws=Te(Jf,[["render",ip],["__scopeId","data-v-425790f9"]]),np={class:"menu"},rp=h("h2",null,"Menu",-1),op=h("br",null,null,-1),ap=h("img",{src:zf},null,-1),lp=h("span",null,"Help",-1),cp=[ap,lp],up=h("img",{src:Kf},null,-1),dp=h("span",null,"Settings",-1),hp=[up,dp],fp=h("img",{src:Gf},null,-1),pp=h("span",null,"Save",-1),gp=[fp,pp],mp=h("img",{src:Yf},null,-1),_p=h("span",null,"Load",-1),yp=[mp,_p],vp=h("img",{src:Ya},null,-1),bp=h("span",null,"Reset",-1),wp=[vp,bp],Tp={data(){return{show:!1}},computed:{...ye(O,["menu"]),menuOpen(){return this.menu}},watch:{menuOpen(){this.menuOpen&&(this.show=!0)}},methods:{...Ee(O,["init","save","load","toggleMenu","toggleSettings","toggleTutorial"]),help(){this.toggleTutorial()},settings(){this.toggleSettings()},saveGame(){this.save(),this.close()},loadGame(){this.load(),this.close()},resetGame(){this.init(),this.close()},close(){this.show=!1,setTimeout(()=>{this.menu&&this.toggleMenu()},500)}}},Cp=_e({...Tp,__name:"Menu",setup(e){return(t,s)=>(S(),Re(ws,{show:t.show,closable:"",backdrop:"",onClose:t.close},{default:bt(()=>[h("div",np,[rp,op,h("button",{"data-tooltip":"Here you can figure out how to play",onClick:s[0]||(s[0]=(...i)=>t.help&&t.help(...i)),class:"flex-row-spaced shadowed enabled tooltip"},cp),h("button",{"data-tooltip":"You can change some settings",onClick:s[1]||(s[1]=(...i)=>t.settings&&t.settings(...i)),class:"flex-row-spaced shadowed enabled tooltip"},hp),h("button",{"data-tooltip":"You only get one save spot",onClick:s[2]||(s[2]=(...i)=>t.saveGame&&t.saveGame(...i)),class:"flex-row-spaced shadowed enabled tooltip"},gp),h("button",{"data-tooltip":"You lose your current progress if you load another game",onClick:s[3]||(s[3]=(...i)=>t.loadGame&&t.loadGame(...i)),class:"flex-row-spaced shadowed enabled tooltip"},yp),h("button",{"data-tooltip":"You go back to start if you reset",onClick:s[4]||(s[4]=(...i)=>t.resetGame&&t.resetGame(...i)),class:"flex-row-spaced shadowed enabled tooltip"},wp)])]),_:1},8,["show","onClose"]))}}),Qt=e=>(et("data-v-6c5c7853"),e=e(),tt(),e),Sp={class:"settings"},Ep=Qt(()=>h("h2",null,"Settings",-1)),kp={class:"setting"},Ap=["value"],xp=Qt(()=>h("label",{for:"sound-setting"},"SFX Volume",-1)),$p={class:"setting"},Op=["value"],Pp=Qt(()=>h("label",{for:"speed-setting"},"Game Speed",-1)),Ip=Qt(()=>h("div",{class:"divider"},null,-1)),Rp={class:"setting"},Dp=Qt(()=>h("label",{for:"theme-setting"},"Choose Theme",-1)),Mp=["value"],Fp=["value"],Bp=Qt(()=>h("p",null,[h("i",null,"Warning: Changing the theme will clear the current game and reload the page")],-1)),Lp={data(){return{show:!1}},computed:{...ye(O,["settings","themeOptions","theme"]),settingsOpen(){return this.settings.open}},watch:{settingsOpen(){this.settingsOpen&&(this.show=!0)}},methods:{...Ee(O,["toggleSettings","saveSettings"]),updateSound(e){e.target&&(this.settings.sound=Number(e.target.value),this.saveSettings())},updateSpeed(e){e.target&&(this.settings.speed=Number(e.target.value),this.saveSettings())},updateTheme(e){e.target&&(this.settings.theme=String(e.target.value),this.saveSettings(),location.reload())},close(){this.show=!1,setTimeout(()=>{this.toggleSettings()},500)}}},Up=_e({...Lp,__name:"Settings",setup(e){return(t,s)=>(S(),Re(ws,{show:t.show,backdrop:"",closable:"",onClose:t.close},{default:bt(()=>[h("div",Sp,[Ep,h("div",kp,[h("input",{id:"sound-setting",type:"range",class:"slider",min:"0",max:"100",value:t.settings.sound,onInput:s[0]||(s[0]=(...i)=>t.updateSound&&t.updateSound(...i))},null,40,Ap),xp]),h("div",$p,[h("input",{id:"speed-setting",type:"range",class:"slider",min:"1",max:"3",value:t.settings.speed,onInput:s[1]||(s[1]=(...i)=>t.updateSpeed&&t.updateSpeed(...i))},null,40,Op),Pp]),Ip,h("div",Rp,[Dp,h("select",{id:"theme-setting",onInput:s[2]||(s[2]=(...i)=>t.updateTheme&&t.updateTheme(...i)),value:t.theme},[(S(!0),k(J,null,be(t.themeOptions,(i,n)=>(S(),k("option",{key:n,value:i},q(i.toCapitalized()),9,Fp))),128))],40,Mp),Bp])])]),_:1},8,["show","onClose"]))}});const Np=Te(Up,[["__scopeId","data-v-6c5c7853"]]),jp="/assets/tut_00-322f3a71.jpg",Hp="/assets/tut_01-c2f24d2d.jpg",Vp="/assets/tut_02-b28d63f4.jpg",Wp="/assets/tut_03-2420e17d.jpg",qp="/assets/tut_04-03d82927.jpg",zp="/assets/tut_05-c68712a2.jpg",Kp="/assets/tut_06-c701ba6e.jpg",Gp="/assets/tut_07-3c66f32f.jpg",Yp="/assets/tut_08-3cda92b9.jpg",Jp="/assets/tut_09-01a72ba3.jpg",or="/assets/next-393dbd13.svg",Xp=[{img:"tut_00",txt:"Welcome to Riskatan! A game wholly original and based on no other games out there...."},{img:"tut_01",txt:"On your first turn, select a starting location"},{img:"tut_02",txt:"Each turn, you'll roll the dice"},{img:"tut_03",txt:"Move units to other tiles to gather more resources"},{img:"tut_04",txt:"On a 7 roll, the monster moves and blocks a tile resource"},{img:"tut_05",txt:"Move units to an enemy tile to initiate a battle"},{img:"tut_06",txt:"Trade resources for others that you need more of"},{img:"tut_07",txt:"Train a variety of units using the resources you have collected"},{img:"tut_08",txt:"Tiles you control and units you train give you victory points. Get enough victory points and you win!"},{img:"tut_09",txt:"Be sure to protect your home base. If it takes too much damage, you will lose!"}],ar=e=>(et("data-v-7d84f132"),e=e(),tt(),e),Qp=ar(()=>h("h2",null,"How To Play",-1)),Zp={class:"flex-row-center"},eg=ar(()=>h("img",{src:or,class:"mirror"},null,-1)),tg=[eg],sg=["src"],ig={class:"description"},ng=ar(()=>h("img",{src:or},null,-1)),rg=[ng],og={data(){return{show:!1,index:0,tuts:Xp}},computed:{...ye(O,["tutorial","monsterName"]),nextAvailable(){return this.index<this.tuts.length-1},prevAvailable(){return this.index>0},tutorialText(){return this.tuts[this.index].txt.replace("monster",this.monsterName)}},watch:{tutorial(){this.tutorial&&(this.show=!0)}},methods:{...Ee(O,["toggleTutorial"]),tutorialImageAtIndex(e){return new URL(Object.assign({"../assets/tutorial/tut_00.jpg":jp,"../assets/tutorial/tut_01.jpg":Hp,"../assets/tutorial/tut_02.jpg":Vp,"../assets/tutorial/tut_03.jpg":Wp,"../assets/tutorial/tut_04.jpg":qp,"../assets/tutorial/tut_05.jpg":zp,"../assets/tutorial/tut_06.jpg":Kp,"../assets/tutorial/tut_07.jpg":Gp,"../assets/tutorial/tut_08.jpg":Yp,"../assets/tutorial/tut_09.jpg":Jp})[`../assets/tutorial/${this.tuts[e].img}.jpg`],self.location).href},next(){this.index++,this.index=Math.min(this.index,this.tuts.length-1)},prev(){this.index--,this.index=Math.max(this.index,0)},close(){this.show=!1,setTimeout(()=>{this.toggleTutorial()},500)}}},ag=_e({...og,__name:"Tutorial",setup(e){return(t,s)=>(S(),Re(ws,{show:t.show,closable:"",backdrop:"",onClose:t.close},{default:bt(()=>[Qp,h("div",Zp,[h("button",{class:ee(["tooltip",["shadowed",t.prevAvailable?"enabled":"invisible"]]),"data-tooltip":"Previous",onClick:s[0]||(s[0]=(...i)=>t.prev&&t.prev(...i))},tg,2),h("div",null,[h("img",{class:"screenshot",src:t.tutorialImageAtIndex(t.index)},null,8,sg),h("p",ig,q(t.tutorialText),1)]),h("button",{class:ee(["tooltip",["shadowed",t.nextAvailable?"enabled":"invisible"]]),"data-tooltip":"Next",onClick:s[1]||(s[1]=(...i)=>t.next&&t.next(...i))},rg,2)])]),_:1},8,["show","onClose"]))}});const lg=Te(ag,[["__scopeId","data-v-7d84f132"]]),cg=h("h2",null,"Ummm",-1),ug={class:"margined"},dg={data(){return{show:!1}},computed:{...ye(O,["error"])},watch:{error(){this.error&&(this.show=!0)},show(){this.show||setTimeout(()=>{this.clearError()},500)}},methods:{...Ee(O,["clearError"])}},hg=_e({...dg,__name:"Error",setup(e){return(t,s)=>(S(),Re(ws,{show:t.show,closable:"",backdrop:"",onClose:s[0]||(s[0]=i=>t.show=!1)},{default:bt(()=>[cg,h("p",ug,q(t.error),1)]),_:1},8,["show"]))}}),lt=e=>(et("data-v-7bc235a7"),e=e(),tt(),e),fg={class:"flex-row-center full-size padded"},pg={key:0,class:"stat"},gg=lt(()=>h("td",null,[h("h4",{class:"left-aligned"},"Stat")],-1)),mg={class:"left-aligned"},_g={class:"stat"},yg=lt(()=>h("tr",null,[h("td",null,[h("h4",null,"Roll")]),h("td",null,[h("h4",null,"Count")])],-1)),vg={class:"flex-column-center full-size"},bg={class:"stat"},wg=lt(()=>h("h4",null,"Total Turns",-1)),Tg={class:"stat"},Cg=lt(()=>h("h4",null,"Units Types Trained",-1)),Sg=["src"],Eg=lt(()=>h("br",null,null,-1)),kg={class:"stat"},Ag=lt(()=>h("h4",null,"Battles Fought",-1)),xg={class:"stat"},$g=lt(()=>h("h4",null,"Resources Collected",-1)),Og=["id"],Pg=lt(()=>h("div",{class:"mask"},null,-1)),Ig=[Pg],Rg=lt(()=>h("br",null,null,-1)),Dg={class:"stat"},Mg={computed:{...ye(O,["stats","players","theme","monsterName"])},mounted(){this.styleResources()},methods:{...Ee(O,["unitTypeForID","resourceForID","styleResource"]),styleResources(){this.stats.resourceSpread.forEach((e,t)=>{const s=this.resourceForID(t+1),i=`stat-resource-${t}`;s&&this.styleResource(i,s.type)})},highestPlayerScoreForStat(e,t){return e.stats[t]===0?!1:this.players.reduce((i,n)=>i.stats[t]>n.stats[t]?i:n).stats[t]===e.stats[t]},highestNumberForSpread(e){return e.reduce((t,s)=>t>s?t:s)},unitIconForIndex(e){var t;return new URL(Object.assign({"../assets/icons/castle.svg":gi,"../assets/icons/close.svg":mi,"../assets/icons/defense.svg":_i,"../assets/icons/flag.svg":yi,"../assets/icons/give.svg":vi,"../assets/icons/help.svg":bi,"../assets/icons/load.svg":wi,"../assets/icons/medieval/archer.svg":Ti,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":Si,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":ki,"../assets/icons/medieval/peasant.svg":Ai,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":$i,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Pi,"../assets/icons/medieval/wizard.svg":Ii,"../assets/icons/menu.svg":Ri,"../assets/icons/move.svg":Di,"../assets/icons/next.svg":Mi,"../assets/icons/offense.svg":Fi,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ui,"../assets/icons/settings.svg":Ni,"../assets/icons/take.svg":ji,"../assets/icons/undead/coffin.svg":Hi,"../assets/icons/undead/flesh.svg":Vi,"../assets/icons/undead/ghost.svg":Wi,"../assets/icons/undead/moonshine.svg":qi,"../assets/icons/undead/remains.svg":zi,"../assets/icons/undead/scroll.svg":Ki,"../assets/icons/undead/skeleton.svg":Gi,"../assets/icons/undead/soul.svg":Yi,"../assets/icons/undead/vampire.svg":Ji,"../assets/icons/undead/werewolf.svg":Xi,"../assets/icons/undead/zombie.svg":Qi})[`../assets/icons/${this.theme}/${(t=this.unitTypeForID(e+1))==null?void 0:t.type}.svg`],self.location).href}}},Fg=_e({...Mg,__name:"Stats",setup(e){return(t,s)=>(S(),k("div",fg,[t.players.length?(S(),k("div",pg,[h("table",null,[h("tr",null,[gg,(S(!0),k(J,null,be(t.players,(i,n)=>(S(),k("td",{key:n},[h("h4",{class:ee(`p${i.id}-color`)},q(i.name()),3)]))),128))]),(S(!0),k(J,null,be(t.players[0].stats,(i,n,r)=>(S(),k("tr",{key:r},[h("td",mg,q(Lo(V).statStrings[n]),1),(S(!0),k(J,null,be(t.players,(o,a)=>(S(),k("td",{key:a,class:ee(t.highestPlayerScoreForStat(o,n)?"gold":"")},q(o.stats[n]),3))),128))]))),128))])])):Ue("",!0),h("div",_g,[h("table",null,[yg,(S(!0),k(J,null,be(t.stats.rollSpread,(i,n)=>(S(),k("tr",{key:n},[h("td",null,q(n+2),1),h("td",{class:ee(t.highestNumberForSpread(t.stats.rollSpread)===i?"gold":"")},q(i),3)]))),128))])]),h("div",vg,[h("div",bg,[wg,pt(" "+q(t.stats.turnsCount),1)]),h("div",Tg,[Cg,h("table",null,[h("tr",null,[(S(!0),k(J,null,be(t.stats.unitSpread,(i,n)=>(S(),k("td",{key:n},[h("img",{src:t.unitIconForIndex(n)},null,8,Sg)]))),128))]),h("tr",null,[(S(!0),k(J,null,be(t.stats.unitSpread,(i,n)=>(S(),k("td",{key:n,class:ee(t.highestNumberForSpread(t.stats.unitSpread)===i?"gold":"")},q(i),3))),128))]),Eg])]),h("div",kg,[Ag,pt(" "+q(t.stats.battlesCount),1)]),h("div",xg,[$g,h("table",null,[h("tr",null,[(S(!0),k(J,null,be(t.stats.resourceSpread,(i,n)=>(S(),k("td",{key:n},[h("div",{id:`stat-resource-${n}`,class:"color"},Ig,8,Og)]))),128))]),h("tr",null,[(S(!0),k(J,null,be(t.stats.resourceSpread,(i,n)=>(S(),k("td",{key:n,class:ee(t.highestNumberForSpread(t.stats.resourceSpread)===i?"gold":"")},q(i),3))),128))]),Rg])]),h("div",Dg,[h("h4",null,q(t.monsterName.toCapitalized())+" Kills",1),pt(" "+q(t.stats.monsterKills),1)])])]))}});const Bg=Te(Fg,[["__scopeId","data-v-7bc235a7"]]),Ja=e=>(et("data-v-cd5d3511"),e=e(),tt(),e),Lg={class:"flex-row-spaced full-size menu"},Ug=Ja(()=>h("img",{src:Ya},null,-1)),Ng=Ja(()=>h("span",null,"New Game",-1)),jg=[Ug,Ng],Hg={data(){return{show:!1}},computed:{...ye(O,["playerWinner","victoryString"])},watch:{playerWinner(){this.playerWinner&&(this.show=!0)}},methods:{...Ee(O,["init"]),newGame(){this.show=!1,setTimeout(()=>{this.init()},500)}}},Vg=_e({...Hg,__name:"Victory",setup(e){return(t,s)=>(S(),Re(ws,{show:t.show,backdrop:""},{default:bt(()=>[h("div",Lg,[t.playerWinner?(S(),k("h1",{key:0,class:ee(`p${t.playerWinner.id}-color`)},q(t.playerWinner.name())+" Wins! ",3)):Ue("",!0),h("h3",null,q(t.victoryString.toUpperCase()),1),h("button",{onClick:s[0]||(s[0]=(...i)=>t.newGame&&t.newGame(...i)),class:"flex-row-spaced shadowed"},jg)]),t.playerWinner?(S(),Re(Bg,{key:0})):Ue("",!0)]),_:1},8,["show"]))}});const Wg=Te(Vg,[["__scopeId","data-v-cd5d3511"]]),qg={class:"container"},zg={ref:"dice1",class:"dice dice-one"},Kg=pa('<div id="dice-one-side-one" class="side one" data-v-58335330><div class="dot one-1" data-v-58335330></div></div><div id="dice-one-side-two" class="side two" data-v-58335330><div class="dot two-1" data-v-58335330></div><div class="dot two-2" data-v-58335330></div></div><div id="dice-one-side-three" class="side three" data-v-58335330><div class="dot three-1" data-v-58335330></div><div class="dot three-2" data-v-58335330></div><div class="dot three-3" data-v-58335330></div></div><div id="dice-one-side-four" class="side four" data-v-58335330><div class="dot four-1" data-v-58335330></div><div class="dot four-2" data-v-58335330></div><div class="dot four-3" data-v-58335330></div><div class="dot four-4" data-v-58335330></div></div><div id="dice-one-side-five" class="side five" data-v-58335330><div class="dot five-1" data-v-58335330></div><div class="dot five-2" data-v-58335330></div><div class="dot five-3" data-v-58335330></div><div class="dot five-4" data-v-58335330></div><div class="dot five-5" data-v-58335330></div></div><div id="dice-one-side-six" class="side six" data-v-58335330><div class="dot six-1" data-v-58335330></div><div class="dot six-2" data-v-58335330></div><div class="dot six-3" data-v-58335330></div><div class="dot six-4" data-v-58335330></div><div class="dot six-5" data-v-58335330></div><div class="dot six-6" data-v-58335330></div></div>',6),Gg=[Kg],Yg={class:"container"},Jg={ref:"dice2",class:"dice dice-two"},Xg=pa('<div id="dice-two-side-one" class="side one" data-v-58335330><div class="dot one-1" data-v-58335330></div></div><div id="dice-two-side-two" class="side two" data-v-58335330><div class="dot two-1" data-v-58335330></div><div class="dot two-2" data-v-58335330></div></div><div id="dice-two-side-three" class="side three" data-v-58335330><div class="dot three-1" data-v-58335330></div><div class="dot three-2" data-v-58335330></div><div class="dot three-3" data-v-58335330></div></div><div id="dice-two-side-four" class="side four" data-v-58335330><div class="dot four-1" data-v-58335330></div><div class="dot four-2" data-v-58335330></div><div class="dot four-3" data-v-58335330></div><div class="dot four-4" data-v-58335330></div></div><div id="dice-two-side-five" class="side five" data-v-58335330><div class="dot five-1" data-v-58335330></div><div class="dot five-2" data-v-58335330></div><div class="dot five-3" data-v-58335330></div><div class="dot five-4" data-v-58335330></div><div class="dot five-5" data-v-58335330></div></div><div id="dice-two-side-six" class="side six" data-v-58335330><div class="dot six-1" data-v-58335330></div><div class="dot six-2" data-v-58335330></div><div class="dot six-3" data-v-58335330></div><div class="dot six-4" data-v-58335330></div><div class="dot six-5" data-v-58335330></div><div class="dot six-6" data-v-58335330></div></div>',6),Qg=[Xg],Zg={computed:{...ye(O,["turn","isOpponentTurn","rolled"]),enabled(){return!this.rolled&&!this.isOpponentTurn}},watch:{rolled(){this.rolled&&this.animateDice()}},methods:{...Ee(O,["rollDice"]),throwDice(){this.enabled&&this.rollDice()},animateDice(){const e=this.$refs,t=e.dice1,s=e.dice2;!t||!s||(this.animateDie(t,this.turn.roll.dieOne),this.animateDie(s,this.turn.roll.dieTwo))},animateDie(e,t){for(var s=1;s<=6;s++){const i=`show-${s}-a`,n=`show-${s}-b`,r=e.classList.contains(i);e.classList.remove(i),e.classList.remove(n),t===s&&(r?e.classList.add(n):e.classList.add(i))}}}},em=_e({...Zg,__name:"Dice",setup(e){return(t,s)=>(S(),k("div",{id:"dice",class:ee(["tooltip",["shadowed",t.enabled?"enabled":"",`p${t.turn.player}-dice`]]),"data-tooltip":"Go ahead and give 'em a toss!",onClick:s[0]||(s[0]=(...i)=>t.throwDice&&t.throwDice(...i))},[h("div",qg,[h("div",zg,Gg,512)]),h("div",Yg,[h("div",Jg,Qg,512)])],2))}});const tm=Te(em,[["__scopeId","data-v-58335330"]]),sm="/assets/move-75d7174f.svg",im="/assets/offense-bbc31d54.svg",nm="/assets/defense-bd9c3f5b.svg",rm="/assets/ranged-c9fa731e.svg",Ts=e=>(et("data-v-7d0f6f85"),e=e(),tt(),e),om={class:"cost"},am={class:"unit-details"},lm={class:"stats flex-row-spaced"},cm={class:"stat flex-row-spaced"},um=Ts(()=>h("img",{src:sm},null,-1)),dm={class:"stat flex-row-spaced"},hm=Ts(()=>h("img",{src:im},null,-1)),fm={class:"stat flex-row-spaced"},pm=Ts(()=>h("img",{src:nm},null,-1)),gm={class:"stat flex-row-spaced"},mm=Ts(()=>h("img",{src:rm},null,-1)),_m={class:"flex-row-center"},ym=["id"],vm=Ts(()=>h("div",{class:"mask"},null,-1)),bm=[vm],wm={props:{unit:{type:Pa,default:null}},computed:{...ye(O,["playerActive"])},mounted(){this.$nextTick(()=>{this.styleResources()})},methods:{...Ee(O,["styleResource","resourceForID"]),styleResources(){this.unit.cost.forEach(e=>{const t=this.resourceForID(e[0]),s=`cost-${e[0]}-${this.unit.type}`;t&&this.styleResource(s,t.type)})}}},Tm=_e({...wm,__name:"Cost",setup(e){return(t,s)=>(S(),k("div",om,[h("div",am,[h("h2",null,q(e.unit.type.toCapitalized()),1),h("div",lm,[h("div",cm,[um,pt(q(e.unit.move),1)]),h("div",dm,[hm,pt(q(e.unit.battle.offense),1)]),h("div",fm,[pm,pt(q(e.unit.battle.defense),1)]),h("div",gm,[mm,pt(q(e.unit.battle.ranged?"1":"0"),1)])])]),h("div",_m,[(S(!0),k(J,null,be(e.unit.cost,(i,n)=>{var r;return S(),k("div",{key:n,class:ee(["resource",(r=t.playerActive)!=null&&r.resourceCount(i[0])?"":"strikethrough"])},[h("div",{id:`cost-${i[0]}-${e.unit.type}`,class:"color"},bm,8,ym)],2)}),128))])]))}});const Cm=Te(Tm,[["__scopeId","data-v-7d0f6f85"]]),Sm={class:"train"},Em=["onClick"],km=["src"],Am={computed:{...ye(O,["train","playerActive","isOpponentTurn","unitTypes","theme"])},methods:{...Ee(O,["selectTrainUnit","canAffordUnit"]),enabled(e){return this.canAffordUnit(e)&&!this.isOpponentTurn},selectUnit(e){this.enabled(e)&&this.selectTrainUnit(e)},unitIcon(e){return new URL(Object.assign({"../assets/icons/castle.svg":gi,"../assets/icons/close.svg":mi,"../assets/icons/defense.svg":_i,"../assets/icons/flag.svg":yi,"../assets/icons/give.svg":vi,"../assets/icons/help.svg":bi,"../assets/icons/load.svg":wi,"../assets/icons/medieval/archer.svg":Ti,"../assets/icons/medieval/footman.svg":Ci,"../assets/icons/medieval/horse.svg":Si,"../assets/icons/medieval/knight.svg":Ei,"../assets/icons/medieval/ore.svg":ki,"../assets/icons/medieval/peasant.svg":Ai,"../assets/icons/medieval/rice.svg":xi,"../assets/icons/medieval/serf.svg":$i,"../assets/icons/medieval/tree.svg":Oi,"../assets/icons/medieval/wand.svg":Pi,"../assets/icons/medieval/wizard.svg":Ii,"../assets/icons/menu.svg":Ri,"../assets/icons/move.svg":Di,"../assets/icons/next.svg":Mi,"../assets/icons/offense.svg":Fi,"../assets/icons/ranged.svg":Bi,"../assets/icons/reset.svg":Li,"../assets/icons/save.svg":Ui,"../assets/icons/settings.svg":Ni,"../assets/icons/take.svg":ji,"../assets/icons/undead/coffin.svg":Hi,"../assets/icons/undead/flesh.svg":Vi,"../assets/icons/undead/ghost.svg":Wi,"../assets/icons/undead/moonshine.svg":qi,"../assets/icons/undead/remains.svg":zi,"../assets/icons/undead/scroll.svg":Ki,"../assets/icons/undead/skeleton.svg":Gi,"../assets/icons/undead/soul.svg":Yi,"../assets/icons/undead/vampire.svg":Ji,"../assets/icons/undead/werewolf.svg":Xi,"../assets/icons/undead/zombie.svg":Qi})[`../assets/icons/${this.theme}/${e.type}.svg`],self.location).href}}},xm=_e({...Am,__name:"Train",setup(e){return(t,s)=>(S(),k("div",Sm,[(S(!0),k(J,null,be(t.unitTypes,(i,n)=>{var r,o;return S(),k("button",{key:n,class:ee(["unit","shadowed",t.enabled(i)?"enabled":"disabled",i.id===t.train?`selected p${(r=t.playerActive)==null?void 0:r.id}-background`:""]),onClick:a=>t.selectUnit(i)},[h("img",{src:t.unitIcon(i),class:ee(`p${(o=t.playerActive)==null?void 0:o.id}-filter`)},null,10,km),K(Cm,{unit:i,class:"cost"},null,8,["unit"])],10,Em)}),128))]))}});const $m=Te(xm,[["__scopeId","data-v-139ae0e0"]]),lr=e=>(et("data-v-5f58c0b3"),e=e(),tt(),e),Om={class:"flex-row-spaced"},Pm={class:"third flex-row-centered"},Im={key:0},Rm={key:0,class:"third flex-row-spaced"},Dm=lr(()=>h("div",null,null,-1)),Mm={key:0},Fm=lr(()=>h("div",null,null,-1)),Bm={key:1,class:"third flex-row-spaced"},Lm=lr(()=>h("div",null,null,-1)),Um={key:2},Nm={computed:{...ye(O,["monster","monsterName","battling","rolled","turnPhase","startPhase","rollPhase","marchPhase","playerActive","isOpponentTurn"]),nextEnabled(){return!(this.isOpponentTurn||this.rollPhase&&!this.rolled||this.rollPhase&&this.monster.moving||this.battling)},monsterMove(){return V.monsterMove.replace("monster",this.monsterName)}},methods:{...Ee(O,["newTurn"]),clickNext(){this.nextEnabled&&this.newTurn()}}},jm=_e({...Nm,__name:"Footer",setup(e){return(t,s)=>(S(),k("footer",Om,[h("div",Pm,[t.playerActive?(S(),k("h2",Im,[h("span",{class:ee(`p${t.playerActive.id}-color`)},q(t.playerActive.name())+"'s Turn",3)])):Ue("",!0),h("span",null,q(t.turnPhase.description),1)]),t.startPhase?Ue("",!0):(S(),k("div",Rm,[Dm,t.monster.moving?(S(),k("h2",Mm,q(t.monsterMove),1)):t.marchPhase&&!t.isOpponentTurn?(S(),Re($m,{key:1})):Ue("",!0),Fm])),!t.startPhase&&t.playerActive?(S(),k("div",Bm,[Lm,K(tm),h("button",{class:ee(["tooltip",["shadowed",t.nextEnabled?"enabled":"disabled"]]),"data-tooltip":"End your turn?",onClick:s[0]||(s[0]=(...i)=>t.clickNext&&t.clickNext(...i))},[h("img",{src:or,class:ee(`p${t.playerActive.id}-filter`)},null,2)],2)])):(S(),k("div",Um))]))}});const Hm=Te(jm,[["__scopeId","data-v-5f58c0b3"]]),Vm={key:0,class:"window-height flex-column-spaced"},Wm={class:"flex-row-spaced"},qm={data(){return{unlocked:!1}},computed:{...ye(O,["players"])},mounted(){this.checkKeyEntry(),this.unlocked&&(this.init(),this.$nextTick(()=>{this.checkDebugParam()}))},methods:{...Ee(O,["init"]),checkKeyEntry(){const e=window.location.search;new URLSearchParams(e).get("key")==="kgs"&&(this.unlocked=!0)},checkDebugParam(){const e=window.location.search,s=new URLSearchParams(e).get("debug");s&&console.log(s)}}},zm=_e({...qm,__name:"App",setup(e){return(t,s)=>t.unlocked?(S(),k("div",Vm,[K(vh),h("main",Wm,[K(Ch),K(ho,{player:t.players[0]},null,8,["player"]),K(Of),K(ho,{player:t.players[1]},null,8,["player"]),K(qf)]),K(Uf),K(Hh),K(Cp),K(Np),K(lg),K(hg),K(Wg),K(Hm)])):Ue("",!0)}}),Xa=Mu(zm);Xa.use(Lu());Xa.mount("#app");
