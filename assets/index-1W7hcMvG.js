var ha=Object.defineProperty;var pa=(e,t,n)=>t in e?ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var le=(e,t,n)=>(pa(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};Array.prototype.shuffle=function(){return this.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e)};Array.prototype.allEqual=function(){return new Set(this).size===1};String.prototype.toCapitalized=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.toEachCapitalized=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")};Number.prototype.roll=function(){return Math.floor(this*Math.random())+1};Number.prototype.chance=function(){const e=this;return e<Math.floor(Math.random()*100)+1?0:e};DOMRect.prototype.contains=function(e,t){return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height};HTMLElement.prototype.containsPoint=function(e,t){const n=this.getBoundingClientRect();return n.x<=e&&e<=n.x+n.width&&n.y<=t&&t<=n.y+n.height};HTMLElement.prototype.center=function(){const e=this.offsetLeft+this.offsetWidth/2,t=this.offsetTop+this.offsetHeight/2;return new DOMPoint(e,t)};/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ts(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const we={},cn=[],Qe=()=>{},ga=()=>!1,wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Cs=e=>e.startsWith("onUpdate:"),Le=Object.assign,ks=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_a=Object.prototype.hasOwnProperty,ce=(e,t)=>_a.call(e,t),z=Array.isArray,un=e=>Ar(e)==="[object Map]",wo=e=>Ar(e)==="[object Set]",Z=e=>typeof e=="function",Ce=e=>typeof e=="string",mn=e=>typeof e=="symbol",ve=e=>e!==null&&typeof e=="object",Ao=e=>(ve(e)||Z(e))&&Z(e.then)&&Z(e.catch),Eo=Object.prototype.toString,Ar=e=>Eo.call(e),ma=e=>Ar(e).slice(8,-1),xo=e=>Ar(e)==="[object Object]",Rs=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,or=Ts(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Er=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ya=/-(\w)/g,hn=Er(e=>e.replace(ya,(t,n)=>n?n.toUpperCase():"")),va=/\B([A-Z])/g,yn=Er(e=>e.replace(va,"-$1").toLowerCase()),So=Er(e=>e.charAt(0).toUpperCase()+e.slice(1)),Hr=Er(e=>e?`on${So(e)}`:""),Nt=(e,t)=>!Object.is(e,t),Vr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},hr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ba=e=>{const t=parseFloat(e);return isNaN(t)?e:t},wa=e=>{const t=Ce(e)?Number(e):NaN;return isNaN(t)?e:t};let oi;const Oo=()=>oi||(oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Is(e){if(z(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ce(r)?Sa(r):Is(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(Ce(e)||ve(e))return e}const Aa=/;(?![^(]*\))/g,Ea=/:([^]+)/,xa=/\/\*[^]*?\*\//g;function Sa(e){const t={};return e.replace(xa,"").split(Aa).forEach(n=>{if(n){const r=n.split(Ea);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function me(e){let t="";if(Ce(e))t=e;else if(z(e))for(let n=0;n<e.length;n++){const r=me(e[n]);r&&(t+=r+" ")}else if(ve(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Oa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pa=Ts(Oa);function Po(e){return!!e||e===""}const Me=e=>Ce(e)?e:e==null?"":z(e)||ve(e)&&(e.toString===Eo||!Z(e.toString))?JSON.stringify(e,To,2):String(e),To=(e,t)=>t&&t.__v_isRef?To(e,t.value):un(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[Ur(r,o)+" =>"]=s,n),{})}:wo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ur(n))}:mn(t)?Ur(t):ve(t)&&!z(t)&&!xo(t)?String(t):t,Ur=(e,t="")=>{var n;return mn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class Co{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ze,!t&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ze;try{return ze=this,t()}finally{ze=n}}}on(){ze=this}off(){ze=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ko(e){return new Co(e)}function Ta(e,t=ze){t&&t.active&&t.effects.push(e)}function Ro(){return ze}function Ca(e){ze&&ze.cleanups.push(e)}let Xt;class Ls{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ta(this,s)}get dirty(){if(this._dirtyLevel===1){Jt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(ka(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Zt()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Mt,n=Xt;try{return Mt=!0,Xt=this,this._runnings++,li(this),this.fn()}finally{ai(this),this._runnings--,Xt=n,Mt=t}}stop(){var t;this.active&&(li(this),ai(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function ka(e){return e.value}function li(e){e._trackId++,e._depsLength=0}function ai(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Io(e.deps[t],e);e.deps.length=e._depsLength}}function Io(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Mt=!0,ns=0;const Lo=[];function Jt(){Lo.push(Mt),Mt=!1}function Zt(){const e=Lo.pop();Mt=e===void 0?!0:e}function Bs(){ns++}function Ms(){for(ns--;!ns&&rs.length;)rs.shift()()}function Bo(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Io(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const rs=[];function Mo(e,t,n){Bs();for(const r of e.keys())if(r._dirtyLevel<t&&e.get(r)===r._trackId){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(r._shouldSchedule=!0,r.trigger())}$o(e),Ms()}function $o(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,rs.push(t.scheduler))}const No=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},pr=new WeakMap,Yt=Symbol(""),ss=Symbol("");function je(e,t,n){if(Mt&&Xt){let r=pr.get(e);r||pr.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=No(()=>r.delete(n))),Bo(Xt,s)}}function vt(e,t,n,r,s,o){const a=pr.get(e);if(!a)return;let f=[];if(t==="clear")f=[...a.values()];else if(n==="length"&&z(e)){const c=Number(r);a.forEach((d,h)=>{(h==="length"||!mn(h)&&h>=c)&&f.push(d)})}else switch(n!==void 0&&f.push(a.get(n)),t){case"add":z(e)?Rs(n)&&f.push(a.get("length")):(f.push(a.get(Yt)),un(e)&&f.push(a.get(ss)));break;case"delete":z(e)||(f.push(a.get(Yt)),un(e)&&f.push(a.get(ss)));break;case"set":un(e)&&f.push(a.get(Yt));break}Bs();for(const c of f)c&&Mo(c,2);Ms()}function Ra(e,t){var n;return(n=pr.get(e))==null?void 0:n.get(t)}const Ia=Ts("__proto__,__v_isRef,__isVue"),Fo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mn)),ci=La();function La(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ie(this);for(let o=0,a=this.length;o<a;o++)je(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(ie)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Jt(),Bs();const r=ie(this)[t].apply(this,n);return Ms(),Zt(),r}}),e}function Ba(e){const t=ie(this);return je(t,"has",e),t.hasOwnProperty(e)}class Do{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?Ga:qo:o?Uo:Vo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=z(t);if(!s){if(a&&ce(ci,n))return Reflect.get(ci,n,r);if(n==="hasOwnProperty")return Ba}const f=Reflect.get(t,n,r);return(mn(n)?Fo.has(n):Ia(n))||(s||je(t,"get",n),o)?f:Se(f)?a&&Rs(n)?f:f.value:ve(f)?s?Wo(f):Wn(f):f}}class Ho extends Do{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];if(!this._shallow){const c=pn(o);if(!gr(r)&&!pn(r)&&(o=ie(o),r=ie(r)),!z(t)&&Se(o)&&!Se(r))return c?!1:(o.value=r,!0)}const a=z(t)&&Rs(n)?Number(n)<t.length:ce(t,n),f=Reflect.set(t,n,r,s);return t===ie(s)&&(a?Nt(r,o)&&vt(t,"set",n,r):vt(t,"add",n,r)),f}deleteProperty(t,n){const r=ce(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&vt(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!mn(n)||!Fo.has(n))&&je(t,"has",n),r}ownKeys(t){return je(t,"iterate",z(t)?"length":Yt),Reflect.ownKeys(t)}}class Ma extends Do{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const $a=new Ho,Na=new Ma,Fa=new Ho(!0),$s=e=>e,xr=e=>Reflect.getPrototypeOf(e);function Xn(e,t,n=!1,r=!1){e=e.__v_raw;const s=ie(e),o=ie(t);n||(Nt(t,o)&&je(s,"get",t),je(s,"get",o));const{has:a}=xr(s),f=r?$s:n?Ds:Mn;if(a.call(s,t))return f(e.get(t));if(a.call(s,o))return f(e.get(o));e!==s&&e.get(t)}function Yn(e,t=!1){const n=this.__v_raw,r=ie(n),s=ie(e);return t||(Nt(e,s)&&je(r,"has",e),je(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Qn(e,t=!1){return e=e.__v_raw,!t&&je(ie(e),"iterate",Yt),Reflect.get(e,"size",e)}function ui(e){e=ie(e);const t=ie(this);return xr(t).has.call(t,e)||(t.add(e),vt(t,"add",e,e)),this}function fi(e,t){t=ie(t);const n=ie(this),{has:r,get:s}=xr(n);let o=r.call(n,e);o||(e=ie(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?Nt(t,a)&&vt(n,"set",e,t):vt(n,"add",e,t),this}function di(e){const t=ie(this),{has:n,get:r}=xr(t);let s=n.call(t,e);s||(e=ie(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&vt(t,"delete",e,void 0),o}function hi(){const e=ie(this),t=e.size!==0,n=e.clear();return t&&vt(e,"clear",void 0,void 0),n}function Jn(e,t){return function(r,s){const o=this,a=o.__v_raw,f=ie(a),c=t?$s:e?Ds:Mn;return!e&&je(f,"iterate",Yt),a.forEach((d,h)=>r.call(s,c(d),c(h),o))}}function Zn(e,t,n){return function(...r){const s=this.__v_raw,o=ie(s),a=un(o),f=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,d=s[e](...r),h=n?$s:t?Ds:Mn;return!t&&je(o,"iterate",c?ss:Yt),{next(){const{value:i,done:l}=d.next();return l?{value:i,done:l}:{value:f?[h(i[0]),h(i[1])]:h(i),done:l}},[Symbol.iterator](){return this}}}}function xt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Da(){const e={get(o){return Xn(this,o)},get size(){return Qn(this)},has:Yn,add:ui,set:fi,delete:di,clear:hi,forEach:Jn(!1,!1)},t={get(o){return Xn(this,o,!1,!0)},get size(){return Qn(this)},has:Yn,add:ui,set:fi,delete:di,clear:hi,forEach:Jn(!1,!0)},n={get(o){return Xn(this,o,!0)},get size(){return Qn(this,!0)},has(o){return Yn.call(this,o,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:Jn(!0,!1)},r={get(o){return Xn(this,o,!0,!0)},get size(){return Qn(this,!0)},has(o){return Yn.call(this,o,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:Jn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Zn(o,!1,!1),n[o]=Zn(o,!0,!1),t[o]=Zn(o,!1,!0),r[o]=Zn(o,!0,!0)}),[e,n,t,r]}const[Ha,Va,Ua,qa]=Da();function Ns(e,t){const n=t?e?qa:Ua:e?Va:Ha;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(ce(n,s)&&s in r?n:r,s,o)}const ja={get:Ns(!1,!1)},Wa={get:Ns(!1,!0)},za={get:Ns(!0,!1)},Vo=new WeakMap,Uo=new WeakMap,qo=new WeakMap,Ga=new WeakMap;function Ka(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xa(e){return e.__v_skip||!Object.isExtensible(e)?0:Ka(ma(e))}function Wn(e){return pn(e)?e:Fs(e,!1,$a,ja,Vo)}function jo(e){return Fs(e,!1,Fa,Wa,Uo)}function Wo(e){return Fs(e,!0,Na,za,qo)}function Fs(e,t,n,r,s){if(!ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=Xa(e);if(a===0)return e;const f=new Proxy(e,a===2?r:n);return s.set(e,f),f}function bt(e){return pn(e)?bt(e.__v_raw):!!(e&&e.__v_isReactive)}function pn(e){return!!(e&&e.__v_isReadonly)}function gr(e){return!!(e&&e.__v_isShallow)}function zo(e){return bt(e)||pn(e)}function ie(e){const t=e&&e.__v_raw;return t?ie(t):e}function zn(e){return hr(e,"__v_skip",!0),e}const Mn=e=>ve(e)?Wn(e):e,Ds=e=>ve(e)?Wo(e):e;class Go{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ls(()=>t(this._value),()=>lr(this,1),()=>this.dep&&$o(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=ie(this);return(!t._cacheable||t.effect.dirty)&&Nt(t._value,t._value=t.effect.run())&&lr(t,2),Ko(t),t.effect._dirtyLevel>=1&&lr(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Ya(e,t,n=!1){let r,s;const o=Z(e);return o?(r=e,s=Qe):(r=e.get,s=e.set),new Go(r,s,o||!s,n)}function Ko(e){Mt&&Xt&&(e=ie(e),Bo(Xt,e.dep||(e.dep=No(()=>e.dep=void 0,e instanceof Go?e:void 0))))}function lr(e,t=2,n){e=ie(e);const r=e.dep;r&&Mo(r,t)}function Se(e){return!!(e&&e.__v_isRef===!0)}function dt(e){return Xo(e,!1)}function Qa(e){return Xo(e,!0)}function Xo(e,t){return Se(e)?e:new Ja(e,t)}class Ja{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ie(t),this._value=n?t:Mn(t)}get value(){return Ko(this),this._value}set value(t){const n=this.__v_isShallow||gr(t)||pn(t);t=n?t:ie(t),Nt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Mn(t),lr(this,2))}}function j(e){return Se(e)?e.value:e}const Za={get:(e,t,n)=>j(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Se(s)&&!Se(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Yo(e){return bt(e)?e:new Proxy(e,Za)}function ec(e){const t=z(e)?new Array(e.length):{};for(const n in e)t[n]=Qo(e,n);return t}class tc{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ra(ie(this._object),this._key)}}class nc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function rc(e,t,n){return Se(e)?e:Z(e)?new nc(e):ve(e)&&arguments.length>1?Qo(e,t,n):dt(e)}function Qo(e,t,n){const r=e[t];return Se(r)?r:new tc(e,t,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $t(e,t,n,r){let s;try{s=r?e(...r):e()}catch(o){Sr(o,t,n)}return s}function Je(e,t,n,r){if(Z(e)){const o=$t(e,t,n,r);return o&&Ao(o)&&o.catch(a=>{Sr(a,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(Je(e[o],t,n,r));return s}function Sr(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,a,f)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){$t(c,null,10,[e,a,f]);return}}sc(e,n,s,r)}function sc(e,t,n,r=!0){console.error(e)}let $n=!1,is=!1;const He=[];let ut=0;const fn=[];let Ct=null,zt=0;const Jo=Promise.resolve();let Hs=null;function Fe(e){const t=Hs||Jo;return e?t.then(this?e.bind(this):e):t}function ic(e){let t=ut+1,n=He.length;for(;t<n;){const r=t+n>>>1,s=He[r],o=Nn(s);o<e||o===e&&s.pre?t=r+1:n=r}return t}function Vs(e){(!He.length||!He.includes(e,$n&&e.allowRecurse?ut+1:ut))&&(e.id==null?He.push(e):He.splice(ic(e.id),0,e),Zo())}function Zo(){!$n&&!is&&(is=!0,Hs=Jo.then(tl))}function oc(e){const t=He.indexOf(e);t>ut&&He.splice(t,1)}function lc(e){z(e)?fn.push(...e):(!Ct||!Ct.includes(e,e.allowRecurse?zt+1:zt))&&fn.push(e),Zo()}function pi(e,t,n=$n?ut+1:0){for(;n<He.length;n++){const r=He[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;He.splice(n,1),n--,r()}}}function el(e){if(fn.length){const t=[...new Set(fn)].sort((n,r)=>Nn(n)-Nn(r));if(fn.length=0,Ct){Ct.push(...t);return}for(Ct=t,zt=0;zt<Ct.length;zt++)Ct[zt]();Ct=null,zt=0}}const Nn=e=>e.id==null?1/0:e.id,ac=(e,t)=>{const n=Nn(e)-Nn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function tl(e){is=!1,$n=!0,He.sort(ac);try{for(ut=0;ut<He.length;ut++){const t=He[ut];t&&t.active!==!1&&$t(t,null,14)}}finally{ut=0,He.length=0,el(),$n=!1,Hs=null,(He.length||fn.length)&&tl()}}function cc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||we;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const h=`${a==="modelValue"?"model":a}Modifiers`,{number:i,trim:l}=r[h]||we;l&&(s=n.map(u=>Ce(u)?u.trim():u)),i&&(s=n.map(ba))}let f,c=r[f=Hr(t)]||r[f=Hr(hn(t))];!c&&o&&(c=r[f=Hr(yn(t))]),c&&Je(c,e,6,s);const d=r[f+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,Je(d,e,6,s)}}function nl(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let a={},f=!1;if(!Z(e)){const c=d=>{const h=nl(d,t,!0);h&&(f=!0,Le(a,h))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!f?(ve(e)&&r.set(e,null),null):(z(o)?o.forEach(c=>a[c]=null):Le(a,o),ve(e)&&r.set(e,a),a)}function Or(e,t){return!e||!wr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,yn(t))||ce(e,t))}let Re=null,Pr=null;function _r(e){const t=Re;return Re=e,Pr=e&&e.type.__scopeId||null,t}function Dt(e){Pr=e}function Ht(){Pr=null}function st(e,t=Re,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Si(-1);const o=_r(t);let a;try{a=e(...s)}finally{_r(o),r._d&&Si(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function qr(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[a],slots:f,attrs:c,emit:d,render:h,renderCache:i,data:l,setupState:u,ctx:p,inheritAttrs:m}=e;let v,_;const w=_r(e);try{if(n.shapeFlag&4){const k=s||r,H=k;v=ct(h.call(H,k,i,o,u,l,p)),_=c}else{const k=t;v=ct(k.length>1?k(o,{attrs:c,slots:f,emit:d}):k(o,null)),_=t.props?c:uc(c)}}catch(k){kn.length=0,Sr(k,e,1),v=ue(Ze)}let S=v;if(_&&m!==!1){const k=Object.keys(_),{shapeFlag:H}=S;k.length&&H&7&&(a&&k.some(Cs)&&(_=fc(_,a)),S=Ft(S,_))}return n.dirs&&(S=Ft(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),v=S,_r(w),v}const uc=e=>{let t;for(const n in e)(n==="class"||n==="style"||wr(n))&&((t||(t={}))[n]=e[n]);return t},fc=(e,t)=>{const n={};for(const r in e)(!Cs(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function dc(e,t,n){const{props:r,children:s,component:o}=e,{props:a,children:f,patchFlag:c}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?gi(r,a,d):!!a;if(c&8){const h=t.dynamicProps;for(let i=0;i<h.length;i++){const l=h[i];if(a[l]!==r[l]&&!Or(d,l))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:r===a?!1:r?a?gi(r,a,d):!0:!!a;return!1}function gi(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!Or(n,o))return!0}return!1}function hc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const pc=Symbol.for("v-ndc"),gc=e=>e.__isSuspense;function _c(e,t){t&&t.pendingBranch?z(e)?t.effects.push(...e):t.effects.push(e):lc(e)}const mc=Symbol.for("v-scx"),yc=()=>rt(mc),er={};function wt(e,t,n){return rl(e,t,n)}function rl(e,t,{immediate:n,deep:r,flush:s,once:o,onTrack:a,onTrigger:f}=we){if(t&&o){const D=t;t=(...J)=>{D(...J),H()}}const c=Ne,d=D=>r===!0?D:Kt(D,r===!1?1:void 0);let h,i=!1,l=!1;if(Se(e)?(h=()=>e.value,i=gr(e)):bt(e)?(h=()=>d(e),i=!0):z(e)?(l=!0,i=e.some(D=>bt(D)||gr(D)),h=()=>e.map(D=>{if(Se(D))return D.value;if(bt(D))return d(D);if(Z(D))return $t(D,c,2)})):Z(e)?t?h=()=>$t(e,c,2):h=()=>(u&&u(),Je(e,c,3,[p])):h=Qe,t&&r){const D=h;h=()=>Kt(D())}let u,p=D=>{u=S.onStop=()=>{$t(D,c,4),u=S.onStop=void 0}},m;if(Lr)if(p=Qe,t?n&&Je(t,c,3,[h(),l?[]:void 0,p]):h(),s==="sync"){const D=yc();m=D.__watcherHandles||(D.__watcherHandles=[])}else return Qe;let v=l?new Array(e.length).fill(er):er;const _=()=>{if(!(!S.active||!S.dirty))if(t){const D=S.run();(r||i||(l?D.some((J,I)=>Nt(J,v[I])):Nt(D,v)))&&(u&&u(),Je(t,c,3,[D,v===er?void 0:l&&v[0]===er?[]:v,p]),v=D)}else S.run()};_.allowRecurse=!!t;let w;s==="sync"?w=_:s==="post"?w=()=>qe(_,c&&c.suspense):(_.pre=!0,c&&(_.id=c.uid),w=()=>Vs(_));const S=new Ls(h,Qe,w),k=Ro(),H=()=>{S.stop(),k&&ks(k.effects,S)};return t?n?_():v=S.run():s==="post"?qe(S.run.bind(S),c&&c.suspense):S.run(),m&&m.push(H),H}function vc(e,t,n){const r=this.proxy,s=Ce(e)?e.includes(".")?sl(r,e):()=>r[e]:e.bind(r,r);let o;Z(t)?o=t:(o=t.handler,n=t);const a=Gn(this),f=rl(s,o.bind(r),n);return a(),f}function sl(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Kt(e,t,n=0,r){if(!ve(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),Se(e))Kt(e.value,t,n,r);else if(z(e))for(let s=0;s<e.length;s++)Kt(e[s],t,n,r);else if(wo(e)||un(e))e.forEach(s=>{Kt(s,t,n,r)});else if(xo(e))for(const s in e)Kt(e[s],t,n,r);return e}function os(e,t){if(Re===null)return e;const n=Br(Re)||Re.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,f,c=we]=t[s];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&Kt(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:f,modifiers:c}))}return e}function Ut(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const f=s[a];o&&(f.oldValue=o[a].value);let c=f.dir[r];c&&(Jt(),Je(c,n,8,[e.el,f,e,t]),Zt())}}const kt=Symbol("_leaveCb"),tr=Symbol("_enterCb");function bc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{e.isMounted=!0}),kr(()=>{e.isUnmounting=!0}),e}const Xe=[Function,Array],il={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xe,onEnter:Xe,onAfterEnter:Xe,onEnterCancelled:Xe,onBeforeLeave:Xe,onLeave:Xe,onAfterLeave:Xe,onLeaveCancelled:Xe,onBeforeAppear:Xe,onAppear:Xe,onAfterAppear:Xe,onAppearCancelled:Xe},wc={name:"BaseTransition",props:il,setup(e,{slots:t}){const n=lu(),r=bc();let s;return()=>{const o=t.default&&ll(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const m of o)if(m.type!==Ze){a=m;break}}const f=ie(e),{mode:c}=f;if(r.isLeaving)return jr(a);const d=_i(a);if(!d)return jr(a);const h=ls(d,f,r,n);as(d,h);const i=n.subTree,l=i&&_i(i);let u=!1;const{getTransitionKey:p}=d.type;if(p){const m=p();s===void 0?s=m:m!==s&&(s=m,u=!0)}if(l&&l.type!==Ze&&(!Gt(d,l)||u)){const m=ls(l,f,r,n);if(as(l,m),c==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},jr(a);c==="in-out"&&d.type!==Ze&&(m.delayLeave=(v,_,w)=>{const S=ol(r,l);S[String(l.key)]=l,v[kt]=()=>{_(),v[kt]=void 0,delete h.delayedLeave},h.delayedLeave=w})}return a}}},Ac=wc;function ol(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ls(e,t,n,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:f,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:i,onLeave:l,onAfterLeave:u,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:_,onAppearCancelled:w}=t,S=String(e.key),k=ol(n,e),H=(I,R)=>{I&&Je(I,r,9,R)},D=(I,R)=>{const G=R[1];H(I,R),z(I)?I.every(oe=>oe.length<=1)&&G():I.length<=1&&G()},J={mode:o,persisted:a,beforeEnter(I){let R=f;if(!n.isMounted)if(s)R=m||f;else return;I[kt]&&I[kt](!0);const G=k[S];G&&Gt(e,G)&&G.el[kt]&&G.el[kt](),H(R,[I])},enter(I){let R=c,G=d,oe=h;if(!n.isMounted)if(s)R=v||c,G=_||d,oe=w||h;else return;let P=!1;const ee=I[tr]=_e=>{P||(P=!0,_e?H(oe,[I]):H(G,[I]),J.delayedLeave&&J.delayedLeave(),I[tr]=void 0)};R?D(R,[I,ee]):ee()},leave(I,R){const G=String(e.key);if(I[tr]&&I[tr](!0),n.isUnmounting)return R();H(i,[I]);let oe=!1;const P=I[kt]=ee=>{oe||(oe=!0,R(),ee?H(p,[I]):H(u,[I]),I[kt]=void 0,k[G]===e&&delete k[G])};k[G]=e,l?D(l,[I,P]):P()},clone(I){return ls(I,t,n,r)}};return J}function jr(e){if(Tr(e))return e=Ft(e),e.children=null,e}function _i(e){return Tr(e)?e.children?e.children[0]:void 0:e}function as(e,t){e.shapeFlag&6&&e.component?as(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ll(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let a=e[o];const f=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===ke?(a.patchFlag&128&&s++,r=r.concat(ll(a.children,t,f))):(t||a.type!==Ze)&&r.push(f!=null?Ft(a,{key:f}):a)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Pe(e,t){return Z(e)?Le({name:e.name},t,{setup:e}):e}const Tn=e=>!!e.type.__asyncLoader,Tr=e=>e.type.__isKeepAlive;function Ec(e,t){al(e,"a",t)}function xc(e,t){al(e,"da",t)}function al(e,t,n=Ne){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Cr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Tr(s.parent.vnode)&&Sc(r,t,n,s),s=s.parent}}function Sc(e,t,n,r){const s=Cr(t,e,r,!0);cl(()=>{ks(r[t],s)},n)}function Cr(e,t,n=Ne,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Jt();const f=Gn(n),c=Je(t,n,e,a);return f(),Zt(),c});return r?s.unshift(o):s.push(o),o}}const At=e=>(t,n=Ne)=>(!Lr||e==="sp")&&Cr(e,(...r)=>t(...r),n),Oc=At("bm"),Vt=At("m"),Pc=At("bu"),Tc=At("u"),kr=At("bum"),cl=At("um"),Cc=At("sp"),kc=At("rtg"),Rc=At("rtc");function Ic(e,t=Ne){Cr("ec",e,t)}function Qt(e,t,n,r){let s;const o=n&&n[r];if(z(e)||Ce(e)){s=new Array(e.length);for(let a=0,f=e.length;a<f;a++)s[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o&&o[a])}else if(ve(e))if(e[Symbol.iterator])s=Array.from(e,(a,f)=>t(a,f,void 0,o&&o[f]));else{const a=Object.keys(e);s=new Array(a.length);for(let f=0,c=a.length;f<c;f++){const d=a[f];s[f]=t(e[d],d,f,o&&o[f])}}else s=[];return n&&(n[r]=s),s}function Lc(e,t,n={},r,s){if(Re.isCE||Re.parent&&Tn(Re.parent)&&Re.parent.isCE)return t!=="default"&&(n.name=t),ue("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),Q();const a=o&&ul(o(n)),f=Ie(ke,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!s&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),o&&o._c&&(o._d=!0),f}function ul(e){return e.some(t=>yr(t)?!(t.type===Ze||t.type===ke&&!ul(t.children)):!0)?e:null}const cs=e=>e?Al(e)?Br(e)||e.proxy:cs(e.parent):null,Cn=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cs(e.parent),$root:e=>cs(e.root),$emit:e=>e.emit,$options:e=>Us(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Vs(e.update)}),$nextTick:e=>e.n||(e.n=Fe.bind(e.proxy)),$watch:e=>vc.bind(e)}),Wr=(e,t)=>e!==we&&!e.__isScriptSetup&&ce(e,t),Bc={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:a,type:f,appContext:c}=e;let d;if(t[0]!=="$"){const u=a[t];if(u!==void 0)switch(u){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Wr(r,t))return a[t]=1,r[t];if(s!==we&&ce(s,t))return a[t]=2,s[t];if((d=e.propsOptions[0])&&ce(d,t))return a[t]=3,o[t];if(n!==we&&ce(n,t))return a[t]=4,n[t];us&&(a[t]=0)}}const h=Cn[t];let i,l;if(h)return t==="$attrs"&&je(e,"get",t),h(e);if((i=f.__cssModules)&&(i=i[t]))return i;if(n!==we&&ce(n,t))return a[t]=4,n[t];if(l=c.config.globalProperties,ce(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Wr(s,t)?(s[t]=n,!0):r!==we&&ce(r,t)?(r[t]=n,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let f;return!!n[a]||e!==we&&ce(e,a)||Wr(t,a)||(f=o[0])&&ce(f,a)||ce(r,a)||ce(Cn,a)||ce(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function mi(e){return z(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let us=!0;function Mc(e){const t=Us(e),n=e.proxy,r=e.ctx;us=!1,t.beforeCreate&&yi(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:f,provide:c,inject:d,created:h,beforeMount:i,mounted:l,beforeUpdate:u,updated:p,activated:m,deactivated:v,beforeDestroy:_,beforeUnmount:w,destroyed:S,unmounted:k,render:H,renderTracked:D,renderTriggered:J,errorCaptured:I,serverPrefetch:R,expose:G,inheritAttrs:oe,components:P,directives:ee,filters:_e}=t;if(d&&$c(d,r,null),a)for(const fe in a){const ae=a[fe];Z(ae)&&(r[fe]=ae.bind(n))}if(s){const fe=s.call(n,n);ve(fe)&&(e.data=Wn(fe))}if(us=!0,o)for(const fe in o){const ae=o[fe],pt=Z(ae)?ae.bind(n,n):Z(ae.get)?ae.get.bind(n,n):Qe,Et=!Z(ae)&&Z(ae.set)?ae.set.bind(n):Qe,ot=W({get:pt,set:Et});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>ot.value,set:Ue=>ot.value=Ue})}if(f)for(const fe in f)fl(f[fe],r,n,fe);if(c){const fe=Z(c)?c.call(n):c;Reflect.ownKeys(fe).forEach(ae=>{ar(ae,fe[ae])})}h&&yi(h,e,"c");function ne(fe,ae){z(ae)?ae.forEach(pt=>fe(pt.bind(n))):ae&&fe(ae.bind(n))}if(ne(Oc,i),ne(Vt,l),ne(Pc,u),ne(Tc,p),ne(Ec,m),ne(xc,v),ne(Ic,I),ne(Rc,D),ne(kc,J),ne(kr,w),ne(cl,k),ne(Cc,R),z(G))if(G.length){const fe=e.exposed||(e.exposed={});G.forEach(ae=>{Object.defineProperty(fe,ae,{get:()=>n[ae],set:pt=>n[ae]=pt})})}else e.exposed||(e.exposed={});H&&e.render===Qe&&(e.render=H),oe!=null&&(e.inheritAttrs=oe),P&&(e.components=P),ee&&(e.directives=ee)}function $c(e,t,n=Qe){z(e)&&(e=fs(e));for(const r in e){const s=e[r];let o;ve(s)?"default"in s?o=rt(s.from||r,s.default,!0):o=rt(s.from||r):o=rt(s),Se(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function yi(e,t,n){Je(z(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function fl(e,t,n,r){const s=r.includes(".")?sl(n,r):()=>n[r];if(Ce(e)){const o=t[e];Z(o)&&wt(s,o)}else if(Z(e))wt(s,e.bind(n));else if(ve(e))if(z(e))e.forEach(o=>fl(o,t,n,r));else{const o=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(o)&&wt(s,o,e)}}function Us(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,f=o.get(t);let c;return f?c=f:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(d=>mr(c,d,a,!0)),mr(c,t,a)),ve(t)&&o.set(t,c),c}function mr(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&mr(e,o,n,!0),s&&s.forEach(a=>mr(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const f=Nc[a]||n&&n[a];e[a]=f?f(e[a],t[a]):t[a]}return e}const Nc={data:vi,props:bi,emits:bi,methods:On,computed:On,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:On,directives:On,watch:Dc,provide:vi,inject:Fc};function vi(e,t){return t?e?function(){return Le(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Fc(e,t){return On(fs(e),fs(t))}function fs(e){if(z(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function On(e,t){return e?Le(Object.create(null),e,t):t}function bi(e,t){return e?z(e)&&z(t)?[...new Set([...e,...t])]:Le(Object.create(null),mi(e),mi(t??{})):t}function Dc(e,t){if(!e)return t;if(!t)return e;const n=Le(Object.create(null),e);for(const r in t)n[r]=Ve(e[r],t[r]);return n}function dl(){return{app:null,config:{isNativeTag:ga,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hc=0;function Vc(e,t){return function(r,s=null){Z(r)||(r=Le({},r)),s!=null&&!ve(s)&&(s=null);const o=dl(),a=new WeakSet;let f=!1;const c=o.app={_uid:Hc++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:hu,get config(){return o.config},set config(d){},use(d,...h){return a.has(d)||(d&&Z(d.install)?(a.add(d),d.install(c,...h)):Z(d)&&(a.add(d),d(c,...h))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,h){return h?(o.components[d]=h,c):o.components[d]},directive(d,h){return h?(o.directives[d]=h,c):o.directives[d]},mount(d,h,i){if(!f){const l=ue(r,s);return l.appContext=o,i===!0?i="svg":i===!1&&(i=void 0),h&&t?t(l,d):e(l,d,i),f=!0,c._container=d,d.__vue_app__=c,Br(l.component)||l.component.proxy}},unmount(){f&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,h){return o.provides[d]=h,c},runWithContext(d){Fn=c;try{return d()}finally{Fn=null}}};return c}}let Fn=null;function ar(e,t){if(Ne){let n=Ne.provides;const r=Ne.parent&&Ne.parent.provides;r===n&&(n=Ne.provides=Object.create(r)),n[e]=t}}function rt(e,t,n=!1){const r=Ne||Re;if(r||Fn){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Fn._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Z(t)?t.call(r&&r.proxy):t}}function Uc(){return!!(Ne||Re||Fn)}function qc(e,t,n,r=!1){const s={},o={};hr(o,Ir,1),e.propsDefaults=Object.create(null),hl(e,t,s,o);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:jo(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function jc(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:a}}=e,f=ie(s),[c]=e.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const h=e.vnode.dynamicProps;for(let i=0;i<h.length;i++){let l=h[i];if(Or(e.emitsOptions,l))continue;const u=t[l];if(c)if(ce(o,l))u!==o[l]&&(o[l]=u,d=!0);else{const p=hn(l);s[p]=ds(c,f,p,u,e,!1)}else u!==o[l]&&(o[l]=u,d=!0)}}}else{hl(e,t,s,o)&&(d=!0);let h;for(const i in f)(!t||!ce(t,i)&&((h=yn(i))===i||!ce(t,h)))&&(c?n&&(n[i]!==void 0||n[h]!==void 0)&&(s[i]=ds(c,f,i,void 0,e,!0)):delete s[i]);if(o!==f)for(const i in o)(!t||!ce(t,i))&&(delete o[i],d=!0)}d&&vt(e,"set","$attrs")}function hl(e,t,n,r){const[s,o]=e.propsOptions;let a=!1,f;if(t)for(let c in t){if(or(c))continue;const d=t[c];let h;s&&ce(s,h=hn(c))?!o||!o.includes(h)?n[h]=d:(f||(f={}))[h]=d:Or(e.emitsOptions,c)||(!(c in r)||d!==r[c])&&(r[c]=d,a=!0)}if(o){const c=ie(n),d=f||we;for(let h=0;h<o.length;h++){const i=o[h];n[i]=ds(s,c,i,d[i],e,!ce(d,i))}}return a}function ds(e,t,n,r,s,o){const a=e[n];if(a!=null){const f=ce(a,"default");if(f&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Z(c)){const{propsDefaults:d}=s;if(n in d)r=d[n];else{const h=Gn(s);r=d[n]=c.call(null,t),h()}}else r=c}a[0]&&(o&&!f?r=!1:a[1]&&(r===""||r===yn(n))&&(r=!0))}return r}function pl(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},f=[];let c=!1;if(!Z(e)){const h=i=>{c=!0;const[l,u]=pl(i,t,!0);Le(a,l),u&&f.push(...u)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!c)return ve(e)&&r.set(e,cn),cn;if(z(o))for(let h=0;h<o.length;h++){const i=hn(o[h]);wi(i)&&(a[i]=we)}else if(o)for(const h in o){const i=hn(h);if(wi(i)){const l=o[h],u=a[i]=z(l)||Z(l)?{type:l}:Le({},l);if(u){const p=xi(Boolean,u.type),m=xi(String,u.type);u[0]=p>-1,u[1]=m<0||p<m,(p>-1||ce(u,"default"))&&f.push(i)}}}const d=[a,f];return ve(e)&&r.set(e,d),d}function wi(e){return e[0]!=="$"}function Ai(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ei(e,t){return Ai(e)===Ai(t)}function xi(e,t){return z(t)?t.findIndex(n=>Ei(n,e)):Z(t)&&Ei(t,e)?0:-1}const gl=e=>e[0]==="_"||e==="$stable",qs=e=>z(e)?e.map(ct):[ct(e)],Wc=(e,t,n)=>{if(t._n)return t;const r=st((...s)=>qs(t(...s)),n);return r._c=!1,r},_l=(e,t,n)=>{const r=e._ctx;for(const s in e){if(gl(s))continue;const o=e[s];if(Z(o))t[s]=Wc(s,o,r);else if(o!=null){const a=qs(o);t[s]=()=>a}}},ml=(e,t)=>{const n=qs(t);e.slots.default=()=>n},zc=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ie(t),hr(t,"_",n)):_l(t,e.slots={})}else e.slots={},t&&ml(e,t);hr(e.slots,Ir,1)},Gc=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=we;if(r.shapeFlag&32){const f=t._;f?n&&f===1?o=!1:(Le(s,t),!n&&f===1&&delete s._):(o=!t.$stable,_l(t,s)),a=t}else t&&(ml(e,t),a={default:1});if(o)for(const f in s)!gl(f)&&a[f]==null&&delete s[f]};function hs(e,t,n,r,s=!1){if(z(e)){e.forEach((l,u)=>hs(l,t&&(z(t)?t[u]:t),n,r,s));return}if(Tn(r)&&!s)return;const o=r.shapeFlag&4?Br(r.component)||r.component.proxy:r.el,a=s?null:o,{i:f,r:c}=e,d=t&&t.r,h=f.refs===we?f.refs={}:f.refs,i=f.setupState;if(d!=null&&d!==c&&(Ce(d)?(h[d]=null,ce(i,d)&&(i[d]=null)):Se(d)&&(d.value=null)),Z(c))$t(c,f,12,[a,h]);else{const l=Ce(c),u=Se(c),p=e.f;if(l||u){const m=()=>{if(p){const v=l?ce(i,c)?i[c]:h[c]:c.value;s?z(v)&&ks(v,o):z(v)?v.includes(o)||v.push(o):l?(h[c]=[o],ce(i,c)&&(i[c]=h[c])):(c.value=[o],e.k&&(h[e.k]=c.value))}else l?(h[c]=a,ce(i,c)&&(i[c]=a)):u&&(c.value=a,e.k&&(h[e.k]=a))};s||p?m():(m.id=-1,qe(m,n))}}}const qe=_c;function Kc(e){return Xc(e)}function Xc(e,t){const n=Oo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:a,createText:f,createComment:c,setText:d,setElementText:h,parentNode:i,nextSibling:l,setScopeId:u=Qe,insertStaticContent:p}=e,m=(g,y,b,x=null,A=null,C=null,M=void 0,T=null,L=!!y.dynamicChildren)=>{if(g===y)return;g&&!Gt(g,y)&&(x=E(g),Ue(g,A,C,!0),g=null),y.patchFlag===-2&&(L=!1,y.dynamicChildren=null);const{type:O,ref:F,shapeFlag:q}=y;switch(O){case Rr:v(g,y,b,x);break;case Ze:_(g,y,b,x);break;case Gr:g==null&&w(y,b,x,M);break;case ke:P(g,y,b,x,A,C,M,T,L);break;default:q&1?H(g,y,b,x,A,C,M,T,L):q&6?ee(g,y,b,x,A,C,M,T,L):(q&64||q&128)&&O.process(g,y,b,x,A,C,M,T,L,V)}F!=null&&A&&hs(F,g&&g.ref,C,y||g,!y)},v=(g,y,b,x)=>{if(g==null)r(y.el=f(y.children),b,x);else{const A=y.el=g.el;y.children!==g.children&&d(A,y.children)}},_=(g,y,b,x)=>{g==null?r(y.el=c(y.children||""),b,x):y.el=g.el},w=(g,y,b,x)=>{[g.el,g.anchor]=p(g.children,y,b,x,g.el,g.anchor)},S=({el:g,anchor:y},b,x)=>{let A;for(;g&&g!==y;)A=l(g),r(g,b,x),g=A;r(y,b,x)},k=({el:g,anchor:y})=>{let b;for(;g&&g!==y;)b=l(g),s(g),g=b;s(y)},H=(g,y,b,x,A,C,M,T,L)=>{y.type==="svg"?M="svg":y.type==="math"&&(M="mathml"),g==null?D(y,b,x,A,C,M,T,L):R(g,y,A,C,M,T,L)},D=(g,y,b,x,A,C,M,T)=>{let L,O;const{props:F,shapeFlag:q,transition:U,dirs:K}=g;if(L=g.el=a(g.type,C,F&&F.is,F),q&8?h(L,g.children):q&16&&I(g.children,L,null,x,A,zr(g,C),M,T),K&&Ut(g,null,x,"created"),J(L,g,g.scopeId,M,x),F){for(const ge in F)ge!=="value"&&!or(ge)&&o(L,ge,null,F[ge],C,g.children,x,A,De);"value"in F&&o(L,"value",null,F.value,C),(O=F.onVnodeBeforeMount)&&at(O,x,g)}K&&Ut(g,null,x,"beforeMount");const re=Yc(A,U);re&&U.beforeEnter(L),r(L,y,b),((O=F&&F.onVnodeMounted)||re||K)&&qe(()=>{O&&at(O,x,g),re&&U.enter(L),K&&Ut(g,null,x,"mounted")},A)},J=(g,y,b,x,A)=>{if(b&&u(g,b),x)for(let C=0;C<x.length;C++)u(g,x[C]);if(A){let C=A.subTree;if(y===C){const M=A.vnode;J(g,M,M.scopeId,M.slotScopeIds,A.parent)}}},I=(g,y,b,x,A,C,M,T,L=0)=>{for(let O=L;O<g.length;O++){const F=g[O]=T?Rt(g[O]):ct(g[O]);m(null,F,y,b,x,A,C,M,T)}},R=(g,y,b,x,A,C,M)=>{const T=y.el=g.el;let{patchFlag:L,dynamicChildren:O,dirs:F}=y;L|=g.patchFlag&16;const q=g.props||we,U=y.props||we;let K;if(b&&qt(b,!1),(K=U.onVnodeBeforeUpdate)&&at(K,b,y,g),F&&Ut(y,g,b,"beforeUpdate"),b&&qt(b,!0),O?G(g.dynamicChildren,O,T,b,x,zr(y,A),C):M||ae(g,y,T,null,b,x,zr(y,A),C,!1),L>0){if(L&16)oe(T,y,q,U,b,x,A);else if(L&2&&q.class!==U.class&&o(T,"class",null,U.class,A),L&4&&o(T,"style",q.style,U.style,A),L&8){const re=y.dynamicProps;for(let ge=0;ge<re.length;ge++){const Ee=re[ge],Be=q[Ee],et=U[Ee];(et!==Be||Ee==="value")&&o(T,Ee,Be,et,A,g.children,b,x,De)}}L&1&&g.children!==y.children&&h(T,y.children)}else!M&&O==null&&oe(T,y,q,U,b,x,A);((K=U.onVnodeUpdated)||F)&&qe(()=>{K&&at(K,b,y,g),F&&Ut(y,g,b,"updated")},x)},G=(g,y,b,x,A,C,M)=>{for(let T=0;T<y.length;T++){const L=g[T],O=y[T],F=L.el&&(L.type===ke||!Gt(L,O)||L.shapeFlag&70)?i(L.el):b;m(L,O,F,null,x,A,C,M,!0)}},oe=(g,y,b,x,A,C,M)=>{if(b!==x){if(b!==we)for(const T in b)!or(T)&&!(T in x)&&o(g,T,b[T],null,M,y.children,A,C,De);for(const T in x){if(or(T))continue;const L=x[T],O=b[T];L!==O&&T!=="value"&&o(g,T,O,L,M,y.children,A,C,De)}"value"in x&&o(g,"value",b.value,x.value,M)}},P=(g,y,b,x,A,C,M,T,L)=>{const O=y.el=g?g.el:f(""),F=y.anchor=g?g.anchor:f("");let{patchFlag:q,dynamicChildren:U,slotScopeIds:K}=y;K&&(T=T?T.concat(K):K),g==null?(r(O,b,x),r(F,b,x),I(y.children||[],b,F,A,C,M,T,L)):q>0&&q&64&&U&&g.dynamicChildren?(G(g.dynamicChildren,U,b,A,C,M,T),(y.key!=null||A&&y===A.subTree)&&yl(g,y,!0)):ae(g,y,b,F,A,C,M,T,L)},ee=(g,y,b,x,A,C,M,T,L)=>{y.slotScopeIds=T,g==null?y.shapeFlag&512?A.ctx.activate(y,b,x,M,L):_e(y,b,x,A,C,M,L):be(g,y,L)},_e=(g,y,b,x,A,C,M)=>{const T=g.component=ou(g,x,A);if(Tr(g)&&(T.ctx.renderer=V),au(T),T.asyncDep){if(A&&A.registerDep(T,ne),!g.el){const L=T.subTree=ue(Ze);_(null,L,y,b)}}else ne(T,g,y,b,A,C,M)},be=(g,y,b)=>{const x=y.component=g.component;if(dc(g,y,b))if(x.asyncDep&&!x.asyncResolved){fe(x,y,b);return}else x.next=y,oc(x.update),x.effect.dirty=!0,x.update();else y.el=g.el,x.vnode=y},ne=(g,y,b,x,A,C,M)=>{const T=()=>{if(g.isMounted){let{next:F,bu:q,u:U,parent:K,vnode:re}=g;{const rn=vl(g);if(rn){F&&(F.el=re.el,fe(g,F,M)),rn.asyncDep.then(()=>{g.isUnmounted||T()});return}}let ge=F,Ee;qt(g,!1),F?(F.el=re.el,fe(g,F,M)):F=re,q&&Vr(q),(Ee=F.props&&F.props.onVnodeBeforeUpdate)&&at(Ee,K,F,re),qt(g,!0);const Be=qr(g),et=g.subTree;g.subTree=Be,m(et,Be,i(et.el),E(et),g,A,C),F.el=Be.el,ge===null&&hc(g,Be.el),U&&qe(U,A),(Ee=F.props&&F.props.onVnodeUpdated)&&qe(()=>at(Ee,K,F,re),A)}else{let F;const{el:q,props:U}=y,{bm:K,m:re,parent:ge}=g,Ee=Tn(y);if(qt(g,!1),K&&Vr(K),!Ee&&(F=U&&U.onVnodeBeforeMount)&&at(F,ge,y),qt(g,!0),q&&Ae){const Be=()=>{g.subTree=qr(g),Ae(q,g.subTree,g,A,null)};Ee?y.type.__asyncLoader().then(()=>!g.isUnmounted&&Be()):Be()}else{const Be=g.subTree=qr(g);m(null,Be,b,x,g,A,C),y.el=Be.el}if(re&&qe(re,A),!Ee&&(F=U&&U.onVnodeMounted)){const Be=y;qe(()=>at(F,ge,Be),A)}(y.shapeFlag&256||ge&&Tn(ge.vnode)&&ge.vnode.shapeFlag&256)&&g.a&&qe(g.a,A),g.isMounted=!0,y=b=x=null}},L=g.effect=new Ls(T,Qe,()=>Vs(O),g.scope),O=g.update=()=>{L.dirty&&L.run()};O.id=g.uid,qt(g,!0),O()},fe=(g,y,b)=>{y.component=g;const x=g.vnode.props;g.vnode=y,g.next=null,jc(g,y.props,x,b),Gc(g,y.children,b),Jt(),pi(g),Zt()},ae=(g,y,b,x,A,C,M,T,L=!1)=>{const O=g&&g.children,F=g?g.shapeFlag:0,q=y.children,{patchFlag:U,shapeFlag:K}=y;if(U>0){if(U&128){Et(O,q,b,x,A,C,M,T,L);return}else if(U&256){pt(O,q,b,x,A,C,M,T,L);return}}K&8?(F&16&&De(O,A,C),q!==O&&h(b,q)):F&16?K&16?Et(O,q,b,x,A,C,M,T,L):De(O,A,C,!0):(F&8&&h(b,""),K&16&&I(q,b,x,A,C,M,T,L))},pt=(g,y,b,x,A,C,M,T,L)=>{g=g||cn,y=y||cn;const O=g.length,F=y.length,q=Math.min(O,F);let U;for(U=0;U<q;U++){const K=y[U]=L?Rt(y[U]):ct(y[U]);m(g[U],K,b,null,A,C,M,T,L)}O>F?De(g,A,C,!0,!1,q):I(y,b,x,A,C,M,T,L,q)},Et=(g,y,b,x,A,C,M,T,L)=>{let O=0;const F=y.length;let q=g.length-1,U=F-1;for(;O<=q&&O<=U;){const K=g[O],re=y[O]=L?Rt(y[O]):ct(y[O]);if(Gt(K,re))m(K,re,b,null,A,C,M,T,L);else break;O++}for(;O<=q&&O<=U;){const K=g[q],re=y[U]=L?Rt(y[U]):ct(y[U]);if(Gt(K,re))m(K,re,b,null,A,C,M,T,L);else break;q--,U--}if(O>q){if(O<=U){const K=U+1,re=K<F?y[K].el:x;for(;O<=U;)m(null,y[O]=L?Rt(y[O]):ct(y[O]),b,re,A,C,M,T,L),O++}}else if(O>U)for(;O<=q;)Ue(g[O],A,C,!0),O++;else{const K=O,re=O,ge=new Map;for(O=re;O<=U;O++){const We=y[O]=L?Rt(y[O]):ct(y[O]);We.key!=null&&ge.set(We.key,O)}let Ee,Be=0;const et=U-re+1;let rn=!1,ri=0;const bn=new Array(et);for(O=0;O<et;O++)bn[O]=0;for(O=K;O<=q;O++){const We=g[O];if(Be>=et){Ue(We,A,C,!0);continue}let lt;if(We.key!=null)lt=ge.get(We.key);else for(Ee=re;Ee<=U;Ee++)if(bn[Ee-re]===0&&Gt(We,y[Ee])){lt=Ee;break}lt===void 0?Ue(We,A,C,!0):(bn[lt-re]=O+1,lt>=ri?ri=lt:rn=!0,m(We,y[lt],b,null,A,C,M,T,L),Be++)}const si=rn?Qc(bn):cn;for(Ee=si.length-1,O=et-1;O>=0;O--){const We=re+O,lt=y[We],ii=We+1<F?y[We+1].el:x;bn[O]===0?m(null,lt,b,ii,A,C,M,T,L):rn&&(Ee<0||O!==si[Ee]?ot(lt,b,ii,2):Ee--)}}},ot=(g,y,b,x,A=null)=>{const{el:C,type:M,transition:T,children:L,shapeFlag:O}=g;if(O&6){ot(g.component.subTree,y,b,x);return}if(O&128){g.suspense.move(y,b,x);return}if(O&64){M.move(g,y,b,V);return}if(M===ke){r(C,y,b);for(let q=0;q<L.length;q++)ot(L[q],y,b,x);r(g.anchor,y,b);return}if(M===Gr){S(g,y,b);return}if(x!==2&&O&1&&T)if(x===0)T.beforeEnter(C),r(C,y,b),qe(()=>T.enter(C),A);else{const{leave:q,delayLeave:U,afterLeave:K}=T,re=()=>r(C,y,b),ge=()=>{q(C,()=>{re(),K&&K()})};U?U(C,re,ge):ge()}else r(C,y,b)},Ue=(g,y,b,x=!1,A=!1)=>{const{type:C,props:M,ref:T,children:L,dynamicChildren:O,shapeFlag:F,patchFlag:q,dirs:U}=g;if(T!=null&&hs(T,null,b,g,!0),F&256){y.ctx.deactivate(g);return}const K=F&1&&U,re=!Tn(g);let ge;if(re&&(ge=M&&M.onVnodeBeforeUnmount)&&at(ge,y,g),F&6)Kn(g.component,b,x);else{if(F&128){g.suspense.unmount(b,x);return}K&&Ut(g,null,y,"beforeUnmount"),F&64?g.type.remove(g,y,b,A,V,x):O&&(C!==ke||q>0&&q&64)?De(O,y,b,!1,!0):(C===ke&&q&384||!A&&F&16)&&De(L,y,b),x&&tn(g)}(re&&(ge=M&&M.onVnodeUnmounted)||K)&&qe(()=>{ge&&at(ge,y,g),K&&Ut(g,null,y,"unmounted")},b)},tn=g=>{const{type:y,el:b,anchor:x,transition:A}=g;if(y===ke){nn(b,x);return}if(y===Gr){k(g);return}const C=()=>{s(b),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(g.shapeFlag&1&&A&&!A.persisted){const{leave:M,delayLeave:T}=A,L=()=>M(b,C);T?T(g.el,C,L):L()}else C()},nn=(g,y)=>{let b;for(;g!==y;)b=l(g),s(g),g=b;s(y)},Kn=(g,y,b)=>{const{bum:x,scope:A,update:C,subTree:M,um:T}=g;x&&Vr(x),A.stop(),C&&(C.active=!1,Ue(M,g,y,b)),T&&qe(T,y),qe(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},De=(g,y,b,x=!1,A=!1,C=0)=>{for(let M=C;M<g.length;M++)Ue(g[M],y,b,x,A)},E=g=>g.shapeFlag&6?E(g.component.subTree):g.shapeFlag&128?g.suspense.next():l(g.anchor||g.el);let N=!1;const B=(g,y,b)=>{g==null?y._vnode&&Ue(y._vnode,null,null,!0):m(y._vnode||null,g,y,null,null,null,b),N||(N=!0,pi(),el(),N=!1),y._vnode=g},V={p:m,um:Ue,m:ot,r:tn,mt:_e,mc:I,pc:ae,pbc:G,n:E,o:e};let he,Ae;return t&&([he,Ae]=t(V)),{render:B,hydrate:he,createApp:Vc(B,he)}}function zr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Yc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function yl(e,t,n=!1){const r=e.children,s=t.children;if(z(r)&&z(s))for(let o=0;o<r.length;o++){const a=r[o];let f=s[o];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[o]=Rt(s[o]),f.el=a.el),n||yl(a,f)),f.type===Rr&&(f.el=a.el)}}function Qc(e){const t=e.slice(),n=[0];let r,s,o,a,f;const c=e.length;for(r=0;r<c;r++){const d=e[r];if(d!==0){if(s=n[n.length-1],e[s]<d){t[r]=s,n.push(r);continue}for(o=0,a=n.length-1;o<a;)f=o+a>>1,e[n[f]]<d?o=f+1:a=f;d<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function vl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:vl(t)}const Jc=e=>e.__isTeleport,ke=Symbol.for("v-fgt"),Rr=Symbol.for("v-txt"),Ze=Symbol.for("v-cmt"),Gr=Symbol.for("v-stc"),kn=[];let nt=null;function Q(e=!1){kn.push(nt=e?null:[])}function Zc(){kn.pop(),nt=kn[kn.length-1]||null}let Dn=1;function Si(e){Dn+=e}function bl(e){return e.dynamicChildren=Dn>0?nt||cn:null,Zc(),Dn>0&&nt&&nt.push(e),e}function xe(e,t,n,r,s,o){return bl($(e,t,n,r,s,o,!0))}function Ie(e,t,n,r,s){return bl(ue(e,t,n,r,s,!0))}function yr(e){return e?e.__v_isVNode===!0:!1}function Gt(e,t){return e.type===t.type&&e.key===t.key}const Ir="__vInternal",wl=({key:e})=>e??null,cr=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||Se(e)||Z(e)?{i:Re,r:e,k:t,f:!!n}:e:null);function $(e,t=null,n=null,r=0,s=null,o=e===ke?0:1,a=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wl(t),ref:t&&cr(t),scopeId:Pr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Re};return f?(js(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Ce(n)?8:16),Dn>0&&!a&&nt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&nt.push(c),c}const ue=eu;function eu(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===pc)&&(e=Ze),yr(e)){const f=Ft(e,t,!0);return n&&js(f,n),Dn>0&&!o&&nt&&(f.shapeFlag&6?nt[nt.indexOf(e)]=f:nt.push(f)),f.patchFlag|=-2,f}if(du(e)&&(e=e.__vccOpts),t){t=tu(t);let{class:f,style:c}=t;f&&!Ce(f)&&(t.class=me(f)),ve(c)&&(zo(c)&&!z(c)&&(c=Le({},c)),t.style=Is(c))}const a=Ce(e)?1:gc(e)?128:Jc(e)?64:ve(e)?4:Z(e)?2:0;return $(e,t,n,r,s,a,o,!0)}function tu(e){return e?zo(e)||Ir in e?Le({},e):e:null}function Ft(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,f=t?ru(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&wl(f),ref:t&&t.ref?n&&s?z(s)?s.concat(cr(t)):[s,cr(t)]:cr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ft(e.ssContent),ssFallback:e.ssFallback&&Ft(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function nu(e=" ",t=0){return ue(Rr,null,e,t)}function Bt(e="",t=!1){return t?(Q(),Ie(Ze,null,e)):ue(Ze,null,e)}function ct(e){return e==null||typeof e=="boolean"?ue(Ze):z(e)?ue(ke,null,e.slice()):typeof e=="object"?Rt(e):ue(Rr,null,String(e))}function Rt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ft(e)}function js(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(z(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),js(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ir in t)?t._ctx=Re:s===3&&Re&&(Re.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:Re},n=32):(t=String(t),r&64?(n=16,t=[nu(t)]):n=8);e.children=t,e.shapeFlag|=n}function ru(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=me([t.class,r.class]));else if(s==="style")t.style=Is([t.style,r.style]);else if(wr(s)){const o=t[s],a=r[s];a&&o!==a&&!(z(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=r[s])}return t}function at(e,t,n,r=null){Je(e,t,7,[n,r])}const su=dl();let iu=0;function ou(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||su,o={uid:iu++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Co(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pl(r,s),emitsOptions:nl(r,s),emit:null,emitted:null,propsDefaults:we,inheritAttrs:r.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=cc.bind(null,o),e.ce&&e.ce(o),o}let Ne=null;const lu=()=>Ne||Re;let vr,ps;{const e=Oo(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};vr=t("__VUE_INSTANCE_SETTERS__",n=>Ne=n),ps=t("__VUE_SSR_SETTERS__",n=>Lr=n)}const Gn=e=>{const t=Ne;return vr(e),e.scope.on(),()=>{e.scope.off(),vr(t)}},Oi=()=>{Ne&&Ne.scope.off(),vr(null)};function Al(e){return e.vnode.shapeFlag&4}let Lr=!1;function au(e,t=!1){t&&ps(t);const{props:n,children:r}=e.vnode,s=Al(e);qc(e,n,s,t),zc(e,r);const o=s?cu(e,t):void 0;return t&&ps(!1),o}function cu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=zn(new Proxy(e.ctx,Bc));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?fu(e):null,o=Gn(e);Jt();const a=$t(r,e,0,[e.props,s]);if(Zt(),o(),Ao(a)){if(a.then(Oi,Oi),t)return a.then(f=>{Pi(e,f,t)}).catch(f=>{Sr(f,e,0)});e.asyncDep=a}else Pi(e,a,t)}else El(e,t)}function Pi(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ve(t)&&(e.setupState=Yo(t)),El(e,n)}let Ti;function El(e,t,n){const r=e.type;if(!e.render){if(!t&&Ti&&!r.render){const s=r.template||Us(e).template;if(s){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:f,compilerOptions:c}=r,d=Le(Le({isCustomElement:o,delimiters:f},a),c);r.render=Ti(s,d)}}e.render=r.render||Qe}{const s=Gn(e);Jt();try{Mc(e)}finally{Zt(),s()}}}function uu(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return je(e,"get","$attrs"),t[n]}}))}function fu(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return uu(e)},slots:e.slots,emit:e.emit,expose:t}}function Br(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yo(zn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Cn)return Cn[n](e)},has(t,n){return n in t||n in Cn}}))}function du(e){return Z(e)&&"__vccOpts"in e}const W=(e,t)=>Ya(e,t,Lr);function Ws(e,t,n){const r=arguments.length;return r===2?ve(t)&&!z(t)?yr(t)?ue(e,null,[t]):ue(e,t):ue(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&yr(n)&&(n=[n]),ue(e,t,n))}const hu="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pu="http://www.w3.org/2000/svg",gu="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Ci=It&&It.createElement("template"),_u={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?It.createElementNS(pu,e):t==="mathml"?It.createElementNS(gu,e):It.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const a=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Ci.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const f=Ci.content;if(r==="svg"||r==="mathml"){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}t.insertBefore(f,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},St="transition",wn="animation",Hn=Symbol("_vtc"),Vn=(e,{slots:t})=>Ws(Ac,mu(e),t);Vn.displayName="Transition";const xl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Vn.props=Le({},il,xl);const jt=(e,t=[])=>{z(e)?e.forEach(n=>n(...t)):e&&e(...t)},ki=e=>e?z(e)?e.some(t=>t.length>1):e.length>1:!1;function mu(e){const t={};for(const P in e)P in xl||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:f=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:d=a,appearToClass:h=f,leaveFromClass:i=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:u=`${n}-leave-to`}=e,p=yu(s),m=p&&p[0],v=p&&p[1],{onBeforeEnter:_,onEnter:w,onEnterCancelled:S,onLeave:k,onLeaveCancelled:H,onBeforeAppear:D=_,onAppear:J=w,onAppearCancelled:I=S}=t,R=(P,ee,_e)=>{Wt(P,ee?h:f),Wt(P,ee?d:a),_e&&_e()},G=(P,ee)=>{P._isLeaving=!1,Wt(P,i),Wt(P,u),Wt(P,l),ee&&ee()},oe=P=>(ee,_e)=>{const be=P?J:w,ne=()=>R(ee,P,_e);jt(be,[ee,ne]),Ri(()=>{Wt(ee,P?c:o),Ot(ee,P?h:f),ki(be)||Ii(ee,r,m,ne)})};return Le(t,{onBeforeEnter(P){jt(_,[P]),Ot(P,o),Ot(P,a)},onBeforeAppear(P){jt(D,[P]),Ot(P,c),Ot(P,d)},onEnter:oe(!1),onAppear:oe(!0),onLeave(P,ee){P._isLeaving=!0;const _e=()=>G(P,ee);Ot(P,i),wu(),Ot(P,l),Ri(()=>{P._isLeaving&&(Wt(P,i),Ot(P,u),ki(k)||Ii(P,r,v,_e))}),jt(k,[P,_e])},onEnterCancelled(P){R(P,!1),jt(S,[P])},onAppearCancelled(P){R(P,!0),jt(I,[P])},onLeaveCancelled(P){G(P),jt(H,[P])}})}function yu(e){if(e==null)return null;if(ve(e))return[Kr(e.enter),Kr(e.leave)];{const t=Kr(e);return[t,t]}}function Kr(e){return wa(e)}function Ot(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Hn]||(e[Hn]=new Set)).add(t)}function Wt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Hn];n&&(n.delete(t),n.size||(e[Hn]=void 0))}function Ri(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vu=0;function Ii(e,t,n,r){const s=e._endId=++vu,o=()=>{s===e._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:f,propCount:c}=bu(e,t);if(!a)return r();const d=a+"end";let h=0;const i=()=>{e.removeEventListener(d,l),o()},l=u=>{u.target===e&&++h>=c&&i()};setTimeout(()=>{h<c&&i()},f+1),e.addEventListener(d,l)}function bu(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),s=r(`${St}Delay`),o=r(`${St}Duration`),a=Li(s,o),f=r(`${wn}Delay`),c=r(`${wn}Duration`),d=Li(f,c);let h=null,i=0,l=0;t===St?a>0&&(h=St,i=a,l=o.length):t===wn?d>0&&(h=wn,i=d,l=c.length):(i=Math.max(a,d),h=i>0?a>d?St:wn:null,l=h?h===St?o.length:c.length:0);const u=h===St&&/\b(transform|all)(,|$)/.test(r(`${St}Property`).toString());return{type:h,timeout:i,propCount:l,hasTransform:u}}function Li(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Bi(n)+Bi(e[r])))}function Bi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function wu(){return document.body.offsetHeight}function Au(e,t,n){const r=e[Hn];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const zs=Symbol("_vod"),gs={beforeMount(e,{value:t},{transition:n}){e[zs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):An(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),An(e,!0),r.enter(e)):r.leave(e,()=>{An(e,!1)}):An(e,t))},beforeUnmount(e,{value:t}){An(e,t)}};function An(e,t){e.style.display=t?e[zs]:"none"}const Eu=Symbol("");function xu(e,t,n){const r=e.style,s=r.display,o=Ce(n);if(n&&!o){if(t&&!Ce(t))for(const a in t)n[a]==null&&_s(r,a,"");for(const a in n)_s(r,a,n[a])}else if(o){if(t!==n){const a=r[Eu];a&&(n+=";"+a),r.cssText=n}}else t&&e.removeAttribute("style");zs in e&&(r.display=s)}const Mi=/\s*!important$/;function _s(e,t,n){if(z(n))n.forEach(r=>_s(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Su(e,t);Mi.test(n)?e.setProperty(yn(r),n.replace(Mi,""),"important"):e[r]=n}}const $i=["Webkit","Moz","ms"],Xr={};function Su(e,t){const n=Xr[t];if(n)return n;let r=hn(t);if(r!=="filter"&&r in e)return Xr[t]=r;r=So(r);for(let s=0;s<$i.length;s++){const o=$i[s]+r;if(o in e)return Xr[t]=o}return t}const Ni="http://www.w3.org/1999/xlink";function Ou(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ni,t.slice(6,t.length)):e.setAttributeNS(Ni,t,n);else{const o=Pa(t);n==null||o&&!Po(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Pu(e,t,n,r,s,o,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,s,o),e[t]=n??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){e._value=n;const d=f==="OPTION"?e.getAttribute("value"):e.value,h=n??"";d!==h&&(e.value=h),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Po(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Tu(e,t,n,r){e.addEventListener(t,n,r)}function Cu(e,t,n,r){e.removeEventListener(t,n,r)}const Fi=Symbol("_vei");function ku(e,t,n,r,s=null){const o=e[Fi]||(e[Fi]={}),a=o[t];if(r&&a)a.value=r;else{const[f,c]=Ru(t);if(r){const d=o[t]=Bu(r,s);Tu(e,f,d,c)}else a&&(Cu(e,f,a,c),o[t]=void 0)}}const Di=/(?:Once|Passive|Capture)$/;function Ru(e){let t;if(Di.test(e)){t={};let r;for(;r=e.match(Di);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yn(e.slice(2)),t]}let Yr=0;const Iu=Promise.resolve(),Lu=()=>Yr||(Iu.then(()=>Yr=0),Yr=Date.now());function Bu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Je(Mu(r,n.value),t,5,[r])};return n.value=e,n.attached=Lu(),n}function Mu(e,t){if(z(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$u=(e,t,n,r,s,o,a,f,c)=>{const d=s==="svg";t==="class"?Au(e,r,d):t==="style"?xu(e,n,r):wr(t)?Cs(t)||ku(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Nu(e,t,r,d))?Pu(e,t,r,o,a,f,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ou(e,t,r,d))};function Nu(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Hi(t)&&Z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Hi(t)&&Ce(n)?!1:t in e}const Fu=Le({patchProp:$u},_u);let Vi;function Du(){return Vi||(Vi=Kc(Fu))}const Hu=(...e)=>{const t=Du().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Uu(r);if(!s)return;const o=t._component;!Z(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,Vu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function Vu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uu(e){return Ce(e)?document.querySelector(e):e}var qu=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Sl;const Mr=e=>Sl=e,Ol=Symbol();function ms(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Rn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Rn||(Rn={}));function ju(){const e=ko(!0),t=e.run(()=>dt({}));let n=[],r=[];const s=zn({install(o){Mr(s),s._a=o,o.provide(Ol,s),o.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(o){return!this._a&&!qu?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Pl=()=>{};function Ui(e,t,n,r=Pl){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&Ro()&&Ca(s),s}function sn(e,...t){e.slice().forEach(n=>{n(...t)})}const Wu=e=>e();function ys(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];ms(s)&&ms(r)&&e.hasOwnProperty(n)&&!Se(r)&&!bt(r)?e[n]=ys(s,r):e[n]=r}return e}const zu=Symbol();function Gu(e){return!ms(e)||!e.hasOwnProperty(zu)}const{assign:Tt}=Object;function Ku(e){return!!(Se(e)&&e.effect)}function Xu(e,t,n,r){const{state:s,actions:o,getters:a}=t,f=n.state.value[e];let c;function d(){f||(n.state.value[e]=s?s():{});const h=ec(n.state.value[e]);return Tt(h,o,Object.keys(a||{}).reduce((i,l)=>(i[l]=zn(W(()=>{Mr(n);const u=n._s.get(e);return a[l].call(u,u)})),i),{}))}return c=Tl(e,d,t,n,r,!0),c}function Tl(e,t,n={},r,s,o){let a;const f=Tt({actions:{}},n),c={deep:!0};let d,h,i=[],l=[],u;const p=r.state.value[e];!o&&!p&&(r.state.value[e]={}),dt({});let m;function v(I){let R;d=h=!1,typeof I=="function"?(I(r.state.value[e]),R={type:Rn.patchFunction,storeId:e,events:u}):(ys(r.state.value[e],I),R={type:Rn.patchObject,payload:I,storeId:e,events:u});const G=m=Symbol();Fe().then(()=>{m===G&&(d=!0)}),h=!0,sn(i,R,r.state.value[e])}const _=o?function(){const{state:R}=n,G=R?R():{};this.$patch(oe=>{Tt(oe,G)})}:Pl;function w(){a.stop(),i=[],l=[],r._s.delete(e)}function S(I,R){return function(){Mr(r);const G=Array.from(arguments),oe=[],P=[];function ee(ne){oe.push(ne)}function _e(ne){P.push(ne)}sn(l,{args:G,name:I,store:H,after:ee,onError:_e});let be;try{be=R.apply(this&&this.$id===e?this:H,G)}catch(ne){throw sn(P,ne),ne}return be instanceof Promise?be.then(ne=>(sn(oe,ne),ne)).catch(ne=>(sn(P,ne),Promise.reject(ne))):(sn(oe,be),be)}}const k={_p:r,$id:e,$onAction:Ui.bind(null,l),$patch:v,$reset:_,$subscribe(I,R={}){const G=Ui(i,I,R.detached,()=>oe()),oe=a.run(()=>wt(()=>r.state.value[e],P=>{(R.flush==="sync"?h:d)&&I({storeId:e,type:Rn.direct,events:u},P)},Tt({},c,R)));return G},$dispose:w},H=Wn(k);r._s.set(e,H);const J=(r._a&&r._a.runWithContext||Wu)(()=>r._e.run(()=>(a=ko()).run(t)));for(const I in J){const R=J[I];if(Se(R)&&!Ku(R)||bt(R))o||(p&&Gu(R)&&(Se(R)?R.value=p[I]:ys(R,p[I])),r.state.value[e][I]=R);else if(typeof R=="function"){const G=S(I,R);J[I]=G,f.actions[I]=R}}return Tt(H,J),Tt(ie(H),J),Object.defineProperty(H,"$state",{get:()=>r.state.value[e],set:I=>{v(R=>{Tt(R,I)})}}),r._p.forEach(I=>{Tt(H,a.run(()=>I({store:H,app:r._a,pinia:r,options:f})))}),p&&o&&n.hydrate&&n.hydrate(H.$state,p),d=!0,h=!0,H}function Cl(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function a(f,c){const d=Uc();return f=f||(d?rt(Ol,null):null),f&&Mr(f),f=Sl,f._s.has(r)||(o?Tl(r,t,s,f):Xu(r,s,f)),f._s.get(r)}return a.$id=r,a}function Ge(e){{e=ie(e);const t={};for(const n in e){const r=e[n];(Se(r)||bt(r))&&(t[n]=rc(e,n))}return t}}const Yu="/assets/deal-qrSTiZFf.mp3",Y={altarSize:5,defaultTimeout:500,delayFactor:.1,fortuneMajor:4,fortuneMinor:3,gameSpeed:.25,handSize:3,maxOmens:9,numberPlayers:2,omenColumns:3,playerRows:4,setSize:3,winningBurn:4,winningFortunes:2},$e={error:{heading:"Ummm",invalid:{hand:"Not sure having a complete portent in hand is a good idea...",zoom:"Game objects automatically adjust to your device size. Please un-zoom, thanks!",solo:"Solo game mode is not yet available. Sorry!",online:"Online connection failed: ",settings:"Settings are not ready yet. Sorry!"}},fortunes:"Fortunes",menu:{solo:"Solo Game",online:"Online Match",hotseat:"Local Multiplayer",game:"New Game",main:"Main Menu",settings:"Settings",again:"Play Again"},online:{searching:"Searching for another player...",waiting:"Waiting for other player to finish their turn..."},phases:["","Start the game by burning the first offering","Replace offerings with sacrifices from your hand","Palm removed offerings for later use","Collect omens from new portents","Ignite offerings from each new portent","Snuff offerings that have run their course"],player:"Player"};var _t=(e=>(e[e.Burn=0]="Burn",e[e.Place=1]="Place",e[e.Reset=2]="Reset",e[e.Palm=3]="Palm",e))(_t||{}),mt=(e=>(e[e.None=0]="None",e[e.Sun=1]="Sun",e[e.Moon=2]="Moon",e[e.Star=3]="Star",e[e.Comet=4]="Comet",e[e.Count=5]="Count",e))(mt||{}),te=(e=>(e[e.None=0]="None",e[e.Up=1]="Up",e[e.Right=2]="Right",e[e.Down=3]="Down",e[e.Left=4]="Left",e))(te||{}),In=(e=>(e[e.None=0]="None",e[e.Skull=1]="Skull",e[e.Claw=2]="Claw",e[e.Wing=3]="Wing",e[e.Bone=4]="Bone",e[e.Count=5]="Count",e))(In||{}),ye=(e=>(e[e.None=0]="None",e[e.Start=1]="Start",e[e.Replace=2]="Replace",e[e.Ignite=3]="Ignite",e[e.Swap=4]="Swap",e[e.End=5]="End",e))(ye||{}),X=(e=>(e[e.None=0]="None",e[e.Limbo=1]="Limbo",e[e.Altar=2]="Altar",e[e.Player=3]="Player",e[e.Kitty=4]="Kitty",e))(X||{});class Oe{constructor(t=0,n=0){le(this,"x");le(this,"y");this.x=t,this.y=n}setX(t){this.x=t}setY(t){this.y=t}static originForObjectWithID(t){const n=document.getElementById(t);if(!n)return new Oe(0,0);const r=n.getBoundingClientRect();return new Oe(r.x,r.y)}static centerCoordForObjectWithID(t){const n=document.getElementById(t);if(!n)return new Oe(0,0);const r=n.getBoundingClientRect();return new Oe(r.x+r.width/2,r.y+r.height/2)}}class Gs{constructor(t){le(this,"type");le(this,"zone");le(this,"celestial");le(this,"sacrifice");le(this,"location");le(this,"previous");le(this,"player");le(this,"selected");le(this,"burning");this.type=t,this.zone=X.None,this.celestial=mt.None,this.sacrifice=In.None,this.location=new Oe,this.previous=null,this.player=0,this.selected=!1,this.burning=!1}encoded(){return{c:this.celestial,s:this.sacrifice,z:this.zone,x:this.location.x,y:this.location.y,p:this.player,b:this.burning}}getID(){return""}getColor(){switch(this.celestial){case mt.Sun:return"sun";case mt.Moon:return"moon";case mt.Star:return"star";case mt.Comet:return"comet";default:return""}}isEqual(t){return this.type===t.type&&this.zone===t.zone&&this.location.x===t.location.x&&this.location.y===t.location.y&&this.player===t.player}}class Un extends Gs{constructor(n,r){super("offering");le(this,"holding");le(this,"overlaps");le(this,"direction");le(this,"pushed");this.celestial=n,this.sacrifice=r,this.holding=!1,this.overlaps=!1,this.direction=te.None,this.pushed=te.None}static load(n){const r=new Un(n.c,n.s);return r.zone=n.z,r.location=new Oe(n.x,n.y),r.player=n.p,r.burning=n.b,r}getID(){return`OF${this.celestial}${this.sacrifice}`}setHolding(n){this.holding=n}setOverlaps(n){this.overlaps=n}setDirection(n){this.direction=n}}class qn extends Gs{constructor(t,n){super("omen"),this.celestial=t,this.sacrifice=n}static load(t){const n=new qn(t.c,t.s);return n.zone=t.z,n.location=new Oe(t.x,t.y),n.player=t.p,n}getID(){return`OM${this.celestial}${this.sacrifice}`}}class yt extends Gs{constructor(n,r,s,o){super(n);le(this,"filled");this.zone=r,this.location=s,this.player=o,this.filled=!1}getID(){let n="PL";switch(this.zone){case X.Limbo:n+="L";break;case X.Altar:n+="A";break;case X.Player:n+=`P${this.player}`;break;case X.Kitty:n+="K";break}return`${n}${this.location.x}${this.location.y}`}}class Qu{constructor(){le(this,"places");this.places=[]}setupPlaces(){this.places=[];const t=Y.altarSize,n=1;for(let r=n;r<=t;r++)for(let s=n;s<=t;s++){let o="offering";(r===n||r===t||s===n||s===t)&&(o="omen");const a=new Oe(s,r),f=new yt(o,X.Altar,a,0);this.places.push(f)}}clearPlaces(){this.places.forEach(t=>t.filled=!1)}getPlace(t){return this.places.find(n=>n.location.x===t.x&&n.location.y===t.y)||null}getOpenPlace(t){return this.places.find(n=>n.type===t&&!n.filled)||null}getOpenPlaces(){return this.places.filter(t=>!t.filled)}getRow(t){const n=[];for(let r=1;r<=Y.altarSize;r++)n.push(this.getPlace(new Oe(r,t)));return n}getRows(){const t=[];for(let n=1;n<=Y.altarSize;n++)t.push(this.getRow(n));return t}}const qi={adjectives:["Agile","Alert","Ancient","Aquatic","Beautiful","Big","Brave","Camouflaged","Carnivorous","Colorful","Cunning","Curious","Dangerous","Deadly","Delicate","Energetic","Enigmatic","Exotic","Fast","Fierce","Fluffy","Friendly","Furry","Graceful","Hardy","Hairy","Hibernating","Huge","Humpbacked","Inquisitive","Intelligent","Large","Long","Loud","Majestic","Mighty","Mysterious","Nocturnal","Playful","Powerful","Prickly","Quick","Rare","Regal","Reptilian","Robust","Scaly","Shy","Silent","Small","Sneaky","Solitary","Speedy","Stealthy","Stout","Striped","Strong","Swift","Timid","Tiny","Tough","Unpredictable","Unique","Venomous","Vocal","Wild","Wise","Woolly","Wounded","Young","Zany","Adaptable","Agile","Alert","Aquatic","Attentive","Beautiful","Blending","Bold","Camouflaged","Carnivorous","Chubby","Colorful","Crafty","Cuddly","Cunning","Curious","Dangerous","Decorative","Elegant","Energetic","Enigmatic","Exotic","Fierce","Fluffy","Friendly","Furry","Graceful","Hardy","Hairy"],animals:["Dog","Cat","Lion","Tiger","Bear","Elephant","Giraffe","Zebra","Fox","Wolf","Koala","Kangaroo","Rabbit","Squirrel","Dolphin","Shark","Penguin","Otter","Cheetah","Horse","Donkey","Camel","Ostrich","Rhinoceros","Gorilla","Chimpanzee","Orangutan","Polarbear","Hyena","Platypus","Armadillo","Lemur","Meerkat","Raccoon","Hippopotamus","Octopus","Seahorse","Komodo","Cobra","Python","Parrot","Flamingo","Pelican","Alpaca","Mongoose","Gopher","Caiman","Vulture","Puma","Walrus","Narwhal","Manatee","Koala","Hermitcrab","Iguana","Jackal","Newt","Toad","Stingray","Scorpion","Hummingbird","Kingfisher","Ocelot","Quokka","Tapir","Bison","Lemming","Chipmunk","Wallaby","Gazelle","Warthog","Sloth","Puffin","Cuckoo","Starfish","Centipede","Falcon","Salamander","Wombat","Aardvark","Mantis","Lizard","Angelfish","Oyster","Jellyfish","Seahorse","Platypus","Snail","Narwhal","Ocelot","Chimpanzee","Platypus","Guppy","Seahorse","Rhinoceros","Lemur","Vulture","Pangolin","Cassowary","Tapeworm"]};class dn{constructor(t){le(this,"id");le(this,"places");le(this,"turn");le(this,"remote");le(this,"name");this.id=t,this.places=[],this.turn=!1,this.remote=!1,this.name=qi.adjectives.random()+" "+qi.animals.random()}encoded(){return{i:this.id,t:this.turn,n:this.name}}static load(t){const n=new dn(t.i);return n.setupPlaces(),n.turn=t.t,n.name=t.n,n.remote=!0,n}setupPlaces(){this.places=[];const t=1;for(let n=t;n<=Y.handSize;n++){const r="offering",s=new Oe(n,1),o=new yt(r,X.Player,s,this.id);this.places.push(o)}for(let n=t;n<=Y.maxOmens/Y.omenColumns;n++)this.places.push(new yt("omen",X.Player,new Oe(n,2),this.id)),this.places.push(new yt("omen",X.Player,new Oe(n,3),this.id)),this.places.push(new yt("omen",X.Player,new Oe(n,4),this.id))}clearPlaces(){this.places.forEach(t=>t.filled=!1)}getPlace(t){return this.places.find(n=>n.location.x===t.x&&n.location.y===t.y)||null}getOpenPlace(t){return this.places.find(n=>n.type===t&&!n.filled)||null}getRow(t,n){const r=[];for(let s=1;s<=n;s++)r.push(this.getPlace(new Oe(s,t)));return r}getRows(){const t=[];for(let n=1;n<=Y.playerRows;n++){const r=n===1?Y.handSize:Y.maxOmens/Y.omenColumns;t.push(this.getRow(n,r))}return t}}class Ju{constructor(){le(this,"place");this.place=new yt("offering",X.Kitty,new Oe(1,1),0)}}class Zu{constructor(){le(this,"places");this.places=[]}setupPlaces(){this.places=[];const t=Y.handSize,n=1;for(let r=n;r<=t;r++){const s="offering",o=new Oe(r,1),a=new yt(s,X.Limbo,o,0);this.places.push(a)}}getPlace(t){return this.places.find(n=>n.location.x===t.x&&n.location.y===t.y)||null}getOpenPlace(){return this.places.find(t=>!t.filled)||null}clearPlaces(){this.places.forEach(t=>t.filled=!1)}getRow(){const t=[];for(let n=1;n<=Y.handSize;n++)t.push(this.getPlace(new Oe(n,1)));return t}}class ef{constructor(){le(this,"users");le(this,"local");le(this,"host");this.users=[],this.local="",this.host=""}isHostLocal(){return this.local!==""&&this.local===this.host}}class tf{constructor(){le(this,"h");le(this,"p");le(this,"f");le(this,"m");le(this,"t");this.h="",this.p="",this.f="",this.m="",this.t=ye.None}}var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kl={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var i=this||n;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var l=this||n;if(i=parseFloat(i),l.ctx||h(),typeof i<"u"&&i>=0&&i<=1){if(l._volume=i,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(i,n.ctx.currentTime);for(var u=0;u<l._howls.length;u++)if(!l._howls[u]._webAudio)for(var p=l._howls[u]._getSoundIds(),m=0;m<p.length;m++){var v=l._howls[u]._soundById(p[m]);v&&v._node&&(v._node.volume=v._volume*i)}return l}return l._volume},mute:function(i){var l=this||n;l.ctx||h(),l._muted=i,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(i?0:l._volume,n.ctx.currentTime);for(var u=0;u<l._howls.length;u++)if(!l._howls[u]._webAudio)for(var p=l._howls[u]._getSoundIds(),m=0;m<p.length;m++){var v=l._howls[u]._soundById(p[m]);v&&v._node&&(v._node.muted=i?!0:v._muted)}return l},stop:function(){for(var i=this||n,l=0;l<i._howls.length;l++)i._howls[l].stop();return i},unload:function(){for(var i=this||n,l=i._howls.length-1;l>=0;l--)i._howls[l].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,h()),i},codecs:function(i){return(this||n)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||n;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var l=new Audio;l.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||n,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return i}if(!l||typeof l.canPlayType!="function")return i;var u=l.canPlayType("audio/mpeg;").replace(/^no$/,""),p=i._navigator?i._navigator.userAgent:"",m=p.match(/OPR\/(\d+)/g),v=m&&parseInt(m[0].split("/")[1],10)<33,_=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,w=p.match(/Version\/(.*?) /),S=_&&w&&parseInt(w[1],10)<15;return i._codecs={mp3:!!(!v&&(u||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!u,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||n;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var l=function(u){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,i._releaseHtml5Audio(p)}catch{i.noAudio=!0;break}for(var m=0;m<i._howls.length;m++)if(!i._howls[m]._webAudio)for(var v=i._howls[m]._getSoundIds(),_=0;_<v.length;_++){var w=i._howls[m]._soundById(v[_]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}i._autoResume();var S=i.ctx.createBufferSource();S.buffer=i._scratchBuffer,S.connect(i.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),S.onended=function(){S.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var k=0;k<i._howls.length;k++)i._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),i}},_obtainHtml5Audio:function(){var i=this||n;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var l=this||n;return i._unlocked&&l._html5AudioPool.push(i),l},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!n.usingWebAudio)){for(var l=0;l<i._howls.length;l++)if(i._howls[l]._webAudio){for(var u=0;u<i._howls[l]._sounds.length;u++)if(!i._howls[l]._sounds[u]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var p=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(p,p)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!n.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var l=0;l<i._howls.length;l++)i._howls[l]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var n=new t,r=function(i){var l=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(i)};r.prototype={init:function(i){var l=this;return n.ctx||h(),l._autoplay=i.autoplay||!1,l._format=typeof i.format!="string"?i.format:[i.format],l._html5=i.html5||!1,l._muted=i.mute||!1,l._loop=i.loop||!1,l._pool=i.pool||5,l._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,l._rate=i.rate||1,l._sprite=i.sprite||{},l._src=typeof i.src!="string"?i.src:[i.src],l._volume=i.volume!==void 0?i.volume:1,l._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=i.onend?[{fn:i.onend}]:[],l._onfade=i.onfade?[{fn:i.onfade}]:[],l._onload=i.onload?[{fn:i.onload}]:[],l._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],l._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],l._onpause=i.onpause?[{fn:i.onpause}]:[],l._onplay=i.onplay?[{fn:i.onplay}]:[],l._onstop=i.onstop?[{fn:i.onstop}]:[],l._onmute=i.onmute?[{fn:i.onmute}]:[],l._onvolume=i.onvolume?[{fn:i.onvolume}]:[],l._onrate=i.onrate?[{fn:i.onrate}]:[],l._onseek=i.onseek?[{fn:i.onseek}]:[],l._onunlock=i.onunlock?[{fn:i.onunlock}]:[],l._onresume=[],l._webAudio=n.usingWebAudio&&!l._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var i=this,l=null;if(n.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var u=0;u<i._src.length;u++){var p,m;if(i._format&&i._format[u])p=i._format[u];else{if(m=i._src[u],typeof m!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(m),p||(p=/\.([^.]+)$/.exec(m.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){l=i._src[u];break}}if(!l){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=l,i._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new s(i),i._webAudio&&a(i),i},play:function(i,l){var u=this,p=null;if(typeof i=="number")p=i,i=null;else{if(typeof i=="string"&&u._state==="loaded"&&!u._sprite[i])return null;if(typeof i>"u"&&(i="__default",!u._playLock)){for(var m=0,v=0;v<u._sounds.length;v++)u._sounds[v]._paused&&!u._sounds[v]._ended&&(m++,p=u._sounds[v]._id);m===1?i=null:p=null}}var _=p?u._soundById(p):u._inactiveSound();if(!_)return null;if(p&&!i&&(i=_._sprite||"__default"),u._state!=="loaded"){_._sprite=i,_._ended=!1;var w=_._id;return u._queue.push({event:"play",action:function(){u.play(w)}}),w}if(p&&!_._paused)return l||u._loadQueue("play"),_._id;u._webAudio&&n._autoResume();var S=Math.max(0,_._seek>0?_._seek:u._sprite[i][0]/1e3),k=Math.max(0,(u._sprite[i][0]+u._sprite[i][1])/1e3-S),H=k*1e3/Math.abs(_._rate),D=u._sprite[i][0]/1e3,J=(u._sprite[i][0]+u._sprite[i][1])/1e3;_._sprite=i,_._ended=!1;var I=function(){_._paused=!1,_._seek=S,_._start=D,_._stop=J,_._loop=!!(_._loop||u._sprite[i][2])};if(S>=J){u._ended(_);return}var R=_._node;if(u._webAudio){var G=function(){u._playLock=!1,I(),u._refreshBuffer(_);var _e=_._muted||u._muted?0:_._volume;R.gain.setValueAtTime(_e,n.ctx.currentTime),_._playStart=n.ctx.currentTime,typeof R.bufferSource.start>"u"?_._loop?R.bufferSource.noteGrainOn(0,S,86400):R.bufferSource.noteGrainOn(0,S,k):_._loop?R.bufferSource.start(0,S,86400):R.bufferSource.start(0,S,k),H!==1/0&&(u._endTimers[_._id]=setTimeout(u._ended.bind(u,_),H)),l||setTimeout(function(){u._emit("play",_._id),u._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?G():(u._playLock=!0,u.once("resume",G),u._clearTimer(_._id))}else{var oe=function(){R.currentTime=S,R.muted=_._muted||u._muted||n._muted||R.muted,R.volume=_._volume*n.volume(),R.playbackRate=_._rate;try{var _e=R.play();if(_e&&typeof Promise<"u"&&(_e instanceof Promise||typeof _e.then=="function")?(u._playLock=!0,I(),_e.then(function(){u._playLock=!1,R._unlocked=!0,l?u._loadQueue():u._emit("play",_._id)}).catch(function(){u._playLock=!1,u._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):l||(u._playLock=!1,I(),u._emit("play",_._id)),R.playbackRate=_._rate,R.paused){u._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||_._loop?u._endTimers[_._id]=setTimeout(u._ended.bind(u,_),H):(u._endTimers[_._id]=function(){u._ended(_),R.removeEventListener("ended",u._endTimers[_._id],!1)},R.addEventListener("ended",u._endTimers[_._id],!1))}catch(be){u._emit("playerror",_._id,be)}};R.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(R.src=u._src,R.load());var P=window&&window.ejecta||!R.readyState&&n._navigator.isCocoonJS;if(R.readyState>=3||P)oe();else{u._playLock=!0,u._state="loading";var ee=function(){u._state="loaded",oe(),R.removeEventListener(n._canPlayEvent,ee,!1)};R.addEventListener(n._canPlayEvent,ee,!1),u._clearTimer(_._id)}}return _._id},pause:function(i){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(i)}}),l;for(var u=l._getSoundIds(i),p=0;p<u.length;p++){l._clearTimer(u[p]);var m=l._soundById(u[p]);if(m&&!m._paused&&(m._seek=l.seek(u[p]),m._rateSeek=0,m._paused=!0,l._stopFade(u[p]),m._node))if(l._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),l._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||l._emit("pause",m?m._id:null)}return l},stop:function(i,l){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(i)}}),u;for(var p=u._getSoundIds(i),m=0;m<p.length;m++){u._clearTimer(p[m]);var v=u._soundById(p[m]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,u._stopFade(p[m]),v._node&&(u._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),u._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&u._clearSound(v._node))),l||u._emit("stop",v._id))}return u},mute:function(i,l){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(i,l)}}),u;if(typeof l>"u")if(typeof i=="boolean")u._muted=i;else return u._muted;for(var p=u._getSoundIds(l),m=0;m<p.length;m++){var v=u._soundById(p[m]);v&&(v._muted=i,v._interval&&u._stopFade(v._id),u._webAudio&&v._node?v._node.gain.setValueAtTime(i?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:i),u._emit("mute",v._id))}return u},volume:function(){var i=this,l=arguments,u,p;if(l.length===0)return i._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var m=i._getSoundIds(),v=m.indexOf(l[0]);v>=0?p=parseInt(l[0],10):u=parseFloat(l[0])}else l.length>=2&&(u=parseFloat(l[0]),p=parseInt(l[1],10));var _;if(typeof u<"u"&&u>=0&&u<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,l)}}),i;typeof p>"u"&&(i._volume=u),p=i._getSoundIds(p);for(var w=0;w<p.length;w++)_=i._soundById(p[w]),_&&(_._volume=u,l[2]||i._stopFade(p[w]),i._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(u,n.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=u*n.volume()),i._emit("volume",_._id))}else return _=p?i._soundById(p):i._sounds[0],_?_._volume:0;return i},fade:function(i,l,u,p){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(i,l,u,p)}}),m;i=Math.min(Math.max(0,parseFloat(i)),1),l=Math.min(Math.max(0,parseFloat(l)),1),u=parseFloat(u),m.volume(i,p);for(var v=m._getSoundIds(p),_=0;_<v.length;_++){var w=m._soundById(v[_]);if(w){if(p||m._stopFade(v[_]),m._webAudio&&!w._muted){var S=n.ctx.currentTime,k=S+u/1e3;w._volume=i,w._node.gain.setValueAtTime(i,S),w._node.gain.linearRampToValueAtTime(l,k)}m._startFadeInterval(w,i,l,u,v[_],typeof p>"u")}}return m},_startFadeInterval:function(i,l,u,p,m,v){var _=this,w=l,S=u-l,k=Math.abs(S/.01),H=Math.max(4,k>0?p/k:p),D=Date.now();i._fadeTo=u,i._interval=setInterval(function(){var J=(Date.now()-D)/p;D=Date.now(),w+=S*J,w=Math.round(w*100)/100,S<0?w=Math.max(u,w):w=Math.min(u,w),_._webAudio?i._volume=w:_.volume(w,i._id,!0),v&&(_._volume=w),(u<l&&w<=u||u>l&&w>=u)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,_.volume(u,i._id),_._emit("fade",i._id))},H)},_stopFade:function(i){var l=this,u=l._soundById(i);return u&&u._interval&&(l._webAudio&&u._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(u._interval),u._interval=null,l.volume(u._fadeTo,i),u._fadeTo=null,l._emit("fade",i)),l},loop:function(){var i=this,l=arguments,u,p,m;if(l.length===0)return i._loop;if(l.length===1)if(typeof l[0]=="boolean")u=l[0],i._loop=u;else return m=i._soundById(parseInt(l[0],10)),m?m._loop:!1;else l.length===2&&(u=l[0],p=parseInt(l[1],10));for(var v=i._getSoundIds(p),_=0;_<v.length;_++)m=i._soundById(v[_]),m&&(m._loop=u,i._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=u,u&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,i.playing(v[_])&&(i.pause(v[_],!0),i.play(v[_],!0)))));return i},rate:function(){var i=this,l=arguments,u,p;if(l.length===0)p=i._sounds[0]._id;else if(l.length===1){var m=i._getSoundIds(),v=m.indexOf(l[0]);v>=0?p=parseInt(l[0],10):u=parseFloat(l[0])}else l.length===2&&(u=parseFloat(l[0]),p=parseInt(l[1],10));var _;if(typeof u=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,l)}}),i;typeof p>"u"&&(i._rate=u),p=i._getSoundIds(p);for(var w=0;w<p.length;w++)if(_=i._soundById(p[w]),_){i.playing(p[w])&&(_._rateSeek=i.seek(p[w]),_._playStart=i._webAudio?n.ctx.currentTime:_._playStart),_._rate=u,i._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(u,n.ctx.currentTime):_._node&&(_._node.playbackRate=u);var S=i.seek(p[w]),k=(i._sprite[_._sprite][0]+i._sprite[_._sprite][1])/1e3-S,H=k*1e3/Math.abs(_._rate);(i._endTimers[p[w]]||!_._paused)&&(i._clearTimer(p[w]),i._endTimers[p[w]]=setTimeout(i._ended.bind(i,_),H)),i._emit("rate",_._id)}}else return _=i._soundById(p),_?_._rate:i._rate;return i},seek:function(){var i=this,l=arguments,u,p;if(l.length===0)i._sounds.length&&(p=i._sounds[0]._id);else if(l.length===1){var m=i._getSoundIds(),v=m.indexOf(l[0]);v>=0?p=parseInt(l[0],10):i._sounds.length&&(p=i._sounds[0]._id,u=parseFloat(l[0]))}else l.length===2&&(u=parseFloat(l[0]),p=parseInt(l[1],10));if(typeof p>"u")return 0;if(typeof u=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,l)}}),i;var _=i._soundById(p);if(_)if(typeof u=="number"&&u>=0){var w=i.playing(p);w&&i.pause(p,!0),_._seek=u,_._ended=!1,i._clearTimer(p),!i._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=u);var S=function(){w&&i.play(p,!0),i._emit("seek",p)};if(w&&!i._webAudio){var k=function(){i._playLock?setTimeout(k,0):S()};setTimeout(k,0)}else S()}else if(i._webAudio){var H=i.playing(p)?n.ctx.currentTime-_._playStart:0,D=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(D+H*Math.abs(_._rate))}else return _._node.currentTime;return i},playing:function(i){var l=this;if(typeof i=="number"){var u=l._soundById(i);return u?!u._paused:!1}for(var p=0;p<l._sounds.length;p++)if(!l._sounds[p]._paused)return!0;return!1},duration:function(i){var l=this,u=l._duration,p=l._soundById(i);return p&&(u=l._sprite[p._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var i=this,l=i._sounds,u=0;u<l.length;u++)l[u]._paused||i.stop(l[u]._id),i._webAudio||(i._clearSound(l[u]._node),l[u]._node.removeEventListener("error",l[u]._errorFn,!1),l[u]._node.removeEventListener(n._canPlayEvent,l[u]._loadFn,!1),l[u]._node.removeEventListener("ended",l[u]._endFn,!1),n._releaseHtml5Audio(l[u]._node)),delete l[u]._node,i._clearTimer(l[u]._id);var p=n._howls.indexOf(i);p>=0&&n._howls.splice(p,1);var m=!0;for(u=0;u<n._howls.length;u++)if(n._howls[u]._src===i._src||i._src.indexOf(n._howls[u]._src)>=0){m=!1;break}return o&&m&&delete o[i._src],n.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,l,u,p){var m=this,v=m["_on"+i];return typeof l=="function"&&v.push(p?{id:u,fn:l,once:p}:{id:u,fn:l}),m},off:function(i,l,u){var p=this,m=p["_on"+i],v=0;if(typeof l=="number"&&(u=l,l=null),l||u)for(v=0;v<m.length;v++){var _=u===m[v].id;if(l===m[v].fn&&_||!l&&_){m.splice(v,1);break}}else if(i)p["_on"+i]=[];else{var w=Object.keys(p);for(v=0;v<w.length;v++)w[v].indexOf("_on")===0&&Array.isArray(p[w[v]])&&(p[w[v]]=[])}return p},once:function(i,l,u){var p=this;return p.on(i,l,u,1),p},_emit:function(i,l,u){for(var p=this,m=p["_on"+i],v=m.length-1;v>=0;v--)(!m[v].id||m[v].id===l||i==="load")&&(setTimeout((function(_){_.call(this,l,u)}).bind(p,m[v].fn),0),m[v].once&&p.off(i,m[v].fn,m[v].id));return p._loadQueue(i),p},_loadQueue:function(i){var l=this;if(l._queue.length>0){var u=l._queue[0];u.event===i&&(l._queue.shift(),l._loadQueue()),i||u.action()}return l},_ended:function(i){var l=this,u=i._sprite;if(!l._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(l._ended.bind(l,i),100),l;var p=!!(i._loop||l._sprite[u][2]);if(l._emit("end",i._id),!l._webAudio&&p&&l.stop(i._id,!0).play(i._id),l._webAudio&&p){l._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=n.ctx.currentTime;var m=(i._stop-i._start)*1e3/Math.abs(i._rate);l._endTimers[i._id]=setTimeout(l._ended.bind(l,i),m)}return l._webAudio&&!p&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,l._clearTimer(i._id),l._cleanBuffer(i._node),n._autoSuspend()),!l._webAudio&&!p&&l.stop(i._id,!0),l},_clearTimer:function(i){var l=this;if(l._endTimers[i]){if(typeof l._endTimers[i]!="function")clearTimeout(l._endTimers[i]);else{var u=l._soundById(i);u&&u._node&&u._node.removeEventListener("ended",l._endTimers[i],!1)}delete l._endTimers[i]}return l},_soundById:function(i){for(var l=this,u=0;u<l._sounds.length;u++)if(i===l._sounds[u]._id)return l._sounds[u];return null},_inactiveSound:function(){var i=this;i._drain();for(var l=0;l<i._sounds.length;l++)if(i._sounds[l]._ended)return i._sounds[l].reset();return new s(i)},_drain:function(){var i=this,l=i._pool,u=0,p=0;if(!(i._sounds.length<l)){for(p=0;p<i._sounds.length;p++)i._sounds[p]._ended&&u++;for(p=i._sounds.length-1;p>=0;p--){if(u<=l)return;i._sounds[p]._ended&&(i._webAudio&&i._sounds[p]._node&&i._sounds[p]._node.disconnect(0),i._sounds.splice(p,1),u--)}}},_getSoundIds:function(i){var l=this;if(typeof i>"u"){for(var u=[],p=0;p<l._sounds.length;p++)u.push(l._sounds[p]._id);return u}else return[i]},_refreshBuffer:function(i){var l=this;return i._node.bufferSource=n.ctx.createBufferSource(),i._node.bufferSource.buffer=o[l._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,n.ctx.currentTime),l},_cleanBuffer:function(i){var l=this,u=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!i.bufferSource)return l;if(n._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),u))try{i.bufferSource.buffer=n._scratchBuffer}catch{}return i.bufferSource=null,l},_clearSound:function(i){var l=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);l||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(i){this._parent=i,this.init()};s.prototype={init:function(){var i=this,l=i._parent;return i._muted=l._muted,i._loop=l._loop,i._volume=l._volume,i._rate=l._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,l._sounds.push(i),i.create(),i},create:function(){var i=this,l=i._parent,u=n._muted||i._muted||i._parent._muted?0:i._volume;return l._webAudio?(i._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),i._node.gain.setValueAtTime(u,n.ctx.currentTime),i._node.paused=!0,i._node.connect(n.masterGain)):n.noAudio||(i._node=n._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(n._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=l._src,i._node.preload=l._preload===!0?"auto":l._preload,i._node.volume=u*n.volume(),i._node.load()),i},reset:function(){var i=this,l=i._parent;return i._muted=l._muted,i._loop=l._loop,i._volume=l._volume,i._rate=l._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,l=i._parent;l._duration=Math.ceil(i._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),i._node.removeEventListener(n._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,l=i._parent;l._duration===1/0&&(l._duration=Math.ceil(i._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var o={},a=function(i){var l=i._src;if(o[l]){i._duration=o[l].duration,d(i);return}if(/^data:[^;]+;base64,/.test(l)){for(var u=atob(l.split(",")[1]),p=new Uint8Array(u.length),m=0;m<u.length;++m)p[m]=u.charCodeAt(m);c(p.buffer,i)}else{var v=new XMLHttpRequest;v.open(i._xhr.method,l,!0),v.withCredentials=i._xhr.withCredentials,v.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(_){v.setRequestHeader(_,i._xhr.headers[_])}),v.onload=function(){var _=(v.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}c(v.response,i)},v.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete o[l],i.load())},f(v)}},f=function(i){try{i.send()}catch{i.onerror()}},c=function(i,l){var u=function(){l._emit("loaderror",null,"Decoding audio data failed.")},p=function(m){m&&l._sounds.length>0?(o[l._src]=m,d(l,m)):u()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(i).then(p).catch(u):n.ctx.decodeAudioData(i,p,u)},d=function(i,l){l&&!i._duration&&(i._duration=l.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},h=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),l=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=l?parseInt(l[1],10):null;if(i&&u&&u<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof En<"u"?(En.HowlerGlobal=t,En.Howler=n,En.Howl=r,En.Sound=s):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,s){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(r=typeof r!="number"?o._pos[1]:r,s=typeof s!="number"?o._pos[2]:s,typeof n=="number")o._pos=[n,r,s],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(n,r,s,o,a,f){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(r=typeof r!="number"?d[1]:r,s=typeof s!="number"?d[2]:s,o=typeof o!="number"?d[3]:o,a=typeof a!="number"?d[4]:a,f=typeof f!="number"?d[5]:f,typeof n=="number")c._orientation=[n,r,s,o,a,f],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,s,o,a,f);else return d;return c},Howl.prototype.init=function(n){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,r)}}),s;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var a=s._getSoundIds(r),f=0;f<a.length;f++){var c=s._soundById(a[f]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,o),o==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",c._id);else return c._stereo}return s},Howl.prototype.pos=function(n,r,s,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,s,o)}}),a;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof o>"u")if(typeof n=="number")a._pos=[n,r,s];else return a._pos;for(var f=a._getSoundIds(o),c=0;c<f.length;c++){var d=a._soundById(f[c]);if(d)if(typeof n=="number")d._pos=[n,r,s],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):d._panner.setPosition(n,r,s)),a._emit("pos",d._id);else return d._pos}return a},Howl.prototype.orientation=function(n,r,s,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,s,o)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,s=typeof s!="number"?a._orientation[2]:s,typeof o>"u")if(typeof n=="number")a._orientation=[n,r,s];else return a._orientation;for(var f=a._getSoundIds(o),c=0;c<f.length;c++){var d=a._soundById(f[c]);if(d)if(typeof n=="number")d._orientation=[n,r,s],d._node&&(d._panner||(d._pos||(d._pos=a._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,s)),a._emit("orientation",d._id);else return d._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,s,o,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof o>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(s=r[0],o=parseInt(r[1],10));for(var f=n._getSoundIds(o),c=0;c<f.length;c++)if(a=n._soundById(f[c]),a){var d=a._pannerAttr;d={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:d.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:d.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:d.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:d.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:d.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:d.panningModel};var h=a._panner;h||(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"),h=a._panner),h.coneInnerAngle=d.coneInnerAngle,h.coneOuterAngle=d.coneOuterAngle,h.coneOuterGain=d.coneOuterGain,h.distanceModel=d.distanceModel,h.maxDistance=d.maxDistance,h.refDistance=d.refDistance,h.rolloffFactor=d.rolloffFactor,h.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,n.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(kl);const ji=Cl("settings",{state:()=>({speed:5,volume:5}),getters:{getSpeed(){return Y.gameSpeed/(this.speed/10)},getVolume(){return Number(this.volume/10)}}}),ht=Object.create(null);ht.open="0";ht.close="1";ht.ping="2";ht.pong="3";ht.message="4";ht.upgrade="5";ht.noop="6";const ur=Object.create(null);Object.keys(ht).forEach(e=>{ur[ht[e]]=e});const vs={type:"error",data:"parser error"},Rl=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Il=typeof ArrayBuffer=="function",Ll=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ks=({type:e,data:t},n,r)=>Rl&&t instanceof Blob?n?r(t):Wi(t,r):Il&&(t instanceof ArrayBuffer||Ll(t))?n?r(t):Wi(new Blob([t]),r):r(ht[e]+(t||"")),Wi=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function zi(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Qr;function nf(e,t){if(Rl&&e.data instanceof Blob)return e.data.arrayBuffer().then(zi).then(t);if(Il&&(e.data instanceof ArrayBuffer||Ll(e.data)))return t(zi(e.data));Ks(e,!1,n=>{Qr||(Qr=new TextEncoder),t(Qr.encode(n))})}const Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pn=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Gi.length;e++)Pn[Gi.charCodeAt(e)]=e;const rf=e=>{let t=e.length*.75,n=e.length,r,s=0,o,a,f,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),h=new Uint8Array(d);for(r=0;r<n;r+=4)o=Pn[e.charCodeAt(r)],a=Pn[e.charCodeAt(r+1)],f=Pn[e.charCodeAt(r+2)],c=Pn[e.charCodeAt(r+3)],h[s++]=o<<2|a>>4,h[s++]=(a&15)<<4|f>>2,h[s++]=(f&3)<<6|c&63;return d},sf=typeof ArrayBuffer=="function",Xs=(e,t)=>{if(typeof e!="string")return{type:"message",data:Bl(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:of(e.substring(1),t)}:ur[n]?e.length>1?{type:ur[n],data:e.substring(1)}:{type:ur[n]}:vs},of=(e,t)=>{if(sf){const n=rf(e);return Bl(n,t)}else return{base64:!0,data:e}},Bl=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ml="",lf=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,a)=>{Ks(o,!1,f=>{r[a]=f,++s===n&&t(r.join(Ml))})})},af=(e,t)=>{const n=e.split(Ml),r=[];for(let s=0;s<n.length;s++){const o=Xs(n[s],t);if(r.push(o),o.type==="error")break}return r};function cf(){return new TransformStream({transform(e,t){nf(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Jr;function nr(e){return e.reduce((t,n)=>t+n.length,0)}function rr(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function uf(e,t){Jr||(Jr=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(a,f){for(n.push(a);;){if(r===0){if(nr(n)<1)break;const c=rr(n,1);o=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(nr(n)<2)break;const c=rr(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(nr(n)<8)break;const c=rr(n,8),d=new DataView(c.buffer,c.byteOffset,c.length),h=d.getUint32(0);if(h>Math.pow(2,21)-1){f.enqueue(vs);break}s=h*Math.pow(2,32)+d.getUint32(4),r=3}else{if(nr(n)<s)break;const c=rr(n,s);f.enqueue(Xs(o?c:Jr.decode(c),t)),r=0}if(s===0||s>e){f.enqueue(vs);break}}}})}const $l=4;function Te(e){if(e)return ff(e)}function ff(e){for(var t in Te.prototype)e[t]=Te.prototype[t];return e}Te.prototype.on=Te.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Te.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Te.prototype.off=Te.prototype.removeListener=Te.prototype.removeAllListeners=Te.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Te.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Te.prototype.emitReserved=Te.prototype.emit;Te.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Te.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ye=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Nl(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const df=Ye.setTimeout,hf=Ye.clearTimeout;function $r(e,t){t.useNativeTimers?(e.setTimeoutFn=df.bind(Ye),e.clearTimeoutFn=hf.bind(Ye)):(e.setTimeoutFn=Ye.setTimeout.bind(Ye),e.clearTimeoutFn=Ye.clearTimeout.bind(Ye))}const pf=1.33;function gf(e){return typeof e=="string"?_f(e):Math.ceil((e.byteLength||e.size)*pf)}function _f(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function mf(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function yf(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class vf extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ys extends Te{constructor(t){super(),this.writable=!1,$r(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new vf(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Xs(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=mf(t);return n.length?"?"+n:""}}const Fl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),bs=64,bf={};let Ki=0,sr=0,Xi;function Yi(e){let t="";do t=Fl[e%bs]+t,e=Math.floor(e/bs);while(e>0);return t}function Dl(){const e=Yi(+new Date);return e!==Xi?(Ki=0,Xi=e):e+"."+Yi(Ki++)}for(;sr<bs;sr++)bf[Fl[sr]]=sr;let Hl=!1;try{Hl=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wf=Hl;function Vl(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||wf))return new XMLHttpRequest}catch{}if(!t)try{return new Ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Af(){}const Ef=function(){return new Vl({xdomain:!1}).responseType!=null}();class xf extends Ys{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Ef&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};af(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,lf(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Dl()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ft(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class ft extends Te{constructor(t,n){super(),$r(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Nl(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Vl(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=ft.requestsCount++,ft.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Af,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ft.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ft.requestsCount=0;ft.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Qi);else if(typeof addEventListener=="function"){const e="onpagehide"in Ye?"pagehide":"unload";addEventListener(e,Qi,!1)}}function Qi(){for(let e in ft.requests)ft.requests.hasOwnProperty(e)&&ft.requests[e].abort()}const Qs=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),ir=Ye.WebSocket||Ye.MozWebSocket,Ji=!0,Sf="arraybuffer",Zi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Of extends Ys{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Zi?{}:Nl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Ji&&!Zi?n?new ir(t,n):new ir(t):new ir(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Ks(r,this.supportsBinary,o=>{const a={};try{Ji&&this.ws.send(o)}catch{}s&&Qs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Dl()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!ir}}class Pf extends Ys{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=uf(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=cf();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const o=()=>{r.read().then(({done:f,value:c})=>{f||(this.onPacket(c),o())}).catch(f=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this.writer.write(r).then(()=>{s&&Qs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Tf={websocket:Of,webtransport:Pf,polling:xf},Cf=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kf=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ws(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Cf.exec(e||""),o={},a=14;for(;a--;)o[kf[a]]=s[a]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Rf(o,o.path),o.queryKey=If(o,o.query),o}function Rf(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function If(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}let Ul=class ln extends Te{constructor(t,n={}){super(),this.binaryType=Sf,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=ws(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=ws(n.host).host),$r(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=yf(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=$l,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tf[t](r)}open(){let t;if(this.opts.rememberUpgrade&&ln.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;ln.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",i=>{if(!r)if(i.type==="pong"&&i.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ln.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const l=new Error("probe error");l.transport=n.name,this.emitReserved("upgradeError",l)}}))};function o(){r||(r=!0,h(),n.close(),n=null)}const a=i=>{const l=new Error("probe error: "+i);l.transport=n.name,o(),this.emitReserved("upgradeError",l)};function f(){a("transport closed")}function c(){a("socket closed")}function d(i){n&&i.name!==n.name&&o()}const h=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",f),this.off("close",c),this.off("upgrading",d)};n.once("open",s),n.once("error",a),n.once("close",f),this.once("close",c),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",ln.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=gf(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){ln.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};Ul.protocol=$l;function Lf(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ws(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Bf=typeof ArrayBuffer=="function",Mf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ql=Object.prototype.toString,$f=typeof Blob=="function"||typeof Blob<"u"&&ql.call(Blob)==="[object BlobConstructor]",Nf=typeof File=="function"||typeof File<"u"&&ql.call(File)==="[object FileConstructor]";function Js(e){return Bf&&(e instanceof ArrayBuffer||Mf(e))||$f&&e instanceof Blob||Nf&&e instanceof File}function fr(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(fr(e[n]))return!0;return!1}if(Js(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fr(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fr(e[n]))return!0;return!1}function Ff(e){const t=[],n=e.data,r=e;return r.data=As(n,t),r.attachments=t.length,{packet:r,buffers:t}}function As(e,t){if(!e)return e;if(Js(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=As(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=As(e[r],t));return n}return e}function Df(e,t){return e.data=Es(e.data,t),delete e.attachments,e}function Es(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Es(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Es(e[n],t));return e}const Hf=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Vf=5;var se;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(se||(se={}));class Uf{constructor(t){this.replacer=t}encode(t){return(t.type===se.EVENT||t.type===se.ACK)&&fr(t)?this.encodeAsBinary({type:t.type===se.EVENT?se.BINARY_EVENT:se.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===se.BINARY_EVENT||t.type===se.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Ff(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function eo(e){return Object.prototype.toString.call(e)==="[object Object]"}class Zs extends Te{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===se.BINARY_EVENT;r||n.type===se.BINARY_ACK?(n.type=r?se.EVENT:se.ACK,this.reconstructor=new qf(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Js(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(se[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===se.BINARY_EVENT||r.type===se.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Zs.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case se.CONNECT:return eo(n);case se.DISCONNECT:return n===void 0;case se.CONNECT_ERROR:return typeof n=="string"||eo(n);case se.EVENT:case se.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Hf.indexOf(n[0])===-1);case se.ACK:case se.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qf{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Df(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const jf=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Zs,Encoder:Uf,get PacketType(){return se},protocol:Vf},Symbol.toStringTag,{value:"Module"}));function tt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Wf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jl extends Te{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[tt(t,"open",this.onopen.bind(this)),tt(t,"packet",this.onpacket.bind(this)),tt(t,"error",this.onerror.bind(this)),tt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Wf.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:se.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,f=n.pop();this._registerAckCallback(a,f),r.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,o)=>{n.push((a,f)=>r?a?o(a):s(f):s(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case se.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case se.EVENT:case se.BINARY_EVENT:this.onevent(t);break;case se.ACK:case se.BINARY_ACK:this.onack(t);break;case se.DISCONNECT:this.ondisconnect();break;case se.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:se.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function vn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}vn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};vn.prototype.reset=function(){this.attempts=0};vn.prototype.setMin=function(e){this.ms=e};vn.prototype.setMax=function(e){this.max=e};vn.prototype.setJitter=function(e){this.jitter=e};class xs extends Te{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$r(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new vn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||jf;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ul(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=tt(n,"open",function(){r.onopen(),t&&t()}),o=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},a=tt(n,"error",o);if(this._timeout!==!1){const f=this._timeout,c=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},f);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(tt(t,"ping",this.onping.bind(this)),tt(t,"data",this.ondata.bind(this)),tt(t,"error",this.onerror.bind(this)),tt(t,"close",this.onclose.bind(this)),tt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Qs(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new jl(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xn={};function dr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Lf(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,a=xn[s]&&o in xn[s].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return f?c=new xs(r,t):(xn[s]||(xn[s]=new xs(r,t)),c=xn[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(dr,{Manager:xs,Socket:jl,io:dr,connect:dr});class zf{constructor(){le(this,"socket")}setupSocketConnection(){this.socket||(this.socket=dr("https://solid-garden-397801.wl.r.appspot.com/"),this.socket.on("users",t=>this.usersUpdated(t)),this.socket.on("host",t=>this.hostUpdated(t)),this.socket.on("joined",t=>this.userJoined(t)),this.socket.on("left",t=>this.userLeft(t)),this.socket.on("synced",t=>this.userSynced(t)),this.socket.on("acted",t=>this.userActed(t)),this.socket.on("connect_error",t=>{de().error=`${$e.error.invalid.online}${t.message}`}))}usersUpdated(t){console.log("usersUpdated",t);const n=de().multiplayer;n.users=t,n.local||(n.local=t[0],this.joinGame())}joinGame(){this.socket&&this.socket.emit("join",de().multiplayer.local)}hostUpdated(t){const n=de().multiplayer;n.host!==t&&(n.host=t,console.log("hostUpdated",t,n.isHostLocal()))}userJoined(t){const n=de().multiplayer;console.log("userJoined",t),t&&Y.numberPlayers===n.users.length&&this.syncGame()}syncGame(){if(!this.socket)return;const t=de().multiplayer;if(!t.local)return;t.isHostLocal()&&de().pickFirstTurnPlayer();const n=de().createSetupPacket();n.h=t.host,this.socket.emit("sync",n)}isPlayerRemote(t){var r;return(r=de().playerForID(t))==null?void 0:r.remote}userLeft(t){console.log("userLeft",t);const n=de().multiplayer;n.users=n.users.filter(r=>r!==t)}userSynced(t){console.log("userSynced",t);const n=de().multiplayer;n.host=t.h,n.local&&setTimeout(()=>{!n.isHostLocal()&&de().players.length===1?de().loadSetupPacket(t):de().loadSetupPlayer(t)},Y.defaultTimeout)}userActed(t){if(console.log("userActed",t),!this.isPlayerRemote(t.pID))return;const n=de();t.act===_t.Burn?n.burnOfferingWithID(t.oID):t.act===_t.Place?n.placeOfferingWithID(t.oID,t.lID,t.dir):t.act===_t.Reset?n.undoPlacements():t.act===_t.Palm&&n.palmOfferings()}burnOffering(t,n){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:_t.Burn,pID:t,oID:n})}placeOffering(t,n,r,s){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:_t.Place,pID:t,oID:n,lID:r,dir:s})}resetOfferings(t){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:_t.Reset,pID:t})}palmOfferings(t){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:_t.Palm,pID:t})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}}const on=new zf,Gf=999999999,de=Cl("game",{state:()=>({rotate:!1,altar:null,players:[],multiplayer:null,kitty:null,limbo:null,offerings:[],omens:[],turn:ye.None,portents:[],burners:[],error:""}),getters:{getAllPlaces({altar:e,players:t,kitty:n,limbo:r}){const s=[];return e&&s.push(...e.places),t&&t.forEach(o=>s.push(...o.places)),n&&s.push(n.place),r&&s.push(...r.places),s},getAltarOfferingPlaces({altar:e}){return(e==null?void 0:e.places.filter(t=>t.type==="offering"))||[]},getAltarOfferings({offerings:e}){return e.filter(t=>t.zone===X.Altar)},getUnlitAltarOfferings({offerings:e}){return e.filter(t=>t.zone===X.Altar&&!t.burning)},getAltarPortents(){const e=Y.altarSize,t=[],n=this.getUnlitAltarOfferings;for(let o=1;o<=e;o++){const a=n.filter(c=>c.location.y===o);this.getMatchingTilesWithTiles(a,t);const f=n.filter(c=>c.location.x===o);this.getMatchingTilesWithTiles(f,t)}const r=n.filter(o=>o.location.x===o.location.y);this.getMatchingTilesWithTiles(r,t);const s=n.filter(o=>o.location.x+o.location.y===e+1);return this.getMatchingTilesWithTiles(s,t),t},getAltarPortentOfferings(){const e=[];return this.getAltarPortents.forEach(t=>e.push(...t)),e},getAltarActiveOmens(){const e=Y.altarSize,t=[...this.omens.filter(o=>o.zone===X.Altar),...this.getAltarPortentOfferings],n=[];for(let o=1;o<=e;o++){const a=t.filter(c=>c.location.y===o);this.getActiveOmensForSet(a,n);const f=t.filter(c=>c.location.x===o);this.getActiveOmensForSet(f,n)}const r=t.filter(o=>o.location.x===o.location.y);this.getActiveOmensForSet(r,n);const s=t.filter(o=>o.location.x+o.location.y===e+1);return this.getActiveOmensForSet(s,n),n.filter(o=>o.type==="omen")},getActiveOmensForSet:()=>(e,t)=>{const n=e.filter(r=>r.type==="offering");return n.length>=Y.setSize&&e.filter(s=>s.type==="omen").forEach(s=>{const o=[...n,s],a=o.map(c=>c.celestial).allEqual(),f=o.map(c=>c.sacrifice).allEqual();(a||f)&&o.forEach(c=>{t.includes(c)||t.push(c)})}),t},getPlayerOfferings({offerings:e}){return e.filter(t=>t.zone===X.Player)},getPlayerPortents({players:e}){const t=[];return e.forEach(n=>{const r=this.getPlayerOfferings.filter(s=>s.player===n.id);this.getMatchingTilesWithTiles(r,t)}),t},getMatchingTilesWithTiles:()=>(e,t)=>e.length!==Y.setSize?[]:((e.map(n=>n.celestial).allEqual()||e.map(n=>n.sacrifice).allEqual())&&(t.includes(e)||t.push(e)),t),getSelectedOfferings(){return this.offerings.filter(e=>e.selected)},getBurningOfferings(){return this.offerings.filter(e=>e.burning)},getBurnableOfferings(){return this.turn!==ye.Start&&this.turn!==ye.Ignite?[]:this.burners.filter(e=>!e.burning)},getPlacedOfferings(){return this.turn!==ye.Replace?[]:this.getAltarOfferings.filter(e=>e.previous&&e.direction)},getEnabledOfferings(){return this.getCurrentPlayerTurn?this.turn===ye.Start?this.getAltarOfferings:this.turn===ye.Replace?this.getCurrentPlayerOfferings:this.turn===ye.Ignite?this.burners.filter(e=>!e.burning):[]:[]},getDisabledOfferings(){return this.offerings.filter(e=>{var r;const t=e.zone===X.Player&&this.getOfferingPlayer(e)!==this.getCurrentPlayer,n=e.zone===X.Player&&((r=this.getOfferingPlayer(e))==null?void 0:r.remote);return t||n})},getHeldOffering(){return this.offerings.find(e=>e.holding===!0)||null},getLimboOfferings(){return this.offerings.filter(e=>e.zone===X.Limbo)},getLeftDirectionEnabled(){if(this.turn!==ye.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==te.None);return e?e.direction===te.Left:!0},getRightDirectionEnabled(){if(this.turn!==ye.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==te.None);return e?e.direction===te.Right:!0},getUpDirectionEnabled(){if(this.turn!==ye.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==te.None);return e?e.direction===te.Up:!0},getDownDirectionEnabled(){if(this.turn!==ye.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==te.None);return e?e.direction===te.Down:!0},getLocalPlayer({players:e}){return e.find(t=>t.remote===!1)||null},getRemotePlayer({players:e}){return e.find(t=>t.remote===!0)||null},getCurrentPlayer({players:e}){return e.find(t=>t.turn===!0)||null},getCurrentPlayerTurn({players:e}){return!!e.find(t=>t.turn===!0&&!t.remote)},getCurrentPlayerOfferings(){const e=this.getCurrentPlayer;return e&&!e.remote?this.offerings.filter(t=>t.player===e.id):[]},getNextPlayer:({players:e})=>t=>{let n=t?e.indexOf(t)+1:0;return n>=e.length&&(n=0),e[n]},getOfferingPlayer:({players:e})=>t=>e.find(n=>n.id===t.player)||null,getPlaceOffering:({offerings:e})=>t=>e.find(n=>n.isEqual(t))||null,getPlaceOmen:({omens:e})=>t=>e.find(n=>n.isEqual(t))||null,getPlayerFortunes:({omens:e})=>t=>{const n=[],r=e.filter(s=>s.zone===X.Player&&s.player===t);for(let s=1;s<mt.Count;s++){const o=r.filter(a=>a.celestial===s);o.length>=Y.fortuneMinor&&n.push(o)}for(let s=1;s<In.Count;s++){const o=r.filter(a=>a.sacrifice===s);o.length>=Y.fortuneMinor&&n.push(o)}return n},getPlayerWinner({players:e}){return this.getBurningOfferings.length===Y.winningBurn?e.find(t=>t.turn)||null:e.find(t=>{const n=this.getPlayerFortunes(t.id);return!!n.find(s=>s.length===Y.fortuneMajor)||n.length>=Y.winningFortunes})||null},getTurnPhaseString({turn:e}){return e?$e.phases[e]:""}},actions:{playerForID(e){return this.players.find(t=>t.id===e)||null},offeringForID(e){return this.offerings.find(t=>t.getID()===e)||null},omenForID(e){return this.omens.find(t=>t.getID()===e)||null},placeForID(e){return this.getAllPlaces.find(t=>t.getID()===e)||null},gameInit(){this.gameReset()},gameReset(){for(this.altar=this.createAltar(),this.players=this.createPlayers(),this.kitty=this.createKitty(),this.limbo=this.createLimbo(),this.offerings=this.createOfferings(),this.omens=this.createOmens(),this.turn=ye.None,this.portents=[],this.burners=[],this.error="";this.foreseeInitialPortents();)console.log("DEBUG:","gameReset - shuffling"),this.gameReset();this.altar.clearPlaces(),this.players.forEach(e=>e.clearPlaces())},playSolo(){this.gameClear(),this.error=$e.error.invalid.solo},playOnline(){const e=Math.round(Math.random()*Gf);this.gameClear(),this.gameReset(),this.players=[],this.players.push(this.createPlayer(e)),this.multiplayer=this.createMultiplayer(),on.setupSocketConnection()},playHotseat(){this.gameClear(),this.gameReset(),this.pickFirstTurnPlayer(),this.pushGameView()},pushGameView(){this.$router.push("game")},gameStart(){setTimeout(()=>{let e=this.placeOmens(Y.delayFactor);e=this.placeOfferings(e),e=this.dealHands(e),this.rewardKitty(e),this.burners=[...this.getAltarOfferings],this.turn=ye.Start},Y.defaultTimeout)},gameEnd(){on.disconnect()},gameClear(){this.altar=null,this.players=[],this.multiplayer=null,this.kitty=null,this.limbo=null,this.offerings=[],this.omens=[],this.turn=ye.None,this.portents=[],this.burners=[],this.error=""},clearError(){this.error=""},createAltar(){const e=new Qu;return e.setupPlaces(),e},createPlayer(e){const t=new dn(e);return t.setupPlaces(),t},createPlayers(){const e=[];for(let t=1;t<=Y.numberPlayers;t++)e.push(this.createPlayer(t));return e},createMultiplayer(){return new ef},createKitty(){return new Ju},createLimbo(){const e=new Zu;return e.setupPlaces(),e},createOfferings(){const e=[];for(let t=1;t<mt.Count;t++)for(let n=1;n<In.Count;n++)e.push(new Un(t,n));return e.shuffle()},createOmens(){const e=[];for(let t=1;t<mt.Count;t++)for(let n=1;n<In.Count;n++)e.push(new qn(t,n));return e.shuffle()},createSetupPacket(){const e=new tf;return e.p=this.encodeObject(this.players.map(t=>t.encoded())),e.f=this.encodeObject(this.offerings.map(t=>t.encoded())),e.m=this.encodeObject(this.omens.map(t=>t.encoded())),e.t=this.turn,e},encodeObject(e){const t=JSON.stringify(e);return btoa(t)},loadSetupPacket(e){this.offerings=[],this.omens=[],this.turn=e.t,Fe(()=>{this.decodeObject(e.p).forEach(n=>{const r=this.players.find(s=>s.id===n.i)||null;r?r.turn=n.t:this.players.push(dn.load(n))}),this.players.length===Y.numberPlayers&&!this.getCurrentPlayer&&this.getLocalPlayer&&(this.getLocalPlayer.turn=!0),this.decodeObject(e.m).forEach(n=>this.omens.push(qn.load(n))),this.decodeObject(e.f).forEach(n=>this.offerings.push(Un.load(n))),Fe(()=>this.pushGameView())})},loadSetupPlayer(e){Fe(()=>{this.decodeObject(e.p).forEach(t=>{const n=this.players.find(r=>r.id===t.i)||null;n?n.turn=t.t:this.players.push(dn.load(t))}),this.players.length===Y.numberPlayers&&!this.getCurrentPlayer&&this.getRemotePlayer&&(this.getRemotePlayer.turn=!0),Fe(()=>this.pushGameView())})},decodeObject(e){if(!e)return"";const t=atob(e);return JSON.parse(t)},foreseeInitialPortents(){let e=null;return this.offerings.forEach(t=>{if(!this.altar)return;let n=this.altar.getOpenPlace("offering");!n&&(e=this.getNextPlayer(e),n=e.getOpenPlace("offering"),!n)||this.updateTileForPlace(t,n)}),this.getAltarPortents.length>0||this.getPlayerPortents.length>0},placeOmens(e){let t=e;return this.omens.forEach(n=>{if(!this.altar)return;const r=this.altar.getOpenPlace("omen");r&&(this.sendTileToPlace(n,r,t),t+=Y.delayFactor)}),t},placeOfferings(e){let t=e;return this.offerings.forEach(n=>{if(!this.altar)return;const r=this.altar.getOpenPlace("offering");r&&(this.sendTileToPlace(n,r,t),t+=Y.delayFactor)}),t},dealHands(e){let t=e,n=this.getCurrentPlayer;return this.offerings.forEach(r=>{if(r.zone===X.Altar)return;n=this.getNextPlayer(n);const s=n.getOpenPlace("offering");s&&(t+=Y.delayFactor,this.sendTileToPlace(r,s,t))}),t},rewardKitty(e){const t=this.offerings.find(r=>r.zone===X.None);if(!t)return;const n=new yt("offering",X.Kitty,new Oe(1,1),0);this.sendTileToPlace(t,n,e)},sendTileToPlace(e,t,n,r=!1){const s=document.getElementById(e.getID()),o=Oe.centerCoordForObjectWithID(t.getID());if(!s||!o)return;const a=e.zone,f=t.zone;this.updateTileForPlace(e,t);const c=r?0:ji().getSpeed;r?n=0:this.playTileSendSound(n);const d=a===X.Altar&&f===X.Altar;this.animateElementToPlace(s,t,c,n,d)},playTileSendSound(e){setTimeout(()=>{this.playSound("deal")},e*1e3)},animateElementToPlace(e,t,n,r,s){const o=Oe.centerCoordForObjectWithID(t.getID());if(e.style.transition=`top ${n}s ease-out ${r}s, left ${n}s ease-out ${r}s, transform ${n}s ease-out ${r}s`,e.style.top=`${o.y-e.offsetHeight/2}px`,e.style.left=`${o.x-e.offsetWidth/2}px`,e.style.transform=`scale(${this.tileScaleForZone(t.zone,t.player)})`,!s){e.classList.add("flying");const a=(n+r)*1e3;setTimeout(()=>{e.classList.remove("flying")},a)}},tileScaleForZone(e,t){var r;const n=t!==((r=this.getCurrentPlayer)==null?void 0:r.id);switch(e){case X.Altar:return 1;case X.Kitty:return .6;case X.Limbo:return .9;case X.Player:return n?.8:1;default:return 1}},updateTileForPlace(e,t){t.filled=!0,e.previous||(e.previous=e.location),e.location=t.location,e.zone=t.zone,e.player=t.player,e.selected=!1,this.flushEmptyOfferingPlaces()},flushEmptyOfferingPlaces(){this.getAllPlaces.forEach(e=>{e.type==="offering"&&!this.getPlaceOffering(e)&&(e.filled=!1)})},fixAllTilePlaces(e=!1,t=!0){let n=Y.delayFactor;this.getAllPlaces.forEach(r=>{const s=this.getPlaceOffering(r);s&&this.sendTileToPlace(s,r,n,e);const o=this.getPlaceOmen(r);o&&this.sendTileToPlace(o,r,n,e),t&&(s||o)&&(n+=Y.delayFactor)})},pickFirstTurnPlayer(){const e=Math.random()<.5;this.players[0].turn=e,this.players.length>1&&(this.players[1].turn=!e)},selectOffering(e){this.getEnabledOfferings.includes(e)&&(this.turn===ye.Start||this.turn===ye.Ignite)&&this.burnOffering(e)},burnOfferingWithID(e){const t=this.offeringForID(e);t&&this.burnOffering(t)},burnOffering(e){var n;on.burnOffering(((n=this.getCurrentPlayer)==null?void 0:n.id)||0,e.getID());const t=this.portents.filter(r=>r.includes(e)).length;e.burning=!0,this.turn===ye.Start?(this.turn=ye.Ignite,this.nextTurnPhase()):(t===1&&(this.burners=[...this.getAltarPortentOfferings]),this.checkDoneBurningOfferings())},checkPalmPortentValidity(){const e=this.getCurrentPlayerOfferings.filter(n=>!n.selected),t=this.offerings.filter(n=>n.zone===X.Limbo);return e.push(...t),e.map(n=>n.celestial).allEqual()||e.map(n=>n.sacrifice).allEqual()?(this.error=$e.error.invalid.hand,!1):!0},pushDirectionValid(e){const t=this.getAltarOfferings.find(n=>n.direction!==te.None);return t?t.direction===e:!0},pushOfferingAtPlaceWithID(e,t){const n=this.getAllPlaces.find(r=>r.getID()===e)||null;n&&this.pushOfferingAtPlace(n,t)},pushOfferingAtPlace(e,t){if(!this.pushDirectionValid(t))return;const n=this.getPlaceOffering(e);n&&!n.pushed&&this.isEdgeTileForDirection(n,t)&&(this.pushOffering(n,t),e.filled=!1)},pushOffering(e,t){if(e.burning&&this.isEdgeTileForDirection(e,t,!0))return!1;const n=this.adjacentOfferingForDirection(e,t);if(n&&!this.pushOffering(n,t))return!1;const r=document.getElementById(`${e.getID()}`);if(!r)return!1;const s=t===te.Left?-1:t===te.Right?1:0,o=t===te.Up?-1:t===te.Down?1:0;return r.style.transitionDelay="0s",r.style.transitionDuration=".1s",r.style.transform=`translate(${100*s}%, ${100*o}%)`,e.pushed=t,!0},isEdgeTileForDirection(e,t,n=!1){const s=Y.altarSize-1;return t===te.Down&&e.location.y===(n?s:2)||t===te.Up&&e.location.y===(n?2:s)||t===te.Right&&e.location.x===(n?s:2)||t===te.Left&&e.location.x===(n?2:s)},adjacentOfferingForDirection(e,t){const n=this.getAltarOfferings,r=e.location;switch(t){case te.Up:return n.find(s=>s.location.x===r.x&&s.location.y===r.y-1);case te.Down:return n.find(s=>s.location.x===r.x&&s.location.y===r.y+1);case te.Left:return n.find(s=>s.location.x===r.x-1&&s.location.y===r.y);case te.Right:return n.find(s=>s.location.x===r.x+1&&s.location.y===r.y);case te.None:return}},resetOfferings(){var e;this.offerings.filter(t=>t.zone===X.Altar).forEach(t=>{const n=document.getElementById(`${t.getID()}`);n&&(n.style.transform="translate(0, 0)",t.pushed=te.None)}),(e=this.altar)==null||e.places.filter(t=>t.type==="offering").forEach(t=>t.filled=!0)},placeOfferingWithID(e,t,n){const r=this.offeringForID(e),s=this.placeForID(t);r&&s&&(this.pushOfferingAtPlaceWithID(s.getID(),n),this.dropOfferingOnPlace(r,s,n))},dropOffering(e){var r;const t=this.getHeldOffering,n=(r=this.getAltarOfferings.find(s=>s.pushed!==te.None))==null?void 0:r.pushed;t&&n&&this.dropOfferingOnPlace(t,e,n)},dropOfferingOnPlace(e,t,n){var r;t.type!=="offering"||t.filled||(on.placeOffering(((r=this.getCurrentPlayer)==null?void 0:r.id)||0,e.getID(),t.getID(),n),this.sendTileToPlace(e,t,0,!0),this.updatePushedOfferings(),this.resetOfferingPushStatus())},updatePushedOfferings(){this.offerings.forEach(e=>{if(e.pushed!==te.None){let t=null;if(e.pushed===te.Up&&(t=this.findPlaceAtLocation(e.location.x,e.location.y-1)),e.pushed===te.Down&&(t=this.findPlaceAtLocation(e.location.x,e.location.y+1)),e.pushed===te.Left&&(t=this.findPlaceAtLocation(e.location.x-1,e.location.y)),e.pushed===te.Right&&(t=this.findPlaceAtLocation(e.location.x+1,e.location.y)),t)this.sendTileToPlace(e,t,0,!0);else if(this.limbo){const n=this.limbo.getOpenPlace()||null;n&&this.sendTileToPlace(e,n,0)}}})},resetOfferingPushStatus(){this.offerings.forEach(e=>e.pushed=te.None)},findPlaceAtLocation(e,t){return this.getAllPlaces.filter(n=>n.zone===X.Altar&&n.type==="offering").find(n=>n.location.x===e&&n.location.y===t)||null},undoPlacements(){var e;on.resetOfferings(((e=this.getCurrentPlayer)==null?void 0:e.id)||0),this.offerings.forEach(t=>{var r,s;if(t.zone===X.Kitty||t.player&&t.player!==((r=this.getCurrentPlayer)==null?void 0:r.id)||!t.previous)return;let n=this.getAltarOfferingPlaces.find(o=>{var a,f;return o.location.x===((a=t.previous)==null?void 0:a.x)&&o.location.y===((f=t.previous)==null?void 0:f.y)})||null;n||(n=((s=this.getCurrentPlayer)==null?void 0:s.places.find(o=>{var a,f;return o.location.x===((a=t.previous)==null?void 0:a.x)&&o.location.y===((f=t.previous)==null?void 0:f.y)}))||null),n&&this.sendTileToPlace(t,n,0)}),this.clearOfferingSettings()},clearOfferingSettings(){this.offerings.forEach(e=>{e.previous=null,e.holding=!1,e.overlaps=!1,e.pushed=te.None,e.direction=te.None})},palmOfferings(){var r;on.palmOfferings(((r=this.getCurrentPlayer)==null?void 0:r.id)||0);let e=Y.delayFactor;const t=this.getCurrentPlayer;this.offerings.forEach(s=>{if(s.zone!==X.Limbo||!t)return;const o=t.getOpenPlace("offering");o&&(e+=Y.delayFactor,s.pushed=te.None,this.sendTileToPlace(s,o,e))});const n=Y.defaultTimeout+e*100;setTimeout(()=>{this.collectOmens(),this.setupBurnerOfferings(),this.checkDoneBurningOfferings(),this.nextTurnPhase()},n)},setupBurnerOfferings(){this.portents=this.getAltarPortents,this.burners=[...this.getAltarPortentOfferings]},collectOmens(){this.getAltarActiveOmens.forEach(e=>this.collectOmen(e))},collectOmen(e){const t=this.getCurrentPlayer;if(!t)return;const n=t.getOpenPlace("omen");n&&this.sendTileToPlace(e,n,0)},checkDoneBurningOfferings(){const e=[];this.portents.forEach(t=>t.forEach(n=>{n.burning&&!e.includes(n)&&e.push(n)})),e.length===this.portents.length&&this.resetBurningOfferings(e)},resetBurningOfferings(e){const t=[...this.getBurningOfferings].filter(r=>!e.includes(r));this.offerings.forEach(r=>r.burning=!1);const n=[...this.getAltarPortentOfferings];t.forEach(r=>{n.includes(r)&&(r.burning=!0)}),e.forEach(r=>r.burning=!0),this.burners=[],this.nextTurnPhase()},nextTurnPhase(){this.turn++,this.turn===ye.Swap&&this.nextPlayerTurn()},nextPlayerTurn(){this.clearOfferingSettings();const e=this.players.find(t=>!t.turn);this.players.forEach(t=>t.turn=!1),setTimeout(()=>{e.turn=!0,setTimeout(()=>{this.fixAllTilePlaces(!0),this.turn=ye.Replace},Y.defaultTimeout)},Y.defaultTimeout)},openSettings(){this.error=$e.error.invalid.settings},playSound(e){new kl.Howl({src:[new URL(Object.assign({"../assets/sounds/deal.mp3":Yu})[`../assets/sounds/${e}.mp3`],import.meta.url).href],volume:ji().getVolume}).play()}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const an=typeof window<"u";function Kf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pe=Object.assign;function Zr(e,t){const n={};for(const r in t){const s=t[r];n[r]=it(s)?s.map(e):e(s)}return n}const Ln=()=>{},it=Array.isArray,Xf=/\/$/,Yf=e=>e.replace(Xf,"");function es(e,t,n="/"){let r,s={},o="",a="";const f=t.indexOf("#");let c=t.indexOf("?");return f<c&&f>=0&&(c=-1),c>-1&&(r=t.slice(0,c),o=t.slice(c+1,f>-1?f:t.length),s=e(o)),f>-1&&(r=r||t.slice(0,f),a=t.slice(f,t.length)),r=ed(r??t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:s,hash:a}}function Qf(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function to(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Jf(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&gn(t.matched[r],n.matched[s])&&Wl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Zf(e[n],t[n]))return!1;return!0}function Zf(e,t){return it(e)?no(e,t):it(t)?no(t,e):e===t}function no(e,t){return it(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ed(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,a,f;for(a=0;a<r.length;a++)if(f=r[a],f!==".")if(f==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var jn;(function(e){e.pop="pop",e.push="push"})(jn||(jn={}));var Bn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bn||(Bn={}));function td(e){if(!e)if(an){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Yf(e)}const nd=/^[^#]+#/;function rd(e,t){return e.replace(nd,"#")+t}function sd(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Nr=()=>({left:window.pageXOffset,top:window.pageYOffset});function id(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=sd(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ro(e,t){return(history.state?history.state.position-t:-1)+e}const Ss=new Map;function od(e,t){Ss.set(e,t)}function ld(e){const t=Ss.get(e);return Ss.delete(e),t}let ad=()=>location.protocol+"//"+location.host;function zl(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let f=s.includes(e.slice(o))?e.slice(o).length:1,c=s.slice(f);return c[0]!=="/"&&(c="/"+c),to(c,"")}return to(n,e)+r+s}function cd(e,t,n,r){let s=[],o=[],a=null;const f=({state:l})=>{const u=zl(e,location),p=n.value,m=t.value;let v=0;if(l){if(n.value=u,t.value=l,a&&a===p){a=null;return}v=m?l.position-m.position:0}else r(u);s.forEach(_=>{_(n.value,p,{delta:v,type:jn.pop,direction:v?v>0?Bn.forward:Bn.back:Bn.unknown})})};function c(){a=n.value}function d(l){s.push(l);const u=()=>{const p=s.indexOf(l);p>-1&&s.splice(p,1)};return o.push(u),u}function h(){const{history:l}=window;l.state&&l.replaceState(pe({},l.state,{scroll:Nr()}),"")}function i(){for(const l of o)l();o=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:i}}function so(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Nr():null}}function ud(e){const{history:t,location:n}=window,r={value:zl(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,d,h){const i=e.indexOf("#"),l=i>-1?(n.host&&document.querySelector("base")?e:e.slice(i))+c:ad()+e+c;try{t[h?"replaceState":"pushState"](d,"",l),s.value=d}catch(u){console.error(u),n[h?"replace":"assign"](l)}}function a(c,d){const h=pe({},t.state,so(s.value.back,c,s.value.forward,!0),d,{position:s.value.position});o(c,h,!0),r.value=c}function f(c,d){const h=pe({},s.value,t.state,{forward:c,scroll:Nr()});o(h.current,h,!0);const i=pe({},so(r.value,c,null),{position:h.position+1},d);o(c,i,!1),r.value=c}return{location:r,state:s,push:f,replace:a}}function fd(e){e=td(e);const t=ud(e),n=cd(e,t.state,t.location,t.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const s=pe({location:"",base:e,go:r,createHref:rd.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function dd(e){return typeof e=="string"||e&&typeof e=="object"}function Gl(e){return typeof e=="string"||typeof e=="symbol"}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kl=Symbol("");var io;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(io||(io={}));function _n(e,t){return pe(new Error,{type:e,[Kl]:!0},t)}function gt(e,t){return e instanceof Error&&Kl in e&&(t==null||!!(e.type&t))}const oo="[^/]+?",hd={sensitive:!1,strict:!1,start:!0,end:!0},pd=/[.+*?^${}()[\]/\\]/g;function gd(e,t){const n=pe({},hd,t),r=[];let s=n.start?"^":"";const o=[];for(const d of e){const h=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let i=0;i<d.length;i++){const l=d[i];let u=40+(n.sensitive?.25:0);if(l.type===0)i||(s+="/"),s+=l.value.replace(pd,"\\$&"),u+=40;else if(l.type===1){const{value:p,repeatable:m,optional:v,regexp:_}=l;o.push({name:p,repeatable:m,optional:v});const w=_||oo;if(w!==oo){u+=10;try{new RegExp(`(${w})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+k.message)}}let S=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;i||(S=v&&d.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),s+=S,u+=20,v&&(u+=-8),m&&(u+=-20),w===".*"&&(u+=-50)}h.push(u)}r.push(h)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function f(d){const h=d.match(a),i={};if(!h)return null;for(let l=1;l<h.length;l++){const u=h[l]||"",p=o[l-1];i[p.name]=u&&p.repeatable?u.split("/"):u}return i}function c(d){let h="",i=!1;for(const l of e){(!i||!h.endsWith("/"))&&(h+="/"),i=!1;for(const u of l)if(u.type===0)h+=u.value;else if(u.type===1){const{value:p,repeatable:m,optional:v}=u,_=p in d?d[p]:"";if(it(_)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=it(_)?_.join("/"):_;if(!w)if(v)l.length<2&&(h.endsWith("/")?h=h.slice(0,-1):i=!0);else throw new Error(`Missing required param "${p}"`);h+=w}}return h||"/"}return{re:a,score:r,keys:o,parse:f,stringify:c}}function _d(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function md(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=_d(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(lo(r))return 1;if(lo(s))return-1}return s.length-r.length}function lo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const yd={type:0,value:""},vd=/[a-zA-Z0-9_]/;function bd(e){if(!e)return[[]];if(e==="/")return[[yd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(u){throw new Error(`ERR (${n})/"${d}": ${u}`)}let n=0,r=n;const s=[];let o;function a(){o&&s.push(o),o=[]}let f=0,c,d="",h="";function i(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function l(){d+=c}for(;f<e.length;){if(c=e[f++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(d&&i(),a()):c===":"?(i(),n=1):l();break;case 4:l(),n=r;break;case 1:c==="("?n=2:vd.test(c)?l():(i(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&f--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:n=3:h+=c;break;case 3:i(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&f--,h="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),i(),a(),s}function wd(e,t,n){const r=gd(bd(e.path),n),s=pe(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Ad(e,t){const n=[],r=new Map;t=uo({strict:!1,end:!0,sensitive:!1},t);function s(h){return r.get(h)}function o(h,i,l){const u=!l,p=Ed(h);p.aliasOf=l&&l.record;const m=uo(t,h),v=[p];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of S)v.push(pe({},p,{components:l?l.record.components:p.components,path:k,aliasOf:l?l.record:p}))}let _,w;for(const S of v){const{path:k}=S;if(i&&k[0]!=="/"){const H=i.record.path,D=H[H.length-1]==="/"?"":"/";S.path=i.record.path+(k&&D+k)}if(_=wd(S,i,m),l?l.alias.push(_):(w=w||_,w!==_&&w.alias.push(_),u&&h.name&&!co(_)&&a(h.name)),p.children){const H=p.children;for(let D=0;D<H.length;D++)o(H[D],_,l&&l.children[D])}l=l||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&c(_)}return w?()=>{a(w)}:Ln}function a(h){if(Gl(h)){const i=r.get(h);i&&(r.delete(h),n.splice(n.indexOf(i),1),i.children.forEach(a),i.alias.forEach(a))}else{const i=n.indexOf(h);i>-1&&(n.splice(i,1),h.record.name&&r.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function f(){return n}function c(h){let i=0;for(;i<n.length&&md(h,n[i])>=0&&(h.record.path!==n[i].record.path||!Xl(h,n[i]));)i++;n.splice(i,0,h),h.record.name&&!co(h)&&r.set(h.record.name,h)}function d(h,i){let l,u={},p,m;if("name"in h&&h.name){if(l=r.get(h.name),!l)throw _n(1,{location:h});m=l.record.name,u=pe(ao(i.params,l.keys.filter(w=>!w.optional).map(w=>w.name)),h.params&&ao(h.params,l.keys.map(w=>w.name))),p=l.stringify(u)}else if("path"in h)p=h.path,l=n.find(w=>w.re.test(p)),l&&(u=l.parse(p),m=l.record.name);else{if(l=i.name?r.get(i.name):n.find(w=>w.re.test(i.path)),!l)throw _n(1,{location:h,currentLocation:i});m=l.record.name,u=pe({},i.params,h.params),p=l.stringify(u)}const v=[];let _=l;for(;_;)v.unshift(_.record),_=_.parent;return{name:m,path:p,params:u,matched:v,meta:Sd(v)}}return e.forEach(h=>o(h)),{addRoute:o,resolve:d,removeRoute:a,getRoutes:f,getRecordMatcher:s}}function ao(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ed(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function co(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Sd(e){return e.reduce((t,n)=>pe(t,n.meta),{})}function uo(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Xl(e,t){return t.children.some(n=>n===e||Xl(e,n))}const Yl=/#/g,Od=/&/g,Pd=/\//g,Td=/=/g,Cd=/\?/g,Ql=/\+/g,kd=/%5B/g,Rd=/%5D/g,Jl=/%5E/g,Id=/%60/g,Zl=/%7B/g,Ld=/%7C/g,ea=/%7D/g,Bd=/%20/g;function ei(e){return encodeURI(""+e).replace(Ld,"|").replace(kd,"[").replace(Rd,"]")}function Md(e){return ei(e).replace(Zl,"{").replace(ea,"}").replace(Jl,"^")}function Os(e){return ei(e).replace(Ql,"%2B").replace(Bd,"+").replace(Yl,"%23").replace(Od,"%26").replace(Id,"`").replace(Zl,"{").replace(ea,"}").replace(Jl,"^")}function $d(e){return Os(e).replace(Td,"%3D")}function Nd(e){return ei(e).replace(Yl,"%23").replace(Cd,"%3F")}function Fd(e){return e==null?"":Nd(e).replace(Pd,"%2F")}function br(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Dd(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Ql," "),a=o.indexOf("="),f=br(a<0?o:o.slice(0,a)),c=a<0?null:br(o.slice(a+1));if(f in t){let d=t[f];it(d)||(d=t[f]=[d]),d.push(c)}else t[f]=c}return t}function fo(e){let t="";for(let n in e){const r=e[n];if(n=$d(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(it(r)?r.map(o=>o&&Os(o)):[r&&Os(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Hd(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=it(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Vd=Symbol(""),ho=Symbol(""),Fr=Symbol(""),ta=Symbol(""),Ps=Symbol("");function Sn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Lt(e,t,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,f)=>{const c=i=>{i===!1?f(_n(4,{from:n,to:t})):i instanceof Error?f(i):dd(i)?f(_n(2,{from:t,to:i})):(o&&r.enterCallbacks[s]===o&&typeof i=="function"&&o.push(i),a())},d=e.call(r&&r.instances[s],t,n,c);let h=Promise.resolve(d);e.length<3&&(h=h.then(c)),h.catch(i=>f(i))})}function ts(e,t,n,r){const s=[];for(const o of e)for(const a in o.components){let f=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Ud(f)){const d=(f.__vccOpts||f)[t];d&&s.push(Lt(d,n,r,o,a))}else{let c=f();s.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=Kf(d)?d.default:d;o.components[a]=h;const l=(h.__vccOpts||h)[t];return l&&Lt(l,n,r,o,a)()}))}}return s}function Ud(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function po(e){const t=rt(Fr),n=rt(ta),r=W(()=>t.resolve(j(e.to))),s=W(()=>{const{matched:c}=r.value,{length:d}=c,h=c[d-1],i=n.matched;if(!h||!i.length)return-1;const l=i.findIndex(gn.bind(null,h));if(l>-1)return l;const u=go(c[d-2]);return d>1&&go(h)===u&&i[i.length-1].path!==u?i.findIndex(gn.bind(null,c[d-2])):l}),o=W(()=>s.value>-1&&zd(n.params,r.value.params)),a=W(()=>s.value>-1&&s.value===n.matched.length-1&&Wl(n.params,r.value.params));function f(c={}){return Wd(c)?t[j(e.replace)?"replace":"push"](j(e.to)).catch(Ln):Promise.resolve()}return{route:r,href:W(()=>r.value.href),isActive:o,isExactActive:a,navigate:f}}const qd=Pe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:po,setup(e,{slots:t}){const n=Wn(po(e)),{options:r}=rt(Fr),s=W(()=>({[_o(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[_o(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Ws("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),jd=qd;function Wd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zd(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!it(s)||s.length!==r.length||r.some((o,a)=>o!==s[a]))return!1}return!0}function go(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const _o=(e,t,n)=>e??t??n,Gd=Pe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=rt(Ps),s=W(()=>e.route||r.value),o=rt(ho,0),a=W(()=>{let d=j(o);const{matched:h}=s.value;let i;for(;(i=h[d])&&!i.components;)d++;return d}),f=W(()=>s.value.matched[a.value]);ar(ho,W(()=>a.value+1)),ar(Vd,f),ar(Ps,s);const c=dt();return wt(()=>[c.value,f.value,e.name],([d,h,i],[l,u,p])=>{h&&(h.instances[i]=d,u&&u!==h&&d&&d===l&&(h.leaveGuards.size||(h.leaveGuards=u.leaveGuards),h.updateGuards.size||(h.updateGuards=u.updateGuards))),d&&h&&(!u||!gn(h,u)||!l)&&(h.enterCallbacks[i]||[]).forEach(m=>m(d))},{flush:"post"}),()=>{const d=s.value,h=e.name,i=f.value,l=i&&i.components[h];if(!l)return mo(n.default,{Component:l,route:d});const u=i.props[h],p=u?u===!0?d.params:typeof u=="function"?u(d):u:null,v=Ws(l,pe({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(i.instances[h]=null)},ref:c}));return mo(n.default,{Component:v,route:d})||v}}});function mo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const na=Gd;function Kd(e){const t=Ad(e.routes,e),n=e.parseQuery||Dd,r=e.stringifyQuery||fo,s=e.history,o=Sn(),a=Sn(),f=Sn(),c=Qa(Pt);let d=Pt;an&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Zr.bind(null,E=>""+E),i=Zr.bind(null,Fd),l=Zr.bind(null,br);function u(E,N){let B,V;return Gl(E)?(B=t.getRecordMatcher(E),V=N):V=E,t.addRoute(V,B)}function p(E){const N=t.getRecordMatcher(E);N&&t.removeRoute(N)}function m(){return t.getRoutes().map(E=>E.record)}function v(E){return!!t.getRecordMatcher(E)}function _(E,N){if(N=pe({},N||c.value),typeof E=="string"){const y=es(n,E,N.path),b=t.resolve({path:y.path},N),x=s.createHref(y.fullPath);return pe(y,b,{params:l(b.params),hash:br(y.hash),redirectedFrom:void 0,href:x})}let B;if("path"in E)B=pe({},E,{path:es(n,E.path,N.path).path});else{const y=pe({},E.params);for(const b in y)y[b]==null&&delete y[b];B=pe({},E,{params:i(y)}),N.params=i(N.params)}const V=t.resolve(B,N),he=E.hash||"";V.params=h(l(V.params));const Ae=Qf(r,pe({},E,{hash:Md(he),path:V.path})),g=s.createHref(Ae);return pe({fullPath:Ae,hash:he,query:r===fo?Hd(E.query):E.query||{}},V,{redirectedFrom:void 0,href:g})}function w(E){return typeof E=="string"?es(n,E,c.value.path):pe({},E)}function S(E,N){if(d!==E)return _n(8,{from:N,to:E})}function k(E){return J(E)}function H(E){return k(pe(w(E),{replace:!0}))}function D(E){const N=E.matched[E.matched.length-1];if(N&&N.redirect){const{redirect:B}=N;let V=typeof B=="function"?B(E):B;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=w(V):{path:V},V.params={}),pe({query:E.query,hash:E.hash,params:"path"in V?{}:E.params},V)}}function J(E,N){const B=d=_(E),V=c.value,he=E.state,Ae=E.force,g=E.replace===!0,y=D(B);if(y)return J(pe(w(y),{state:typeof y=="object"?pe({},he,y.state):he,force:Ae,replace:g}),N||B);const b=B;b.redirectedFrom=N;let x;return!Ae&&Jf(r,V,B)&&(x=_n(16,{to:b,from:V}),ot(V,V,!0,!1)),(x?Promise.resolve(x):G(b,V)).catch(A=>gt(A)?gt(A,2)?A:Et(A):ae(A,b,V)).then(A=>{if(A){if(gt(A,2))return J(pe({replace:g},w(A.to),{state:typeof A.to=="object"?pe({},he,A.to.state):he,force:Ae}),N||b)}else A=P(b,V,!0,g,he);return oe(b,V,A),A})}function I(E,N){const B=S(E,N);return B?Promise.reject(B):Promise.resolve()}function R(E){const N=nn.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(E):E()}function G(E,N){let B;const[V,he,Ae]=Xd(E,N);B=ts(V.reverse(),"beforeRouteLeave",E,N);for(const y of V)y.leaveGuards.forEach(b=>{B.push(Lt(b,E,N))});const g=I.bind(null,E,N);return B.push(g),De(B).then(()=>{B=[];for(const y of o.list())B.push(Lt(y,E,N));return B.push(g),De(B)}).then(()=>{B=ts(he,"beforeRouteUpdate",E,N);for(const y of he)y.updateGuards.forEach(b=>{B.push(Lt(b,E,N))});return B.push(g),De(B)}).then(()=>{B=[];for(const y of Ae)if(y.beforeEnter)if(it(y.beforeEnter))for(const b of y.beforeEnter)B.push(Lt(b,E,N));else B.push(Lt(y.beforeEnter,E,N));return B.push(g),De(B)}).then(()=>(E.matched.forEach(y=>y.enterCallbacks={}),B=ts(Ae,"beforeRouteEnter",E,N),B.push(g),De(B))).then(()=>{B=[];for(const y of a.list())B.push(Lt(y,E,N));return B.push(g),De(B)}).catch(y=>gt(y,8)?y:Promise.reject(y))}function oe(E,N,B){f.list().forEach(V=>R(()=>V(E,N,B)))}function P(E,N,B,V,he){const Ae=S(E,N);if(Ae)return Ae;const g=N===Pt,y=an?history.state:{};B&&(V||g?s.replace(E.fullPath,pe({scroll:g&&y&&y.scroll},he)):s.push(E.fullPath,he)),c.value=E,ot(E,N,B,g),Et()}let ee;function _e(){ee||(ee=s.listen((E,N,B)=>{if(!Kn.listening)return;const V=_(E),he=D(V);if(he){J(pe(he,{replace:!0}),V).catch(Ln);return}d=V;const Ae=c.value;an&&od(ro(Ae.fullPath,B.delta),Nr()),G(V,Ae).catch(g=>gt(g,12)?g:gt(g,2)?(J(g.to,V).then(y=>{gt(y,20)&&!B.delta&&B.type===jn.pop&&s.go(-1,!1)}).catch(Ln),Promise.reject()):(B.delta&&s.go(-B.delta,!1),ae(g,V,Ae))).then(g=>{g=g||P(V,Ae,!1),g&&(B.delta&&!gt(g,8)?s.go(-B.delta,!1):B.type===jn.pop&&gt(g,20)&&s.go(-1,!1)),oe(V,Ae,g)}).catch(Ln)}))}let be=Sn(),ne=Sn(),fe;function ae(E,N,B){Et(E);const V=ne.list();return V.length?V.forEach(he=>he(E,N,B)):console.error(E),Promise.reject(E)}function pt(){return fe&&c.value!==Pt?Promise.resolve():new Promise((E,N)=>{be.add([E,N])})}function Et(E){return fe||(fe=!E,_e(),be.list().forEach(([N,B])=>E?B(E):N()),be.reset()),E}function ot(E,N,B,V){const{scrollBehavior:he}=e;if(!an||!he)return Promise.resolve();const Ae=!B&&ld(ro(E.fullPath,0))||(V||!B)&&history.state&&history.state.scroll||null;return Fe().then(()=>he(E,N,Ae)).then(g=>g&&id(g)).catch(g=>ae(g,E,N))}const Ue=E=>s.go(E);let tn;const nn=new Set,Kn={currentRoute:c,listening:!0,addRoute:u,removeRoute:p,hasRoute:v,getRoutes:m,resolve:_,options:e,push:k,replace:H,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:o.add,beforeResolve:a.add,afterEach:f.add,onError:ne.add,isReady:pt,install(E){const N=this;E.component("RouterLink",jd),E.component("RouterView",na),E.config.globalProperties.$router=N,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>j(c)}),an&&!tn&&c.value===Pt&&(tn=!0,k(s.location).catch(he=>{}));const B={};for(const he in Pt)Object.defineProperty(B,he,{get:()=>c.value[he],enumerable:!0});E.provide(Fr,N),E.provide(ta,jo(B)),E.provide(Ps,c);const V=E.unmount;nn.add(E),E.unmount=function(){nn.delete(E),nn.size<1&&(d=Pt,ee&&ee(),ee=null,c.value=Pt,tn=!1,fe=!1),V()}}};function De(E){return E.reduce((N,B)=>N.then(()=>R(B)),Promise.resolve())}return Kn}function Xd(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const f=t.matched[a];f&&(e.matched.find(d=>gn(d,f))?r.push(f):n.push(f));const c=e.matched[a];c&&(t.matched.find(d=>gn(d,c))||s.push(c))}return[n,r,s]}function ti(){return rt(Fr)}const Yd={props:{show:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},closable:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}},Qd="/assets/close-kXDe8dfL.svg",Ke=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Jd=e=>(Dt("data-v-32957742"),e=e(),Ht(),e),Zd={class:"modal flex-column-center padded shadowed"},eh=Jd(()=>$("img",{src:Qd,alt:"close"},null,-1)),th=[eh];function nh(e,t,n,r,s,o){return Q(),Ie(Vn,{name:"zoom"},{default:st(()=>[os($("div",{class:me(["modal-overlay flex-column-center",n.solid?"solid":""])},[n.backdrop?(Q(),xe("div",{key:0,class:"backdrop full-size",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))})):Bt("",!0),$("div",Zd,[n.closable?(Q(),xe("div",{key:0,class:"close shadowed enabled",onClick:t[1]||(t[1]=(...a)=>o.close&&o.close(...a))},th)):Bt("",!0),Lc(e.$slots,"default",{onClose:t[2]||(t[2]=(...a)=>o.close&&o.close(...a))},void 0,!0)])],2),[[gs,n.show]])]),_:3})}const en=Ke(Yd,[["render",nh],["__scopeId","data-v-32957742"]]),rh={class:"menu flex-column-center"},sh=$("br",null,null,-1),ih=Pe({__name:"VictoryComp",setup(e){const t=de(),n=ti(),{getPlayerWinner:r}=Ge(t);let s=dt(!1);wt(r,a=>{a&&(s.value=!0)});function o(){s.value=!1,t.gameEnd(),Fe(()=>{t.gameClear(),Fe(()=>{n.back()})})}return(a,f)=>(Q(),Ie(en,{show:j(s),backdrop:""},{default:st(()=>{var c;return[$("div",rh,[$("h2",null,Me(j($e).player)+" "+Me((c=j(r))==null?void 0:c.id)+" Wins!",1),sh,$("button",{class:"enabled",onClick:o},Me(j($e).menu.again),1)])]}),_:1},8,["show"]))}}),oh={class:"margined"},lh=Pe({__name:"ErrorComp",setup(e){const t=de(),{error:n}=Ge(t);let r=dt(!1);return wt(n,s=>{s&&(r.value=!0)}),wt(r,s=>{s||setTimeout(()=>{t.clearError()},Y.defaultTimeout)}),(s,o)=>(Q(),Ie(en,{show:j(r),closable:"",backdrop:"",onClose:o[0]||(o[0]=a=>Se(r)?r.value=!1:r=!1)},{default:st(()=>[$("h2",null,Me(j($e).error.heading),1),$("p",oh,Me(j(n)),1)]),_:1},8,["show"]))}}),ah={class:"margined"},ch=Pe({__name:"ZoomComp",props:{zoom:{type:Number,default:1}},setup(e){const t=e;return(n,r)=>(Q(),Ie(en,{show:t.zoom>1,solid:""},{default:st(()=>[$("h2",null,Me(j($e).error.heading),1),$("p",ah,Me(j($e).error.invalid.zoom),1),$("p",null,"Zoom: "+Me(t.zoom),1)]),_:1},8,["show"]))}}),uh={key:0},fh=Pe({__name:"App",setup(e){const t=de();let n=dt(!0);Vt(()=>{f(),n.value&&(t.gameInit(),document.addEventListener("contextmenu",d=>{d.preventDefault()}),Fe(()=>{o(),window.addEventListener("resize",r,{passive:!0}),window.addEventListener("scroll",r,{passive:!0}),c()}))}),kr(()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r)});function r(){o(),Fe(()=>{t.fixAllTilePlaces(!0)})}let s=dt(1);function o(){const l=window.innerWidth,u=window.innerHeight,p=l>u*2,m=u>l*3;let v=1;p?v=u/36:m?v=l/36:v=l/2/36,document.body.style.fontSize=`${v}px`,s.value=document.documentElement.clientWidth/window.innerWidth,t.rotate=m}function a(){const d=window.location.search;return new URLSearchParams(d)}function f(){a().get("key")==="kgs"&&(n.value=!0)}function c(){const d=a().get("debug");d&&console.log(d)}return(d,h)=>j(n)?(Q(),xe("div",uh,[ue(j(na)),ue(ih),ue(lh),ue(ch,{zoom:j(s)},null,8,["zoom"])])):Bt("",!0)}}),dh="/assets/home-i96mgIHC.png",hh=e=>(Dt("data-v-ee454a16"),e=e(),Ht(),e),ph={class:"background"},gh=hh(()=>$("div",{id:"background",class:"bg full-size"},null,-1)),_h=[gh],mh=Pe({__name:"BackgroundComp",props:{bg:{type:String,default:""}},setup(e){const t=e,n=W(()=>new URL(Object.assign({"../assets/images/backgrounds/home.png":dh})[`../assets/images/backgrounds/${t.bg}`],import.meta.url).href);wt(n,s=>{s&&Fe(()=>{r()})}),Vt(()=>{r()});function r(){const s=document.getElementById("background");s&&(s.style.backgroundImage=`url('${n.value}')`)}return(s,o)=>(Q(),xe("div",ph,_h))}}),ra=Ke(mh,[["__scopeId","data-v-ee454a16"]]),yh="/assets/title-graphic-W313hW1l.png",vh={},sa=e=>(Dt("data-v-950d2cec"),e=e(),Ht(),e),bh={class:"lds-ripple"},wh=sa(()=>$("div",null,null,-1)),Ah=sa(()=>$("div",null,null,-1)),Eh=[wh,Ah];function xh(e,t){return Q(),xe("div",bh,Eh)}const ia=Ke(vh,[["render",xh],["__scopeId","data-v-950d2cec"]]),Sh={class:"menu flex-column-center"},Oh=$("br",null,null,-1),Ph=["value"],Th=Pe({__name:"OnlineComp",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,r=de(),{getLocalPlayer:s}=Ge(r),o=t;return(a,f)=>(Q(),Ie(en,{show:n.open,class:"shadow",backdrop:"",closable:"",onClose:f[0]||(f[0]=c=>o("close"))},{default:st(()=>{var c;return[$("div",Sh,[$("h2",null,Me(j($e).menu.online),1),ue(ia),$("p",null,Me(j($e).online.searching),1),Oh,$("input",{type:"text",value:(c=j(s))==null?void 0:c.name,readonly:""},null,8,Ph)])]}),_:1},8,["show"]))}}),oa=e=>(Dt("data-v-58065ac5"),e=e(),Ht(),e),Ch={class:"menu flex-column-center"},kh=oa(()=>$("div",{class:"graphic"},[$("img",{src:yh,alt:"Portents"})],-1)),Rh=oa(()=>$("br",null,null,-1)),Ih=Pe({__name:"MenuComp",setup(e){const t="0.0.41",n=de();let r=dt(!1);function s(){n.playHotseat()}function o(){n.playOnline(),r.value=!0}function a(){r.value=!1,n.gameEnd()}function f(){n.playSolo()}return(c,d)=>(Q(),Ie(en,{show:"",class:"shadow"},{default:st(()=>[$("div",Ch,[kh,Rh,$("button",{class:"enabled",onClick:s},Me(j($e).menu.hotseat),1),$("button",{class:"enabled",onClick:o},Me(j($e).menu.online),1),$("button",{class:"enabled",onClick:f},Me(j($e).menu.solo),1),$("p",null,"v "+Me(j(t)),1)]),ue(Th,{show:j(r),onClose:a},null,8,["show"])]),_:1}))}}),Lh=Ke(Ih,[["__scopeId","data-v-58065ac5"]]),Bh=Pe({__name:"HomeView",setup(e){const t=de();return Vt(()=>{t.gameClear()}),(n,r)=>(Q(),xe("main",null,[ue(ra,{bg:"home.png"}),ue(Lh)]))}}),Mh=["id"],$h=Pe({__name:"PlaceComp",props:{place:{type:yt,default:null},hidden:{type:Boolean,default:!1},corner:{type:Boolean,default:!1}},setup(e){const t=e,n=de(),{altar:r,getSelectedOfferings:s,getHeldOffering:o}=Ge(n),a=W(()=>t.place?t.place.getID():""),f=W(()=>{var m;return(m=r.value)==null?void 0:m.getOpenPlaces().includes(t.place)}),c=W(()=>s.value.length&&f.value),d=W(()=>{var m;return((m=t.place)==null?void 0:m.zone)===X.Limbo}),h=W(()=>{var m;return((m=t.place)==null?void 0:m.zone)===X.Player});function i(){if(t.place.type==="omen"||t.place.zone!==X.Altar)return;const m=o.value;m&&n.pushOfferingAtPlace(t.place,m.direction)}function l(m){t.place.type==="omen"||t.place.zone!==X.Altar||(n.resetOfferings(),m.preventDefault())}function u(m){m.dataTransfer&&(m.dataTransfer.dropEffect="link"),m.preventDefault()}function p(m){t.place.type==="omen"||t.place.zone!==X.Altar||(n.dropOffering(t.place),m.preventDefault())}return(m,v)=>{var _;return Q(),xe("div",{id:a.value,class:me(["place",[(_=t.place)==null?void 0:_.type,e.hidden?"invisible":"",e.corner?"corner":"",c.value?"enabled":"",d.value?"inlimbo":"",h.value?"inplayer":""]])},[$("div",{class:"spacing",onDragenter:i,onDragleave:l,onDragover:u,onDrop:p},null,32)],10,Mh)}}}),Dr=Ke($h,[["__scopeId","data-v-de2bf2ec"]]),Nh=Pe({__name:"PlayerComp",props:{player:{type:dn,default:null}},setup(e){const t=e,n=de(),{getCurrentPlayer:r}=Ge(n),s=W(()=>t.player?t.player.getRows():[]),o=W(()=>{var a;return t.player.turn&&((a=r.value)==null?void 0:a.turn)});return(a,f)=>e.player?(Q(),xe("div",{key:0,class:me(["player flex-column-center",o.value?"turn":""])},[$("h2",null,Me(e.player.name),1),$("div",{class:me(j(n).rotate?"flex-row-spaced":"flex-column-spaced")},[(Q(!0),xe(ke,null,Qt(s.value,(c,d)=>(Q(),xe("div",{key:d,class:me(j(n).rotate?"flex-column-spaced":"flex-row-spaced")},[(Q(!0),xe(ke,null,Qt(c,(h,i)=>(Q(),Ie(Dr,{key:i,place:h},null,8,["place"]))),128))],2))),128))],2)],2)):Bt("",!0)}}),yo=Ke(Nh,[["__scopeId","data-v-3c3cfa98"]]),Fh="/assets/reset-QS3pQvj9.svg",Dh="/assets/done-Pp_cZSFL.svg",la=e=>(Dt("data-v-4087ca2f"),e=e(),Ht(),e),Hh={class:"container"},Vh={class:"flex-row-center"},Uh={class:"flex-row-center buttons"},qh=la(()=>$("img",{src:Fh,alt:"reset"},null,-1)),jh=[qh],Wh=la(()=>$("img",{src:Dh,alt:"done"},null,-1)),zh=[Wh],Gh=Pe({__name:"LimboComp",setup(e){const t=de(),{limbo:n,getLimboOfferings:r,turn:s}=Ge(t),o=W(()=>{var h;return(h=n.value)==null?void 0:h.getRow()}),a=W(()=>s.value===ye.Replace),f=W(()=>r.value.length>0);function c(){f.value&&t.undoPlacements()}function d(){f.value&&t.checkPalmPortentValidity()&&t.palmOfferings()}return(h,i)=>(Q(),xe("div",Hh,[$("div",{class:me(["limbo flex-column-center",a.value?"forward":""])},[$("div",Vh,[(Q(!0),xe(ke,null,Qt(o.value,(l,u)=>(Q(),Ie(Dr,{key:u,place:l},null,8,["place"]))),128))]),$("div",Uh,[$("button",{class:me([f.value?"shadowed enabled":"disabled"]),onClick:c},jh,2),$("button",{class:me([f.value?"shadowed enabled":"disabled"]),onClick:d},zh,2)])],2)]))}}),vo=Ke(Gh,[["__scopeId","data-v-4087ca2f"]]),Kh={id:"altar",class:"flex-row-center"},Xh={class:"flex-column-center"},Yh={class:"altar flex-column-center shadow"},Qh=Pe({__name:"AltarComp",setup(e){const t=de(),{altar:n,getLeftDirectionEnabled:r,getRightDirectionEnabled:s,getUpDirectionEnabled:o,getDownDirectionEnabled:a,getHeldOffering:f}=Ge(t),c=W(()=>{var u;return(u=n.value)==null?void 0:u.getRows()}),d=W(()=>{var u,p;return((u=f.value)==null?void 0:u.overlaps)&&!s.value&&((p=f.value)==null?void 0:p.direction)===te.Right}),h=W(()=>{var u,p;return((u=f.value)==null?void 0:u.overlaps)&&!r.value&&((p=f.value)==null?void 0:p.direction)===te.Left}),i=W(()=>{var u,p;return((u=f.value)==null?void 0:u.overlaps)&&!o.value&&((p=f.value)==null?void 0:p.direction)===te.Up}),l=W(()=>{var u,p;return((u=f.value)==null?void 0:u.overlaps)&&!a.value&&((p=f.value)==null?void 0:p.direction)===te.Down});return(u,p)=>(Q(),xe("div",Kh,[$("div",{class:me(["dir left",j(s)?"":"invisible"])},null,2),$("div",{class:me(["dir right",j(r)?"":"invisible"])},null,2),$("div",{class:me(["dir top",j(a)?"":"invisible"])},null,2),$("div",{class:me(["dir bottom",j(o)?"":"invisible"])},null,2),$("div",{class:me(["dir left error",d.value?"":"invisible"])},null,2),$("div",{class:me(["dir right error",h.value?"":"invisible"])},null,2),$("div",{class:me(["dir top error",l.value?"":"invisible"])},null,2),$("div",{class:me(["dir bottom error",i.value?"":"invisible"])},null,2),$("div",Xh,[$("div",Yh,[(Q(!0),xe(ke,null,Qt(c.value,(m,v)=>(Q(),xe("div",{key:v,class:"flex-row-center"},[(Q(!0),xe(ke,null,Qt(m,(_,w)=>(Q(),Ie(Dr,{key:w,place:_,corner:(v===0||v===j(Y).altarSize-1)&&(w===0||w===j(Y).altarSize-1),hidden:""},null,8,["place","corner"]))),128))]))),128))])])]))}}),Jh=Ke(Qh,[["__scopeId","data-v-ebc75a86"]]),Zh="/assets/menu-3kKS-J5S.svg",ep={class:"menu flex-column-center"},tp=Pe({__name:"OptionsComp",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,r=de(),s=ti(),o=t;function a(){r.gameEnd(),Fe(()=>{r.gameClear(),Fe(()=>{s.back()})})}function f(){r.openSettings()}return(c,d)=>(Q(),Ie(en,{show:n.open,class:"shadow",backdrop:"",closable:"",onClose:d[0]||(d[0]=h=>o("close"))},{default:st(()=>[$("div",ep,[$("button",{class:"enabled",onClick:a},Me(j($e).menu.main),1),$("button",{class:"enabled",onClick:f},Me(j($e).menu.settings),1)])]),_:1},8,["show"]))}}),aa=e=>(Dt("data-v-582ba6b7"),e=e(),Ht(),e),np=aa(()=>$("img",{src:Zh,alt:"menu"},null,-1)),rp=[np],sp={class:"kitty flex-column-center shadow"},ip=aa(()=>$("div",{class:"spacing"},null,-1)),op=Pe({__name:"KittyComp",props:{right:{type:Boolean,default:!1}},setup(e){const t=de(),{kitty:n}=Ge(t),r=e;let s=dt(!1);return(o,a)=>{var f;return Q(),xe("div",null,[$("div",{class:me(["buttons",r.right?"right":""])},[$("div",{class:"menu shadowed enabled",onClick:a[0]||(a[0]=c=>Se(s)?s.value=!0:s=!0)},rp)],2),$("div",sp,[ip,ue(Dr,{place:(f=j(n))==null?void 0:f.place,hidden:""},null,8,["place"])]),ue(tp,{open:j(s),onClose:a[1]||(a[1]=c=>Se(s)?s.value=!1:s=!1)},null,8,["open"])])}}}),bo=Ke(op,[["__scopeId","data-v-582ba6b7"]]),lp="/assets/11-NJPxLyoa.png",ap="/assets/12-CfXSVcf1.png",cp="/assets/13-XMG33C0I.png",up="/assets/14-j1eu2XVo.png",fp="/assets/21-YqRH41BS.png",dp="/assets/22-u8dY1_CV.png",hp="/assets/23-VMmZfpid.png",pp="/assets/24-b6nAXjQs.png",gp="/assets/31-7-l8RFXE.png",_p="/assets/32-J9jDeiGp.png",mp="/assets/33-B23Ml4lQ.png",yp="/assets/34-RvWlkMuR.png",vp="/assets/41-JPooxIlS.png",bp="/assets/42-KoP27kTz.png",wp="/assets/43-1ZGhISDg.png",Ap="/assets/44-UGrs3pOH.png",Ep=["id"],xp=["id"],Sp=Pe({__name:"OmenComp",props:{omen:{type:qn,default:null}},setup(e){const t=e,n=de(),{turn:r,getAltarActiveOmens:s,getBurnableOfferings:o}=Ge(n),a=W(()=>t.omen?t.omen.getID():""),f=W(()=>n.playerForID(t.omen.player)),c=W(()=>n.getPlayerFortunes(t.omen.player)),d=W(()=>s.value.includes(t.omen)),h=W(()=>{var m;return f.value&&!((m=f.value)!=null&&m.turn)}),i=W(()=>c.value.find(m=>m.includes(t.omen))),l=W(()=>{var m;return(m=o.value)==null?void 0:m.length}),u=W(()=>t.omen.zone!==X.Altar&&r.value===ye.Swap);Vt(()=>{Fe(()=>{p()})});function p(){const m=document.getElementById(`style-${t.omen.getID()}`);if(!m)return;const v=`${t.omen.celestial}${t.omen.sacrifice}`,_=new URL(Object.assign({"../assets/images/omens/11.png":lp,"../assets/images/omens/12.png":ap,"../assets/images/omens/13.png":cp,"../assets/images/omens/14.png":up,"../assets/images/omens/21.png":fp,"../assets/images/omens/22.png":dp,"../assets/images/omens/23.png":hp,"../assets/images/omens/24.png":pp,"../assets/images/omens/31.png":gp,"../assets/images/omens/32.png":_p,"../assets/images/omens/33.png":mp,"../assets/images/omens/34.png":yp,"../assets/images/omens/41.png":vp,"../assets/images/omens/42.png":bp,"../assets/images/omens/43.png":wp,"../assets/images/omens/44.png":Ap})[`../assets/images/omens/${v}.png`],import.meta.url).href;m.style.backgroundImage=`url(${_})`}return(m,v)=>(Q(),xe("div",{id:a.value,class:me(["container shadow flex-column-center",[i.value&&!h.value&&!u.value?"fortune":""]])},[$("div",{class:me(["omen",d.value?"active":"",h.value?"disabled":"",l.value?"dim":"",u.value?"hiding":""])},[$("div",{id:`style-${a.value}`,class:"icon"},null,8,xp)],2)],10,Ep))}}),Op=Ke(Sp,[["__scopeId","data-v-b52740b4"]]),Pp="/assets/11-M2nKxzvA.png",Tp="/assets/12-mdXThV6s.png",Cp="/assets/13-d8ryGPaR.png",kp="/assets/14-_D06QzqX.png",Rp="/assets/21-x5F6RfHH.png",Ip="/assets/22-sC2-UXdi.png",Lp="/assets/23-0LeUXBfR.png",Bp="/assets/24-OQE-Qxu6.png",Mp="/assets/31-fMTQ-doG.png",$p="/assets/32-Qg-oePU0.png",Np="/assets/33-RfFmE6fa.png",Fp="/assets/34-Xj3kIC8R.png",Dp="/assets/41-6tbvLLfx.png",Hp="/assets/42-GHHC5tLY.png",Vp="/assets/43-qClxOrGe.png",Up="/assets/44-I_MTyjed.png",qp="/assets/11-hGoQsRy9.png",jp="/assets/12-J0WstXsu.png",Wp="/assets/13-0fWxsmL7.png",zp="/assets/14-Cd5tUgik.png",Gp="/assets/21-Xc-5m5l9.png",Kp="/assets/22-KnJvq5du.png",Xp="/assets/23-Jn9zdviX.png",Yp="/assets/24-4rhRwUu1.png",Qp="/assets/31-zFFUdyF5.png",Jp="/assets/32-oWMsE9TN.png",Zp="/assets/33-yfbdAkhz.png",eg="/assets/34-VkPENV3X.png",tg="/assets/41-iBEPi-MW.png",ng="/assets/42-7vN2xxUJ.png",rg="/assets/43-97nLAfl-.png",sg="/assets/44-vhl3hxlM.png",ca=e=>(Dt("data-v-2eeede42"),e=e(),Ht(),e),ig=["id"],og=["id"],lg=ca(()=>$("div",{class:"icon front"},null,-1)),ag=ca(()=>$("div",{class:"icon back"},null,-1)),cg=[lg,ag],ug=Pe({__name:"OfferingComp",props:{offering:{type:Un,default:null},tilted:{type:Boolean,defaut:!1}},setup(e){const t=e,n=de(),{turn:r,getAltarOfferingPlaces:s,getAltarPortentOfferings:o,getEnabledOfferings:a,getDisabledOfferings:f,getBurnableOfferings:c,getPlacedOfferings:d,getCurrentPlayerOfferings:h}=Ge(n),i=W(()=>t.offering?t.offering.getID():""),l=W(()=>o.value.includes(t.offering)),u=W(()=>a.value.includes(t.offering)),p=W(()=>f.value.includes(t.offering)),m=W(()=>c.value.includes(t.offering)),v=W(()=>t.offering.burning),_=W(()=>d.value.includes(t.offering)),w=W(()=>l.value&&!m.value),S=W(()=>{var P;return(P=c.value)==null?void 0:P.length}),k=W(()=>t.offering.zone!==X.Altar&&r.value===ye.Swap);Vt(()=>{Fe(()=>{H()})});function H(){const P=document.getElementById(`style-${t.offering.getID()}`);if(!P)return;const ee=P.children[0],_e=P.children[1],be=`${t.offering.celestial}${t.offering.sacrifice}`,ne=new URL(Object.assign({"../assets/images/offerings/front/11.png":Pp,"../assets/images/offerings/front/12.png":Tp,"../assets/images/offerings/front/13.png":Cp,"../assets/images/offerings/front/14.png":kp,"../assets/images/offerings/front/21.png":Rp,"../assets/images/offerings/front/22.png":Ip,"../assets/images/offerings/front/23.png":Lp,"../assets/images/offerings/front/24.png":Bp,"../assets/images/offerings/front/31.png":Mp,"../assets/images/offerings/front/32.png":$p,"../assets/images/offerings/front/33.png":Np,"../assets/images/offerings/front/34.png":Fp,"../assets/images/offerings/front/41.png":Dp,"../assets/images/offerings/front/42.png":Hp,"../assets/images/offerings/front/43.png":Vp,"../assets/images/offerings/front/44.png":Up})[`../assets/images/offerings/front/${be}.png`],import.meta.url).href;ee.style.backgroundImage=`url(${ne})`;const fe=new URL(Object.assign({"../assets/images/offerings/back/11.png":qp,"../assets/images/offerings/back/12.png":jp,"../assets/images/offerings/back/13.png":Wp,"../assets/images/offerings/back/14.png":zp,"../assets/images/offerings/back/21.png":Gp,"../assets/images/offerings/back/22.png":Kp,"../assets/images/offerings/back/23.png":Xp,"../assets/images/offerings/back/24.png":Yp,"../assets/images/offerings/back/31.png":Qp,"../assets/images/offerings/back/32.png":Jp,"../assets/images/offerings/back/33.png":Zp,"../assets/images/offerings/back/34.png":eg,"../assets/images/offerings/back/41.png":tg,"../assets/images/offerings/back/42.png":ng,"../assets/images/offerings/back/43.png":rg,"../assets/images/offerings/back/44.png":sg})[`../assets/images/offerings/back/${be}.png`],import.meta.url).href;_e.style.backgroundImage=`url(${fe})`}function D(){p.value||u.value&&n.selectOffering(t.offering)}function J(){return!(n.turn!==ye.Replace||t.offering.zone!==X.Player||!h.value.includes(t.offering))}let I=new Oe,R="";function G(){if(t.offering.holding||!J())return;const P=document.getElementById(`${t.offering.getID()}`);P&&(I.setX(P.offsetLeft),I.setY(P.offsetTop),R=P.style.transform,t.offering.setHolding(!0))}function oe(){if(!J())return;const P=document.getElementById(`${t.offering.getID()}`);if(!P)return;const ee=new Oe(P.center().x,P.center().y);P.style.top=`${I.y}px`,P.style.left=`${I.x}px`,P.style.transform=R,n.resetOfferings();const be=s.value.find(fe=>{var ae;return(ae=document.getElementById(`${fe.getID()}`))==null?void 0:ae.containsPoint(ee.x,ee.y)}),ne=t.offering||null;be&&n.pushOfferingAtPlace(be,ne.direction),be&&n.dropOffering(be),ne.setHolding(!1)}return(P,ee)=>(Q(),xe("div",{id:i.value,class:me(["container shadow flex-column-center",[u.value?"events":"",e.offering.holding?"holding":"",k.value?"hiding":""]])},[$("div",{class:me(["offering",[_.value?"placed":"",w.value?"active":"",u.value?"enabled":"",p.value?"disabled":"",m.value?"burner":"",v.value?"burning":"",S.value?"dim":""]]),onClick:D,onTouchstart:G,onMousedown:G,onTouchend:oe,onMouseup:oe,onTouchcancel:oe},[$("div",{id:`style-${i.value}`,class:"token"},cg,8,og)],34)],10,ig))}}),fg=Ke(ug,[["__scopeId","data-v-2eeede42"]]),dg=Pe({__name:"TilesComp",setup(e){const t=de(),{omens:n,offerings:r,getAltarOfferingPlaces:s,getHeldOffering:o,getBurnableOfferings:a}=Ge(t),f=W(()=>{var _;return(_=a.value)==null?void 0:_.length});function c(_){const w=_.touches[0];w&&h(w.clientX,w.clientY)}function d(_){h(_.clientX,_.clientY)}function h(_,w){const S=o.value||null;if(!S||S.zone!==X.Player||!S.holding)return;const k=document.getElementById(`${S.getID()}`);if(!k)return;const H=w-k.offsetHeight/2,D=_-k.offsetWidth/2;k.style.transition="translate 0s ease 0s",k.style.transform="translate(0, 0)",k.style.top=`${H}px`,k.style.left=`${D}px`;const J=S.direction;m(_,w),S.direction!==J&&t.resetOfferings(),v()}let i=0,l=0,u=5,p=0;function m(_,w){if(p++,p>u)p=0;else return;const S=o.value||null;if(S){if(i&&l){const k=_-i,H=w-l;Math.abs(k)>Math.abs(H)?S.setDirection(k>0?2:4):S.setDirection(H>0?3:1)}i=_,l=w}}function v(){var H;const _=o.value||null;if(!_)return;const w=document.getElementById(`${_.getID()}`);if(!w)return;const S=w.center(),k=s.value.filter(D=>{var I;const J=((I=document.getElementById(D.getID()))==null?void 0:I.getBoundingClientRect())||new DOMRect;return!(S.x<J.left||S.x>J.right||S.y<J.top||S.y>J.bottom)});(H=o.value)==null||H.setOverlaps(k.length>0),s.value.filter(D=>k.includes(D)).forEach(D=>t.pushOfferingAtPlace(D,_.direction))}return(_,w)=>(Q(),xe("div",{class:me(["tiles",f.value?"dim":""]),onTouchmove:c,onMousemove:d},[(Q(!0),xe(ke,null,Qt(j(n),(S,k)=>(Q(),Ie(Op,{key:k,omen:S},null,8,["omen"]))),128)),(Q(!0),xe(ke,null,Qt(j(r),(S,k)=>(Q(),Ie(fg,{key:k,offering:S},null,8,["offering"]))),128))],34))}}),hg=Ke(dg,[["__scopeId","data-v-c247ead8"]]),pg={class:"menu flex-column-center"},gg=Pe({__name:"WaitingComp",setup(e){const t=de(),{multiplayer:n,getLocalPlayer:r,getCurrentPlayer:s}=Ge(t),o=W(()=>!!n.value&&r.value!==s.value);return(a,f)=>(Q(),Ie(en,{show:o.value,class:"shadow",backdrop:""},{default:st(()=>[$("div",pg,[ue(ia),$("p",null,Me(j($e).online.waiting),1)])]),_:1},8,["show"]))}}),ua=e=>(Dt("data-v-b7b69166"),e=e(),Ht(),e),_g=ua(()=>$("div",null,null,-1)),mg={class:"flex-column-spaced full-height"},yg={class:"flex-column-spaced full-height"},vg={class:"flex-column-spaced full-height"},bg=ua(()=>$("div",null,null,-1)),wg=Pe({__name:"GameView",setup(e){const t=ti(),n=de(),{players:r,getCurrentPlayer:s,getCurrentPlayerTurn:o}=Ge(n);return Vt(()=>{!r.value.length||!s.value?t.back():Fe(()=>n.gameStart())}),kr(()=>{n.gameEnd()}),(a,f)=>(Q(),xe("main",{class:me(j(o)?"":"waiting")},[ue(ra),$("div",{class:me(["window-height",j(n).rotate?"flex-column-spaced":"flex-row-spaced"])},[_g,ue(Vn,{name:"slide-right"},{default:st(()=>{var c,d;return[os($("div",mg,[(c=j(r)[1])!=null&&c.turn?(Q(),Ie(bo,{key:0})):Bt("",!0),ue(yo,{player:j(r)[0]},null,8,["player"]),(d=j(r)[0])!=null&&d.turn?(Q(),Ie(vo,{key:1})):Bt("",!0)],512),[[gs,j(s)]])]}),_:1}),$("div",yg,[ue(Jh)]),ue(Vn,{name:"slide-left"},{default:st(()=>{var c,d;return[os($("div",vg,[(c=j(r)[0])!=null&&c.turn?(Q(),Ie(bo,{key:0,right:""})):Bt("",!0),ue(yo,{player:j(r)[1]},null,8,["player"]),(d=j(r)[1])!=null&&d.turn?(Q(),Ie(vo,{key:1})):Bt("",!0)],512),[[gs,j(s)]])]}),_:1}),bg],2),ue(hg),ue(gg)],2))}}),Ag=Ke(wg,[["__scopeId","data-v-b7b69166"]]),fa=Kd({history:fd("/"),routes:[{path:"/",name:"home",component:Bh},{path:"/game",name:"game",component:Ag},{path:"/:pathMatch(.*)*",redirect:"/"}]}),ni=Hu(fh),da=ju();da.use(({store:e})=>e.$router=zn(fa));ni.use(da);ni.use(fa);ni.mount("#app");
