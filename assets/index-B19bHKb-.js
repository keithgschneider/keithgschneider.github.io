var Al=Object.defineProperty;var $l=(e,t,s)=>t in e?Al(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var _=(e,t,s)=>($l(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};Array.prototype.shuffle=function(){return this.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e)};String.prototype.toCapitalized=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.toEachCapitalized=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")};Number.prototype.roll=function(){return Math.floor(this*Math.random())+1};Number.prototype.chance=function(){const e=this;return e<Math.floor(Math.random()*100)+1?0:e};/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tr(e,t){const s=new Set(e.split(","));return n=>s.has(n)}const he={},Wt=[],Ge=()=>{},Pl=()=>!1,cn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),sr=e=>e.startsWith("onUpdate:"),be=Object.assign,nr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Il=Object.prototype.hasOwnProperty,se=(e,t)=>Il.call(e,t),G=Array.isArray,Yt=e=>un(e)==="[object Map]",Lo=e=>un(e)==="[object Set]",W=e=>typeof e=="function",Se=e=>typeof e=="string",Vt=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",No=e=>(ce(e)||W(e))&&W(e.then)&&W(e.catch),jo=Object.prototype.toString,un=e=>jo.call(e),Rl=e=>un(e).slice(8,-1),Vo=e=>un(e)==="[object Object]",ir=e=>Se(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hs=tr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ol=/-(\w)/g,es=dn(e=>e.replace(Ol,(t,s)=>s?s.toUpperCase():"")),Dl=/\B([A-Z])/g,ss=dn(e=>e.replace(Dl,"-$1").toLowerCase()),Ho=dn(e=>e.charAt(0).toUpperCase()+e.slice(1)),xi=dn(e=>e?`on${Ho(e)}`:""),kt=(e,t)=>!Object.is(e,t),Ci=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},Go=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Ml=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Bl=e=>{const t=Se(e)?Number(e):NaN;return isNaN(t)?e:t};let Br;const Ko=()=>Br||(Br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hn(e){if(G(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Se(n)?Nl(n):hn(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(Se(e)||ce(e))return e}const Ul=/;(?![^(]*\))/g,Fl=/:([^]+)/,Ll=/\/\*[^]*?\*\//g;function Nl(e){const t={};return e.replace(Ll,"").split(Ul).forEach(s=>{if(s){const n=s.split(Fl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ie(e){let t="";if(Se(e))t=e;else if(G(e))for(let s=0;s<e.length;s++){const n=ie(e[s]);n&&(t+=n+" ")}else if(ce(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vl=tr(jl);function zo(e){return!!e||e===""}const R=e=>Se(e)?e:e==null?"":G(e)||ce(e)&&(e.toString===jo||!W(e.toString))?JSON.stringify(e,qo,2):String(e),qo=(e,t)=>t&&t.__v_isRef?qo(e,t.value):Yt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],r)=>(s[Ei(n,r)+" =>"]=i,s),{})}:Lo(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ei(s))}:Vt(t)?Ei(t):ce(t)&&!G(t)&&!Vo(t)?String(t):t,Ei=(e,t="")=>{var s;return Vt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Le;class Wo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Le,!t&&Le&&(this.index=(Le.scopes||(Le.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Le;try{return Le=this,t()}finally{Le=s}}}on(){Le=this}off(){Le=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Yo(e){return new Wo(e)}function Hl(e,t=Le){t&&t.active&&t.effects.push(e)}function Jo(){return Le}function Gl(e){Le&&Le.cleanups.push(e)}let Lt;class rr{constructor(t,s,n,i){this.fn=t,this.trigger=s,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Hl(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,$t();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed&&(Kl(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Pt()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=xt,s=Lt;try{return xt=!0,Lt=this,this._runnings++,Ur(this),this.fn()}finally{Fr(this),this._runnings--,Lt=s,xt=t}}stop(){this.active&&(Ur(this),Fr(this),this.onStop&&this.onStop(),this.active=!1)}}function Kl(e){return e.value}function Ur(e){e._trackId++,e._depsLength=0}function Fr(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Xo(e.deps[t],e);e.deps.length=e._depsLength}}function Xo(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let xt=!0,Ui=0;const Qo=[];function $t(){Qo.push(xt),xt=!1}function Pt(){const e=Qo.pop();xt=e===void 0?!0:e}function or(){Ui++}function ar(){for(Ui--;!Ui&&Fi.length;)Fi.shift()()}function Zo(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&Xo(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Fi=[];function ea(e,t,s){or();for(const n of e.keys()){let i;n._dirtyLevel<t&&(i??(i=e.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=t),n._shouldSchedule&&(i??(i=e.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&Fi.push(n.scheduler)))}ar()}const ta=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},Xs=new WeakMap,Nt=Symbol(""),Li=Symbol("");function Ue(e,t,s){if(xt&&Lt){let n=Xs.get(e);n||Xs.set(e,n=new Map);let i=n.get(s);i||n.set(s,i=ta(()=>n.delete(s))),Zo(Lt,i)}}function dt(e,t,s,n,i,r){const o=Xs.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(s==="length"&&G(e)){const l=Number(n);o.forEach((u,c)=>{(c==="length"||!Vt(c)&&c>=l)&&a.push(u)})}else switch(s!==void 0&&a.push(o.get(s)),t){case"add":G(e)?ir(s)&&a.push(o.get("length")):(a.push(o.get(Nt)),Yt(e)&&a.push(o.get(Li)));break;case"delete":G(e)||(a.push(o.get(Nt)),Yt(e)&&a.push(o.get(Li)));break;case"set":Yt(e)&&a.push(o.get(Nt));break}or();for(const l of a)l&&ea(l,4);ar()}function zl(e,t){const s=Xs.get(e);return s&&s.get(t)}const ql=tr("__proto__,__v_isRef,__isVue"),sa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt)),Lr=Wl();function Wl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=te(this);for(let r=0,o=this.length;r<o;r++)Ue(n,"get",r+"");const i=n[t](...s);return i===-1||i===!1?n[t](...s.map(te)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){$t(),or();const n=te(this)[t].apply(this,s);return ar(),Pt(),n}}),e}function Yl(e){Vt(e)||(e=String(e));const t=te(this);return Ue(t,"has",e),t.hasOwnProperty(e)}class na{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?lc:aa:r?oa:ra).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=G(t);if(!i){if(o&&se(Lr,s))return Reflect.get(Lr,s,n);if(s==="hasOwnProperty")return Yl}const a=Reflect.get(t,s,n);return(Vt(s)?sa.has(s):ql(s))||(i||Ue(t,"get",s),r)?a:me(a)?o&&ir(s)?a:a.value:ce(a)?i?la(a):pn(a):a}}class ia extends na{constructor(t=!1){super(!1,t)}set(t,s,n,i){let r=t[s];if(!this._isShallow){const l=vs(r);if(!Qs(n)&&!vs(n)&&(r=te(r),n=te(n)),!G(t)&&me(r)&&!me(n))return l?!1:(r.value=n,!0)}const o=G(t)&&ir(s)?Number(s)<t.length:se(t,s),a=Reflect.set(t,s,n,i);return t===te(i)&&(o?kt(n,r)&&dt(t,"set",s,n):dt(t,"add",s,n)),a}deleteProperty(t,s){const n=se(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&dt(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Vt(s)||!sa.has(s))&&Ue(t,"has",s),n}ownKeys(t){return Ue(t,"iterate",G(t)?"length":Nt),Reflect.ownKeys(t)}}class Jl extends na{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Xl=new ia,Ql=new Jl,Zl=new ia(!0);const lr=e=>e,fn=e=>Reflect.getPrototypeOf(e);function Is(e,t,s=!1,n=!1){e=e.__v_raw;const i=te(e),r=te(t);s||(kt(t,r)&&Ue(i,"get",t),Ue(i,"get",r));const{has:o}=fn(i),a=n?lr:s?hr:ys;if(o.call(i,t))return a(e.get(t));if(o.call(i,r))return a(e.get(r));e!==i&&e.get(t)}function Rs(e,t=!1){const s=this.__v_raw,n=te(s),i=te(e);return t||(kt(e,i)&&Ue(n,"has",e),Ue(n,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function Os(e,t=!1){return e=e.__v_raw,!t&&Ue(te(e),"iterate",Nt),Reflect.get(e,"size",e)}function Nr(e){e=te(e);const t=te(this);return fn(t).has.call(t,e)||(t.add(e),dt(t,"add",e,e)),this}function jr(e,t){t=te(t);const s=te(this),{has:n,get:i}=fn(s);let r=n.call(s,e);r||(e=te(e),r=n.call(s,e));const o=i.call(s,e);return s.set(e,t),r?kt(t,o)&&dt(s,"set",e,t):dt(s,"add",e,t),this}function Vr(e){const t=te(this),{has:s,get:n}=fn(t);let i=s.call(t,e);i||(e=te(e),i=s.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return i&&dt(t,"delete",e,void 0),r}function Hr(){const e=te(this),t=e.size!==0,s=e.clear();return t&&dt(e,"clear",void 0,void 0),s}function Ds(e,t){return function(n,i){const r=this,o=r.__v_raw,a=te(o),l=t?lr:e?hr:ys;return!e&&Ue(a,"iterate",Nt),o.forEach((u,c)=>n.call(i,l(u),l(c),r))}}function Ms(e,t,s){return function(...n){const i=this.__v_raw,r=te(i),o=Yt(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...n),c=s?lr:t?hr:ys;return!t&&Ue(r,"iterate",l?Li:Nt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function gt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ec(){const e={get(r){return Is(this,r)},get size(){return Os(this)},has:Rs,add:Nr,set:jr,delete:Vr,clear:Hr,forEach:Ds(!1,!1)},t={get(r){return Is(this,r,!1,!0)},get size(){return Os(this)},has:Rs,add:Nr,set:jr,delete:Vr,clear:Hr,forEach:Ds(!1,!0)},s={get(r){return Is(this,r,!0)},get size(){return Os(this,!0)},has(r){return Rs.call(this,r,!0)},add:gt("add"),set:gt("set"),delete:gt("delete"),clear:gt("clear"),forEach:Ds(!0,!1)},n={get(r){return Is(this,r,!0,!0)},get size(){return Os(this,!0)},has(r){return Rs.call(this,r,!0)},add:gt("add"),set:gt("set"),delete:gt("delete"),clear:gt("clear"),forEach:Ds(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ms(r,!1,!1),s[r]=Ms(r,!0,!1),t[r]=Ms(r,!1,!0),n[r]=Ms(r,!0,!0)}),[e,s,t,n]}const[tc,sc,nc,ic]=ec();function cr(e,t){const s=t?e?ic:nc:e?sc:tc;return(n,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(se(s,i)&&i in n?s:n,i,r)}const rc={get:cr(!1,!1)},oc={get:cr(!1,!0)},ac={get:cr(!0,!1)};const ra=new WeakMap,oa=new WeakMap,aa=new WeakMap,lc=new WeakMap;function cc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uc(e){return e.__v_skip||!Object.isExtensible(e)?0:cc(Rl(e))}function pn(e){return vs(e)?e:ur(e,!1,Xl,rc,ra)}function dc(e){return ur(e,!1,Zl,oc,oa)}function la(e){return ur(e,!0,Ql,ac,aa)}function ur(e,t,s,n,i){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=i.get(e);if(r)return r;const o=uc(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function Ct(e){return vs(e)?Ct(e.__v_raw):!!(e&&e.__v_isReactive)}function vs(e){return!!(e&&e.__v_isReadonly)}function Qs(e){return!!(e&&e.__v_isShallow)}function ca(e){return e?!!e.__v_raw:!1}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function dr(e){return Object.isExtensible(e)&&Go(e,"__v_skip",!0),e}const ys=e=>ce(e)?pn(e):e,hr=e=>ce(e)?la(e):e;class ua{constructor(t,s,n,i){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new rr(()=>t(this._value),()=>Hs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=te(this);return(!t._cacheable||t.effect.dirty)&&kt(t._value,t._value=t.effect.run())&&Hs(t,4),da(t),t.effect._dirtyLevel>=2&&Hs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function hc(e,t,s=!1){let n,i;const r=W(e);return r?(n=e,i=Ge):(n=e.get,i=e.set),new ua(n,i,r||!i,s)}function da(e){var t;xt&&Lt&&(e=te(e),Zo(Lt,(t=e.dep)!=null?t:e.dep=ta(()=>e.dep=void 0,e instanceof ua?e:void 0)))}function Hs(e,t=4,s){e=te(e);const n=e.dep;n&&ea(n,t)}function me(e){return!!(e&&e.__v_isRef===!0)}function je(e){return fc(e,!1)}function fc(e,t){return me(e)?e:new pc(e,t)}class pc{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:te(t),this._value=s?t:ys(t)}get value(){return da(this),this._value}set value(t){const s=this.__v_isShallow||Qs(t)||vs(t);t=s?t:te(t),kt(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:ys(t),Hs(this,4))}}function v(e){return me(e)?e.value:e}const gc={get:(e,t,s)=>v(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return me(i)&&!me(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function ha(e){return Ct(e)?e:new Proxy(e,gc)}function mc(e){const t=G(e)?new Array(e.length):{};for(const s in e)t[s]=fa(e,s);return t}class _c{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return zl(te(this._object),this._key)}}class vc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function yc(e,t,s){return me(e)?e:W(e)?new vc(e):ce(e)&&arguments.length>1?fa(e,t,s):je(e)}function fa(e,t,s){const n=e[t];return me(n)?n:new _c(e,t,s)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Et(e,t,s,n){try{return n?e(...n):e()}catch(i){gn(i,t,s)}}function Ke(e,t,s,n){if(W(e)){const i=Et(e,t,s,n);return i&&No(i)&&i.catch(r=>{gn(r,t,s)}),i}if(G(e)){const i=[];for(let r=0;r<e.length;r++)i.push(Ke(e[r],t,s,n));return i}}function gn(e,t,s,n=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const u=r.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){$t(),Et(l,null,10,[e,o,a]),Pt();return}}bc(e,s,i,n)}function bc(e,t,s,n=!0){console.error(e)}let bs=!1,Ni=!1;const Ie=[];let nt=0;const Jt=[];let yt=null,Bt=0;const pa=Promise.resolve();let fr=null;function ze(e){const t=fr||pa;return e?t.then(this?e.bind(this):e):t}function wc(e){let t=nt+1,s=Ie.length;for(;t<s;){const n=t+s>>>1,i=Ie[n],r=ws(i);r<e||r===e&&i.pre?t=n+1:s=n}return t}function pr(e){(!Ie.length||!Ie.includes(e,bs&&e.allowRecurse?nt+1:nt))&&(e.id==null?Ie.push(e):Ie.splice(wc(e.id),0,e),ga())}function ga(){!bs&&!Ni&&(Ni=!0,fr=pa.then(_a))}function Tc(e){const t=Ie.indexOf(e);t>nt&&Ie.splice(t,1)}function Sc(e){G(e)?Jt.push(...e):(!yt||!yt.includes(e,e.allowRecurse?Bt+1:Bt))&&Jt.push(e),ga()}function Gr(e,t,s=bs?nt+1:0){for(;s<Ie.length;s++){const n=Ie[s];if(n&&n.pre){if(e&&n.id!==e.uid)continue;Ie.splice(s,1),s--,n()}}}function ma(e){if(Jt.length){const t=[...new Set(Jt)].sort((s,n)=>ws(s)-ws(n));if(Jt.length=0,yt){yt.push(...t);return}for(yt=t,Bt=0;Bt<yt.length;Bt++)yt[Bt]();yt=null,Bt=0}}const ws=e=>e.id==null?1/0:e.id,xc=(e,t)=>{const s=ws(e)-ws(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function _a(e){Ni=!1,bs=!0,Ie.sort(xc);try{for(nt=0;nt<Ie.length;nt++){const t=Ie[nt];t&&t.active!==!1&&Et(t,null,14)}}finally{nt=0,Ie.length=0,ma(),bs=!1,fr=null,(Ie.length||Jt.length)&&_a()}}function Cc(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||he;let i=s;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in n){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:p}=n[c]||he;p&&(i=s.map(m=>Se(m)?m.trim():m)),h&&(i=s.map(Ml))}let a,l=n[a=xi(t)]||n[a=xi(es(t))];!l&&r&&(l=n[a=xi(ss(t))]),l&&Ke(l,e,6,i);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ke(u,e,6,i)}}function va(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!W(e)){const l=u=>{const c=va(u,t,!0);c&&(a=!0,be(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(ce(e)&&n.set(e,null),null):(G(r)?r.forEach(l=>o[l]=null):be(o,r),ce(e)&&n.set(e,o),o)}function mn(e,t){return!e||!cn(t)?!1:(t=t.slice(2).replace(/Once$/,""),se(e,t[0].toLowerCase()+t.slice(1))||se(e,ss(t))||se(e,t))}let Ce=null,_n=null;function Zs(e){const t=Ce;return Ce=e,_n=e&&e.type.__scopeId||null,t}function ot(e){_n=e}function at(){_n=null}function ft(e,t=Ce,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&to(-1);const r=Zs(t);let o;try{o=e(...i)}finally{Zs(r),n._d&&to(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ki(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:m,ctx:b,inheritAttrs:C}=e,U=Zs(e);let P,L;try{if(s.shapeFlag&4){const B=i||n,V=B;P=st(u.call(V,B,c,h,m,p,b)),L=a}else{const B=t;P=st(B.length>1?B(h,{attrs:a,slots:o,emit:l}):B(h,null)),L=t.props?a:Ec(a)}}catch(B){ms.length=0,gn(B,e,1),P=J(Ne)}let D=P;if(L&&C!==!1){const B=Object.keys(L),{shapeFlag:V}=D;B.length&&V&7&&(r&&B.some(sr)&&(L=kc(L,r)),D=At(D,L,!1,!0))}return s.dirs&&(D=At(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&(D.transition=s.transition),P=D,Zs(U),P}const Ec=e=>{let t;for(const s in e)(s==="class"||s==="style"||cn(s))&&((t||(t={}))[s]=e[s]);return t},kc=(e,t)=>{const s={};for(const n in e)(!sr(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Ac(e,t,s){const{props:n,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Kr(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==n[p]&&!mn(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Kr(n,o,u):!0:!!o;return!1}function Kr(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==e[r]&&!mn(s,r))return!0}return!1}function $c({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Pc=Symbol.for("v-ndc"),Ic=e=>e.__isSuspense;function Rc(e,t){t&&t.pendingBranch?G(e)?t.effects.push(...e):t.effects.push(e):Sc(e)}const Oc=Symbol.for("v-scx"),Dc=()=>gs(Oc),Bs={};function Pe(e,t,s){return ya(e,t,s)}function ya(e,t,{immediate:s,deep:n,flush:i,once:r,onTrack:o,onTrigger:a}=he){if(t&&r){const q=t;t=(...ve)=>{q(...ve),V()}}const l=$e,u=q=>n===!0?q:Ft(q,n===!1?1:void 0);let c,h=!1,p=!1;if(me(e)?(c=()=>e.value,h=Qs(e)):Ct(e)?(c=()=>u(e),h=!0):G(e)?(p=!0,h=e.some(q=>Ct(q)||Qs(q)),c=()=>e.map(q=>{if(me(q))return q.value;if(Ct(q))return u(q);if(W(q))return Et(q,l,2)})):W(e)?t?c=()=>Et(e,l,2):c=()=>(m&&m(),Ke(e,l,3,[b])):c=Ge,t&&n){const q=c;c=()=>Ft(q())}let m,b=q=>{m=D.onStop=()=>{Et(q,l,4),m=D.onStop=void 0}},C;if(wn)if(b=Ge,t?s&&Ke(t,l,3,[c(),p?[]:void 0,b]):c(),i==="sync"){const q=Dc();C=q.__watcherHandles||(q.__watcherHandles=[])}else return Ge;let U=p?new Array(e.length).fill(Bs):Bs;const P=()=>{if(!(!D.active||!D.dirty))if(t){const q=D.run();(n||h||(p?q.some((ve,M)=>kt(ve,U[M])):kt(q,U)))&&(m&&m(),Ke(t,l,3,[q,U===Bs?void 0:p&&U[0]===Bs?[]:U,b]),U=q)}else D.run()};P.allowRecurse=!!t;let L;i==="sync"?L=P:i==="post"?L=()=>Be(P,l&&l.suspense):(P.pre=!0,l&&(P.id=l.uid),L=()=>pr(P));const D=new rr(c,Ge,L),B=Jo(),V=()=>{D.stop(),B&&nr(B.effects,D)};return t?s?P():U=D.run():i==="post"?Be(D.run.bind(D),l&&l.suspense):D.run(),C&&C.push(V),V}function Mc(e,t,s){const n=this.proxy,i=Se(e)?e.includes(".")?ba(n,e):()=>n[e]:e.bind(n,n);let r;W(t)?r=t:(r=t.handler,s=t);const o=Es(this),a=ya(i,r.bind(n),s);return o(),a}function ba(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function Ft(e,t=1/0,s){if(t<=0||!ce(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,me(e))Ft(e.value,t,s);else if(G(e))for(let n=0;n<e.length;n++)Ft(e[n],t,s);else if(Lo(e)||Yt(e))e.forEach(n=>{Ft(n,t,s)});else if(Vo(e))for(const n in e)Ft(e[n],t,s);return e}function wa(e,t){if(Ce===null)return e;const s=Tn(Ce)||Ce.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=he]=t[i];r&&(W(r)&&(r={mounted:r,updated:r}),r.deep&&Ft(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ot(e,t,s,n){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&($t(),Ke(l,s,8,[e.el,a,e,t]),Pt())}}const bt=Symbol("_leaveCb"),Us=Symbol("_enterCb");function Ta(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xe(()=>{e.isMounted=!0}),ns(()=>{e.isUnmounting=!0}),e}const Ve=[Function,Array],Sa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ve,onEnter:Ve,onAfterEnter:Ve,onEnterCancelled:Ve,onBeforeLeave:Ve,onLeave:Ve,onAfterLeave:Ve,onLeaveCancelled:Ve,onBeforeAppear:Ve,onAppear:Ve,onAfterAppear:Ve,onAppearCancelled:Ve},Bc={name:"BaseTransition",props:Sa,setup(e,{slots:t}){const s=Ha(),n=Ta();return()=>{const i=t.default&&gr(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const p of i)if(p.type!==Ne){r=p;break}}const o=te(e),{mode:a}=o;if(n.isLeaving)return Ai(r);const l=zr(r);if(!l)return Ai(r);const u=Ts(l,o,n,s);Ss(l,u);const c=s.subTree,h=c&&zr(c);if(h&&h.type!==Ne&&!Ut(l,h)){const p=Ts(h,o,n,s);if(Ss(h,p),a==="out-in"&&l.type!==Ne)return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},Ai(r);a==="in-out"&&l.type!==Ne&&(p.delayLeave=(m,b,C)=>{const U=xa(n,h);U[String(h.key)]=h,m[bt]=()=>{b(),m[bt]=void 0,delete u.delayedLeave},u.delayedLeave=C})}return r}}},Uc=Bc;function xa(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Ts(e,t,s,n){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:b,onBeforeAppear:C,onAppear:U,onAfterAppear:P,onAppearCancelled:L}=t,D=String(e.key),B=xa(s,e),V=(M,H)=>{M&&Ke(M,n,9,H)},q=(M,H)=>{const X=H[1];V(M,H),G(M)?M.every(fe=>fe.length<=1)&&X():M.length<=1&&X()},ve={mode:r,persisted:o,beforeEnter(M){let H=a;if(!s.isMounted)if(i)H=C||a;else return;M[bt]&&M[bt](!0);const X=B[D];X&&Ut(e,X)&&X.el[bt]&&X.el[bt](),V(H,[M])},enter(M){let H=l,X=u,fe=c;if(!s.isMounted)if(i)H=U||l,X=P||u,fe=L||c;else return;let F=!1;const ue=M[Us]=Re=>{F||(F=!0,Re?V(fe,[M]):V(X,[M]),ve.delayedLeave&&ve.delayedLeave(),M[Us]=void 0)};H?q(H,[M,ue]):ue()},leave(M,H){const X=String(e.key);if(M[Us]&&M[Us](!0),s.isUnmounting)return H();V(h,[M]);let fe=!1;const F=M[bt]=ue=>{fe||(fe=!0,H(),ue?V(b,[M]):V(m,[M]),M[bt]=void 0,B[X]===e&&delete B[X])};B[X]=e,p?q(p,[M,F]):F()},clone(M){return Ts(M,t,s,n)}};return ve}function Ai(e){if(vn(e))return e=At(e),e.children=null,e}function zr(e){if(!vn(e))return e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&W(s.default))return s.default()}}function Ss(e,t){e.shapeFlag&6&&e.component?Ss(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gr(e,t=!1,s){let n=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===ne?(o.patchFlag&128&&i++,n=n.concat(gr(o.children,t,a))):(t||o.type!==Ne)&&n.push(a!=null?At(o,{key:a}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function _e(e,t){return W(e)?be({name:e.name},t,{setup:e}):e}const fs=e=>!!e.type.__asyncLoader,vn=e=>e.type.__isKeepAlive;function Fc(e,t){Ca(e,"a",t)}function Lc(e,t){Ca(e,"da",t)}function Ca(e,t,s=$e){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(yn(t,n,s),s){let i=s.parent;for(;i&&i.parent;)vn(i.parent.vnode)&&Nc(n,t,s,i),i=i.parent}}function Nc(e,t,s,n){const i=yn(t,e,n,!0);ka(()=>{nr(n[t],i)},s)}function yn(e,t,s=$e,n=!1){if(s){const i=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;$t();const a=Es(s),l=Ke(t,s,e,o);return a(),Pt(),l});return n?i.unshift(r):i.push(r),r}}const pt=e=>(t,s=$e)=>(!wn||e==="sp")&&yn(e,(...n)=>t(...n),s),jc=pt("bm"),Xe=pt("m"),Vc=pt("bu"),Ea=pt("u"),ns=pt("bum"),ka=pt("um"),Hc=pt("sp"),Gc=pt("rtg"),Kc=pt("rtc");function zc(e,t=$e){yn("ec",e,t)}function we(e,t,s,n){let i;const r=s;if(G(e)||Se(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,r)}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,r)}else if(ce(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,r));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=t(e[u],u,a,r)}}else i=[];return i}function qc(e,t,s={},n,i){if(Ce.isCE||Ce.parent&&fs(Ce.parent)&&Ce.parent.isCE)return J("slot",s,n);let r=e[t];r&&r._c&&(r._d=!1),S();const o=r&&Aa(r(s)),a=Me(ne,{key:s.key||o&&o.key||`_${t}`},o||[],o&&e._===1?64:-2);return r&&r._c&&(r._d=!0),a}function Aa(e){return e.some(t=>tn(t)?!(t.type===Ne||t.type===ne&&!Aa(t.children)):!0)?e:null}const ji=e=>e?Ga(e)?Tn(e)||e.proxy:ji(e.parent):null,ps=be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ji(e.parent),$root:e=>ji(e.root),$emit:e=>e.emit,$options:e=>mr(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,pr(e.update)}),$nextTick:e=>e.n||(e.n=ze.bind(e.proxy)),$watch:e=>Mc.bind(e)}),$i=(e,t)=>e!==he&&!e.__isScriptSetup&&se(e,t),Wc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return r[t]}else{if($i(n,t))return o[t]=1,n[t];if(i!==he&&se(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&se(u,t))return o[t]=3,r[t];if(s!==he&&se(s,t))return o[t]=4,s[t];Vi&&(o[t]=0)}}const c=ps[t];let h,p;if(c)return t==="$attrs"&&Ue(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==he&&se(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,se(p,t))return p[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:r}=e;return $i(i,t)?(i[t]=s,!0):n!==he&&se(n,t)?(n[t]=s,!0):se(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:r}},o){let a;return!!s[o]||e!==he&&se(e,o)||$i(t,o)||(a=r[0])&&se(a,o)||se(n,o)||se(ps,o)||se(i.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:se(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function qr(e){return G(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Vi=!0;function Yc(e){const t=mr(e),s=e.proxy,n=e.ctx;Vi=!1,t.beforeCreate&&Wr(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:m,updated:b,activated:C,deactivated:U,beforeDestroy:P,beforeUnmount:L,destroyed:D,unmounted:B,render:V,renderTracked:q,renderTriggered:ve,errorCaptured:M,serverPrefetch:H,expose:X,inheritAttrs:fe,components:F,directives:ue,filters:Re}=t;if(u&&Jc(u,n,null),o)for(const ge in o){const le=o[ge];W(le)&&(n[ge]=le.bind(s))}if(i){const ge=i.call(s,s);ce(ge)&&(e.data=pn(ge))}if(Vi=!0,r)for(const ge in r){const le=r[ge],It=W(le)?le.bind(s,s):W(le.get)?le.get.bind(s,s):Ge,$s=!W(le)&&W(le.set)?le.set.bind(s):Ge,Rt=ae({get:It,set:$s});Object.defineProperty(n,ge,{enumerable:!0,configurable:!0,get:()=>Rt.value,set:Qe=>Rt.value=Qe})}if(a)for(const ge in a)$a(a[ge],n,s,ge);if(l){const ge=W(l)?l.call(s):l;Reflect.ownKeys(ge).forEach(le=>{su(le,ge[le])})}c&&Wr(c,e,"c");function re(ge,le){G(le)?le.forEach(It=>ge(It.bind(s))):le&&ge(le.bind(s))}if(re(jc,h),re(Xe,p),re(Vc,m),re(Ea,b),re(Fc,C),re(Lc,U),re(zc,M),re(Kc,q),re(Gc,ve),re(ns,L),re(ka,B),re(Hc,H),G(X))if(X.length){const ge=e.exposed||(e.exposed={});X.forEach(le=>{Object.defineProperty(ge,le,{get:()=>s[le],set:It=>s[le]=It})})}else e.exposed||(e.exposed={});V&&e.render===Ge&&(e.render=V),fe!=null&&(e.inheritAttrs=fe),F&&(e.components=F),ue&&(e.directives=ue)}function Jc(e,t,s=Ge){G(e)&&(e=Hi(e));for(const n in e){const i=e[n];let r;ce(i)?"default"in i?r=gs(i.from||n,i.default,!0):r=gs(i.from||n):r=gs(i),me(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[n]=r}}function Wr(e,t,s){Ke(G(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function $a(e,t,s,n){const i=n.includes(".")?ba(s,n):()=>s[n];if(Se(e)){const r=t[e];W(r)&&Pe(i,r)}else if(W(e))Pe(i,e.bind(s));else if(ce(e))if(G(e))e.forEach(r=>$a(r,t,s,n));else{const r=W(e.handler)?e.handler.bind(s):t[e.handler];W(r)&&Pe(i,r,e)}}function mr(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(u=>en(l,u,o,!0)),en(l,t,o)),ce(t)&&r.set(t,l),l}function en(e,t,s,n=!1){const{mixins:i,extends:r}=t;r&&en(e,r,s,!0),i&&i.forEach(o=>en(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=Xc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Xc={data:Yr,props:Jr,emits:Jr,methods:us,computed:us,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:us,directives:us,watch:Zc,provide:Yr,inject:Qc};function Yr(e,t){return t?e?function(){return be(W(e)?e.call(this,this):e,W(t)?t.call(this,this):t)}:t:e}function Qc(e,t){return us(Hi(e),Hi(t))}function Hi(e){if(G(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function us(e,t){return e?be(Object.create(null),e,t):t}function Jr(e,t){return e?G(e)&&G(t)?[...new Set([...e,...t])]:be(Object.create(null),qr(e),qr(t??{})):t}function Zc(e,t){if(!e)return t;if(!t)return e;const s=be(Object.create(null),e);for(const n in t)s[n]=Oe(e[n],t[n]);return s}function Pa(){return{app:null,config:{isNativeTag:Pl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eu=0;function tu(e,t){return function(n,i=null){W(n)||(n=be({},n)),i!=null&&!ce(i)&&(i=null);const r=Pa(),o=new WeakSet;let a=!1;const l=r.app={_uid:eu++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Au,get config(){return r.config},set config(u){},use(u,...c){return o.has(u)||(u&&W(u.install)?(o.add(u),u.install(l,...c)):W(u)&&(o.add(u),u(l,...c))),l},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),l},component(u,c){return c?(r.components[u]=c,l):r.components[u]},directive(u,c){return c?(r.directives[u]=c,l):r.directives[u]},mount(u,c,h){if(!a){const p=J(n,i);return p.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),c&&t?t(p,u):e(p,u,h),a=!0,l._container=u,u.__vue_app__=l,Tn(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return r.provides[u]=c,l},runWithContext(u){const c=Xt;Xt=l;try{return u()}finally{Xt=c}}};return l}}let Xt=null;function su(e,t){if($e){let s=$e.provides;const n=$e.parent&&$e.parent.provides;n===s&&(s=$e.provides=Object.create(n)),s[e]=t}}function gs(e,t,s=!1){const n=$e||Ce;if(n||Xt){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Xt._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&W(t)?t.call(n&&n.proxy):t}}function nu(){return!!($e||Ce||Xt)}const Ia={},Ra=()=>Object.create(Ia),Oa=e=>Object.getPrototypeOf(e)===Ia;function iu(e,t,s,n=!1){const i={},r=Ra();e.propsDefaults=Object.create(null),Da(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);s?e.props=n?i:dc(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function ru(e,t,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=te(i),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(mn(e.emitsOptions,p))continue;const m=t[p];if(l)if(se(r,p))m!==r[p]&&(r[p]=m,u=!0);else{const b=es(p);i[b]=Gi(l,a,b,m,e,!1)}else m!==r[p]&&(r[p]=m,u=!0)}}}else{Da(e,t,i,r)&&(u=!0);let c;for(const h in a)(!t||!se(t,h)&&((c=ss(h))===h||!se(t,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(i[h]=Gi(l,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!se(t,h))&&(delete r[h],u=!0)}u&&dt(e.attrs,"set","")}function Da(e,t,s,n){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(hs(l))continue;const u=t[l];let c;i&&se(i,c=es(l))?!r||!r.includes(c)?s[c]=u:(a||(a={}))[c]=u:mn(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(r){const l=te(s),u=a||he;for(let c=0;c<r.length;c++){const h=r[c];s[h]=Gi(i,l,h,u[h],e,!se(u,h))}}return o}function Gi(e,t,s,n,i,r){const o=e[s];if(o!=null){const a=se(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&W(l)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const c=Es(i);n=u[s]=l.call(null,t),c()}}else n=l}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===ss(s))&&(n=!0))}return n}function Ma(e,t,s=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!W(e)){const c=h=>{l=!0;const[p,m]=Ma(h,t,!0);be(o,p),m&&a.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!l)return ce(e)&&n.set(e,Wt),Wt;if(G(r))for(let c=0;c<r.length;c++){const h=es(r[c]);Xr(h)&&(o[h]=he)}else if(r)for(const c in r){const h=es(c);if(Xr(h)){const p=r[c],m=o[h]=G(p)||W(p)?{type:p}:be({},p);if(m){const b=eo(Boolean,m.type),C=eo(String,m.type);m[0]=b>-1,m[1]=C<0||b<C,(b>-1||se(m,"default"))&&a.push(h)}}}const u=[o,a];return ce(e)&&n.set(e,u),u}function Xr(e){return e[0]!=="$"&&!hs(e)}function Qr(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Zr(e,t){return Qr(e)===Qr(t)}function eo(e,t){return G(t)?t.findIndex(s=>Zr(s,e)):W(t)&&Zr(t,e)?0:-1}const Ba=e=>e[0]==="_"||e==="$stable",_r=e=>G(e)?e.map(st):[st(e)],ou=(e,t,s)=>{if(t._n)return t;const n=ft((...i)=>_r(t(...i)),s);return n._c=!1,n},Ua=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Ba(i))continue;const r=e[i];if(W(r))t[i]=ou(i,r,n);else if(r!=null){const o=_r(r);t[i]=()=>o}}},Fa=(e,t)=>{const s=_r(t);e.slots.default=()=>s},au=(e,t)=>{const s=e.slots=Ra();if(e.vnode.shapeFlag&32){const n=t._;n?(be(s,t),Go(s,"_",n,!0)):Ua(t,s)}else t&&Fa(e,t)},lu=(e,t,s)=>{const{vnode:n,slots:i}=e;let r=!0,o=he;if(n.shapeFlag&32){const a=t._;a?s&&a===1?r=!1:(be(i,t),!s&&a===1&&delete i._):(r=!t.$stable,Ua(t,i)),o=t}else t&&(Fa(e,t),o={default:1});if(r)for(const a in i)!Ba(a)&&o[a]==null&&delete i[a]};function Ki(e,t,s,n,i=!1){if(G(e)){e.forEach((p,m)=>Ki(p,t&&(G(t)?t[m]:t),s,n,i));return}if(fs(n)&&!i)return;const r=n.shapeFlag&4?Tn(n.component)||n.component.proxy:n.el,o=i?null:r,{i:a,r:l}=e,u=t&&t.r,c=a.refs===he?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(Se(u)?(c[u]=null,se(h,u)&&(h[u]=null)):me(u)&&(u.value=null)),W(l))Et(l,a,12,[o,c]);else{const p=Se(l),m=me(l);if(p||m){const b=()=>{if(e.f){const C=p?se(h,l)?h[l]:c[l]:l.value;i?G(C)&&nr(C,r):G(C)?C.includes(r)||C.push(r):p?(c[l]=[r],se(h,l)&&(h[l]=c[l])):(l.value=[r],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,se(h,l)&&(h[l]=o)):m&&(l.value=o,e.k&&(c[e.k]=o))};o?(b.id=-1,Be(b,s)):b()}}}const Be=Rc;function cu(e){return uu(e)}function uu(e,t){const s=Ko();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:m=Ge,insertStaticContent:b}=e,C=(d,f,y,w=null,T=null,A=null,I=void 0,E=null,$=!!f.dynamicChildren)=>{if(d===f)return;d&&!Ut(d,f)&&(w=Ps(d),Qe(d,T,A,!0),d=null),f.patchFlag===-2&&($=!1,f.dynamicChildren=null);const{type:x,ref:O,shapeFlag:j}=f;switch(x){case bn:U(d,f,y,w);break;case Ne:P(d,f,y,w);break;case Gs:d==null&&L(f,y,w,I);break;case ne:F(d,f,y,w,T,A,I,E,$);break;default:j&1?V(d,f,y,w,T,A,I,E,$):j&6?ue(d,f,y,w,T,A,I,E,$):(j&64||j&128)&&x.process(d,f,y,w,T,A,I,E,$,rs)}O!=null&&T&&Ki(O,d&&d.ref,A,f||d,!f)},U=(d,f,y,w)=>{if(d==null)n(f.el=a(f.children),y,w);else{const T=f.el=d.el;f.children!==d.children&&u(T,f.children)}},P=(d,f,y,w)=>{d==null?n(f.el=l(f.children||""),y,w):f.el=d.el},L=(d,f,y,w)=>{[d.el,d.anchor]=b(d.children,f,y,w,d.el,d.anchor)},D=({el:d,anchor:f},y,w)=>{let T;for(;d&&d!==f;)T=p(d),n(d,y,w),d=T;n(f,y,w)},B=({el:d,anchor:f})=>{let y;for(;d&&d!==f;)y=p(d),i(d),d=y;i(f)},V=(d,f,y,w,T,A,I,E,$)=>{f.type==="svg"?I="svg":f.type==="math"&&(I="mathml"),d==null?q(f,y,w,T,A,I,E,$):H(d,f,T,A,I,E,$)},q=(d,f,y,w,T,A,I,E)=>{let $,x;const{props:O,shapeFlag:j,transition:N,dirs:K}=d;if($=d.el=o(d.type,A,O&&O.is,O),j&8?c($,d.children):j&16&&M(d.children,$,null,w,T,Pi(d,A),I,E),K&&Ot(d,null,w,"created"),ve($,d,d.scopeId,I,w),O){for(const oe in O)oe!=="value"&&!hs(oe)&&r($,oe,null,O[oe],A,d.children,w,T,lt);"value"in O&&r($,"value",null,O.value,A),(x=O.onVnodeBeforeMount)&&et(x,w,d)}K&&Ot(d,null,w,"beforeMount");const Q=du(T,N);Q&&N.beforeEnter($),n($,f,y),((x=O&&O.onVnodeMounted)||Q||K)&&Be(()=>{x&&et(x,w,d),Q&&N.enter($),K&&Ot(d,null,w,"mounted")},T)},ve=(d,f,y,w,T)=>{if(y&&m(d,y),w)for(let A=0;A<w.length;A++)m(d,w[A]);if(T){let A=T.subTree;if(f===A){const I=T.vnode;ve(d,I,I.scopeId,I.slotScopeIds,T.parent)}}},M=(d,f,y,w,T,A,I,E,$=0)=>{for(let x=$;x<d.length;x++){const O=d[x]=E?wt(d[x]):st(d[x]);C(null,O,f,y,w,T,A,I,E)}},H=(d,f,y,w,T,A,I)=>{const E=f.el=d.el;let{patchFlag:$,dynamicChildren:x,dirs:O}=f;$|=d.patchFlag&16;const j=d.props||he,N=f.props||he;let K;if(y&&Dt(y,!1),(K=N.onVnodeBeforeUpdate)&&et(K,y,f,d),O&&Ot(f,d,y,"beforeUpdate"),y&&Dt(y,!0),x?X(d.dynamicChildren,x,E,y,w,Pi(f,T),A):I||le(d,f,E,null,y,w,Pi(f,T),A,!1),$>0){if($&16)fe(E,f,j,N,y,w,T);else if($&2&&j.class!==N.class&&r(E,"class",null,N.class,T),$&4&&r(E,"style",j.style,N.style,T),$&8){const Q=f.dynamicProps;for(let oe=0;oe<Q.length;oe++){const pe=Q[oe],ke=j[pe],We=N[pe];(We!==ke||pe==="value")&&r(E,pe,ke,We,T,d.children,y,w,lt)}}$&1&&d.children!==f.children&&c(E,f.children)}else!I&&x==null&&fe(E,f,j,N,y,w,T);((K=N.onVnodeUpdated)||O)&&Be(()=>{K&&et(K,y,f,d),O&&Ot(f,d,y,"updated")},w)},X=(d,f,y,w,T,A,I)=>{for(let E=0;E<f.length;E++){const $=d[E],x=f[E],O=$.el&&($.type===ne||!Ut($,x)||$.shapeFlag&70)?h($.el):y;C($,x,O,null,w,T,A,I,!0)}},fe=(d,f,y,w,T,A,I)=>{if(y!==w){if(y!==he)for(const E in y)!hs(E)&&!(E in w)&&r(d,E,y[E],null,I,f.children,T,A,lt);for(const E in w){if(hs(E))continue;const $=w[E],x=y[E];$!==x&&E!=="value"&&r(d,E,x,$,I,f.children,T,A,lt)}"value"in w&&r(d,"value",y.value,w.value,I)}},F=(d,f,y,w,T,A,I,E,$)=>{const x=f.el=d?d.el:a(""),O=f.anchor=d?d.anchor:a("");let{patchFlag:j,dynamicChildren:N,slotScopeIds:K}=f;K&&(E=E?E.concat(K):K),d==null?(n(x,y,w),n(O,y,w),M(f.children||[],y,O,T,A,I,E,$)):j>0&&j&64&&N&&d.dynamicChildren?(X(d.dynamicChildren,N,y,T,A,I,E),(f.key!=null||T&&f===T.subTree)&&La(d,f,!0)):le(d,f,y,O,T,A,I,E,$)},ue=(d,f,y,w,T,A,I,E,$)=>{f.slotScopeIds=E,d==null?f.shapeFlag&512?T.ctx.activate(f,y,w,I,$):Re(f,y,w,T,A,I,$):qe(d,f,$)},Re=(d,f,y,w,T,A,I)=>{const E=d.component=wu(d,w,T);if(vn(d)&&(E.ctx.renderer=rs),Tu(E),E.asyncDep){if(T&&T.registerDep(E,re),!d.el){const $=E.subTree=J(Ne);P(null,$,f,y)}}else re(E,d,f,y,T,A,I)},qe=(d,f,y)=>{const w=f.component=d.component;if(Ac(d,f,y))if(w.asyncDep&&!w.asyncResolved){ge(w,f,y);return}else w.next=f,Tc(w.update),w.effect.dirty=!0,w.update();else f.el=d.el,w.vnode=f},re=(d,f,y,w,T,A,I)=>{const E=()=>{if(d.isMounted){let{next:O,bu:j,u:N,parent:K,vnode:Q}=d;{const Ht=Na(d);if(Ht){O&&(O.el=Q.el,ge(d,O,I)),Ht.asyncDep.then(()=>{d.isUnmounted||E()});return}}let oe=O,pe;Dt(d,!1),O?(O.el=Q.el,ge(d,O,I)):O=Q,j&&Ci(j),(pe=O.props&&O.props.onVnodeBeforeUpdate)&&et(pe,K,O,Q),Dt(d,!0);const ke=ki(d),We=d.subTree;d.subTree=ke,C(We,ke,h(We.el),Ps(We),d,T,A),O.el=ke.el,oe===null&&$c(d,ke.el),N&&Be(N,T),(pe=O.props&&O.props.onVnodeUpdated)&&Be(()=>et(pe,K,O,Q),T)}else{let O;const{el:j,props:N}=f,{bm:K,m:Q,parent:oe}=d,pe=fs(f);if(Dt(d,!1),K&&Ci(K),!pe&&(O=N&&N.onVnodeBeforeMount)&&et(O,oe,f),Dt(d,!0),j&&Rr){const ke=()=>{d.subTree=ki(d),Rr(j,d.subTree,d,T,null)};pe?f.type.__asyncLoader().then(()=>!d.isUnmounted&&ke()):ke()}else{const ke=d.subTree=ki(d);C(null,ke,y,w,d,T,A),f.el=ke.el}if(Q&&Be(Q,T),!pe&&(O=N&&N.onVnodeMounted)){const ke=f;Be(()=>et(O,oe,ke),T)}(f.shapeFlag&256||oe&&fs(oe.vnode)&&oe.vnode.shapeFlag&256)&&d.a&&Be(d.a,T),d.isMounted=!0,f=y=w=null}},$=d.effect=new rr(E,Ge,()=>pr(x),d.scope),x=d.update=()=>{$.dirty&&$.run()};x.id=d.uid,Dt(d,!0),x()},ge=(d,f,y)=>{f.component=d;const w=d.vnode.props;d.vnode=f,d.next=null,ru(d,f.props,w,y),lu(d,f.children,y),$t(),Gr(d),Pt()},le=(d,f,y,w,T,A,I,E,$=!1)=>{const x=d&&d.children,O=d?d.shapeFlag:0,j=f.children,{patchFlag:N,shapeFlag:K}=f;if(N>0){if(N&128){$s(x,j,y,w,T,A,I,E,$);return}else if(N&256){It(x,j,y,w,T,A,I,E,$);return}}K&8?(O&16&&lt(x,T,A),j!==x&&c(y,j)):O&16?K&16?$s(x,j,y,w,T,A,I,E,$):lt(x,T,A,!0):(O&8&&c(y,""),K&16&&M(j,y,w,T,A,I,E,$))},It=(d,f,y,w,T,A,I,E,$)=>{d=d||Wt,f=f||Wt;const x=d.length,O=f.length,j=Math.min(x,O);let N;for(N=0;N<j;N++){const K=f[N]=$?wt(f[N]):st(f[N]);C(d[N],K,y,null,T,A,I,E,$)}x>O?lt(d,T,A,!0,!1,j):M(f,y,w,T,A,I,E,$,j)},$s=(d,f,y,w,T,A,I,E,$)=>{let x=0;const O=f.length;let j=d.length-1,N=O-1;for(;x<=j&&x<=N;){const K=d[x],Q=f[x]=$?wt(f[x]):st(f[x]);if(Ut(K,Q))C(K,Q,y,null,T,A,I,E,$);else break;x++}for(;x<=j&&x<=N;){const K=d[j],Q=f[N]=$?wt(f[N]):st(f[N]);if(Ut(K,Q))C(K,Q,y,null,T,A,I,E,$);else break;j--,N--}if(x>j){if(x<=N){const K=N+1,Q=K<O?f[K].el:w;for(;x<=N;)C(null,f[x]=$?wt(f[x]):st(f[x]),y,Q,T,A,I,E,$),x++}}else if(x>N)for(;x<=j;)Qe(d[x],T,A,!0),x++;else{const K=x,Q=x,oe=new Map;for(x=Q;x<=N;x++){const Fe=f[x]=$?wt(f[x]):st(f[x]);Fe.key!=null&&oe.set(Fe.key,x)}let pe,ke=0;const We=N-Q+1;let Ht=!1,Or=0;const os=new Array(We);for(x=0;x<We;x++)os[x]=0;for(x=K;x<=j;x++){const Fe=d[x];if(ke>=We){Qe(Fe,T,A,!0);continue}let Ze;if(Fe.key!=null)Ze=oe.get(Fe.key);else for(pe=Q;pe<=N;pe++)if(os[pe-Q]===0&&Ut(Fe,f[pe])){Ze=pe;break}Ze===void 0?Qe(Fe,T,A,!0):(os[Ze-Q]=x+1,Ze>=Or?Or=Ze:Ht=!0,C(Fe,f[Ze],y,null,T,A,I,E,$),ke++)}const Dr=Ht?hu(os):Wt;for(pe=Dr.length-1,x=We-1;x>=0;x--){const Fe=Q+x,Ze=f[Fe],Mr=Fe+1<O?f[Fe+1].el:w;os[x]===0?C(null,Ze,y,Mr,T,A,I,E,$):Ht&&(pe<0||x!==Dr[pe]?Rt(Ze,y,Mr,2):pe--)}}},Rt=(d,f,y,w,T=null)=>{const{el:A,type:I,transition:E,children:$,shapeFlag:x}=d;if(x&6){Rt(d.component.subTree,f,y,w);return}if(x&128){d.suspense.move(f,y,w);return}if(x&64){I.move(d,f,y,rs);return}if(I===ne){n(A,f,y);for(let j=0;j<$.length;j++)Rt($[j],f,y,w);n(d.anchor,f,y);return}if(I===Gs){D(d,f,y);return}if(w!==2&&x&1&&E)if(w===0)E.beforeEnter(A),n(A,f,y),Be(()=>E.enter(A),T);else{const{leave:j,delayLeave:N,afterLeave:K}=E,Q=()=>n(A,f,y),oe=()=>{j(A,()=>{Q(),K&&K()})};N?N(A,Q,oe):oe()}else n(A,f,y)},Qe=(d,f,y,w=!1,T=!1)=>{const{type:A,props:I,ref:E,children:$,dynamicChildren:x,shapeFlag:O,patchFlag:j,dirs:N}=d;if(E!=null&&Ki(E,null,y,d,!0),O&256){f.ctx.deactivate(d);return}const K=O&1&&N,Q=!fs(d);let oe;if(Q&&(oe=I&&I.onVnodeBeforeUnmount)&&et(oe,f,d),O&6)kl(d.component,y,w);else{if(O&128){d.suspense.unmount(y,w);return}K&&Ot(d,null,f,"beforeUnmount"),O&64?d.type.remove(d,f,y,T,rs,w):x&&(A!==ne||j>0&&j&64)?lt(x,f,y,!1,!0):(A===ne&&j&384||!T&&O&16)&&lt($,f,y),w&&$r(d)}(Q&&(oe=I&&I.onVnodeUnmounted)||K)&&Be(()=>{oe&&et(oe,f,d),K&&Ot(d,null,f,"unmounted")},y)},$r=d=>{const{type:f,el:y,anchor:w,transition:T}=d;if(f===ne){El(y,w);return}if(f===Gs){B(d);return}const A=()=>{i(y),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(d.shapeFlag&1&&T&&!T.persisted){const{leave:I,delayLeave:E}=T,$=()=>I(y,A);E?E(d.el,A,$):$()}else A()},El=(d,f)=>{let y;for(;d!==f;)y=p(d),i(d),d=y;i(f)},kl=(d,f,y)=>{const{bum:w,scope:T,update:A,subTree:I,um:E}=d;w&&Ci(w),T.stop(),A&&(A.active=!1,Qe(I,d,f,y)),E&&Be(E,f),Be(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},lt=(d,f,y,w=!1,T=!1,A=0)=>{for(let I=A;I<d.length;I++)Qe(d[I],f,y,w,T)},Ps=d=>d.shapeFlag&6?Ps(d.component.subTree):d.shapeFlag&128?d.suspense.next():p(d.anchor||d.el);let Si=!1;const Pr=(d,f,y)=>{d==null?f._vnode&&Qe(f._vnode,null,null,!0):C(f._vnode||null,d,f,null,null,null,y),Si||(Si=!0,Gr(),ma(),Si=!1),f._vnode=d},rs={p:C,um:Qe,m:Rt,r:$r,mt:Re,mc:M,pc:le,pbc:X,n:Ps,o:e};let Ir,Rr;return{render:Pr,hydrate:Ir,createApp:tu(Pr,Ir)}}function Pi({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Dt({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function du(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function La(e,t,s=!1){const n=e.children,i=t.children;if(G(n)&&G(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=wt(i[r]),a.el=o.el),s||La(o,a)),a.type===bn&&(a.el=o.el)}}function hu(e){const t=e.slice(),s=[0];let n,i,r,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(i=s[s.length-1],e[i]<u){t[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,e[s[a]]<u?r=a+1:o=a;u<e[s[r]]&&(r>0&&(t[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=t[o];return s}function Na(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Na(t)}const fu=e=>e.__isTeleport,ne=Symbol.for("v-fgt"),bn=Symbol.for("v-txt"),Ne=Symbol.for("v-cmt"),Gs=Symbol.for("v-stc"),ms=[];let Je=null;function S(e=!1){ms.push(Je=e?null:[])}function pu(){ms.pop(),Je=ms[ms.length-1]||null}let xs=1;function to(e){xs+=e}function ja(e){return e.dynamicChildren=xs>0?Je||Wt:null,pu(),xs>0&&Je&&Je.push(e),e}function k(e,t,s,n,i,r){return ja(g(e,t,s,n,i,r,!0))}function Me(e,t,s,n,i){return ja(J(e,t,s,n,i,!0))}function tn(e){return e?e.__v_isVNode===!0:!1}function Ut(e,t){return e.type===t.type&&e.key===t.key}const Va=({key:e})=>e??null,Ks=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Se(e)||me(e)||W(e)?{i:Ce,r:e,k:t,f:!!s}:e:null);function g(e,t=null,s=null,n=0,i=null,r=e===ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Va(t),ref:t&&Ks(t),scopeId:_n,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ce};return a?(vr(l,s),r&128&&e.normalize(l)):s&&(l.shapeFlag|=Se(s)?8:16),xs>0&&!o&&Je&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Je.push(l),l}const J=gu;function gu(e,t=null,s=null,n=0,i=null,r=!1){if((!e||e===Pc)&&(e=Ne),tn(e)){const a=At(e,t,!0);return s&&vr(a,s),xs>0&&!r&&Je&&(a.shapeFlag&6?Je[Je.indexOf(e)]=a:Je.push(a)),a.patchFlag|=-2,a}if(Eu(e)&&(e=e.__vccOpts),t){t=mu(t);let{class:a,style:l}=t;a&&!Se(a)&&(t.class=ie(a)),ce(l)&&(ca(l)&&!G(l)&&(l=be({},l)),t.style=hn(l))}const o=Se(e)?1:Ic(e)?128:fu(e)?64:ce(e)?4:W(e)?2:0;return g(e,t,s,n,i,o,r,!0)}function mu(e){return e?ca(e)||Oa(e)?be({},e):e:null}function At(e,t,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,u=t?vu(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Va(u),ref:t&&t.ref?s&&r?G(r)?r.concat(Ks(t)):[r,Ks(t)]:Ks(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ne?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&At(e.ssContent),ssFallback:e.ssFallback&&At(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&(c.transition=l.clone(c)),c}function St(e=" ",t=0){return J(bn,null,e,t)}function _u(e,t){const s=J(Gs,null,e);return s.staticCount=t,s}function ye(e="",t=!1){return t?(S(),Me(Ne,null,e)):J(Ne,null,e)}function st(e){return e==null||typeof e=="boolean"?J(Ne):G(e)?J(ne,null,e.slice()):typeof e=="object"?wt(e):J(bn,null,String(e))}function wt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:At(e)}function vr(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(G(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),vr(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Oa(t)?t._ctx=Ce:i===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else W(t)?(t={default:t,_ctx:Ce},s=32):(t=String(t),n&64?(s=16,t=[St(t)]):s=8);e.children=t,e.shapeFlag|=s}function vu(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=ie([t.class,n.class]));else if(i==="style")t.style=hn([t.style,n.style]);else if(cn(i)){const r=t[i],o=n[i];o&&r!==o&&!(G(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=n[i])}return t}function et(e,t,s,n=null){Ke(e,t,7,[s,n])}const yu=Pa();let bu=0;function wu(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||yu,r={uid:bu++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ma(n,i),emitsOptions:va(n,i),emit:null,emitted:null,propsDefaults:he,inheritAttrs:n.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Cc.bind(null,r),e.ce&&e.ce(r),r}let $e=null;const Ha=()=>$e||Ce;let sn,zi;{const e=Ko(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};sn=t("__VUE_INSTANCE_SETTERS__",s=>$e=s),zi=t("__VUE_SSR_SETTERS__",s=>wn=s)}const Es=e=>{const t=$e;return sn(e),e.scope.on(),()=>{e.scope.off(),sn(t)}},so=()=>{$e&&$e.scope.off(),sn(null)};function Ga(e){return e.vnode.shapeFlag&4}let wn=!1;function Tu(e,t=!1){t&&zi(t);const{props:s,children:n}=e.vnode,i=Ga(e);iu(e,s,i,t),au(e,n);const r=i?Su(e,t):void 0;return t&&zi(!1),r}function Su(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Wc);const{setup:n}=s;if(n){const i=e.setupContext=n.length>1?Cu(e):null,r=Es(e);$t();const o=Et(n,e,0,[e.props,i]);if(Pt(),r(),No(o)){if(o.then(so,so),t)return o.then(a=>{no(e,a,t)}).catch(a=>{gn(a,e,0)});e.asyncDep=o}else no(e,o,t)}else Ka(e,t)}function no(e,t,s){W(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=ha(t)),Ka(e,s)}let io;function Ka(e,t,s){const n=e.type;if(!e.render){if(!t&&io&&!n.render){const i=n.template||mr(e).template;if(i){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,u=be(be({isCustomElement:r,delimiters:a},o),l);n.render=io(i,u)}}e.render=n.render||Ge}{const i=Es(e);$t();try{Yc(e)}finally{Pt(),i()}}}const xu={get(e,t){return Ue(e,"get",""),e[t]}};function Cu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,xu),slots:e.slots,emit:e.emit,expose:t}}function Tn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ha(dr(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ps)return ps[s](e)},has(t,s){return s in t||s in ps}}))}function Eu(e){return W(e)&&"__vccOpts"in e}const ae=(e,t)=>hc(e,t,wn);function ku(e,t,s){const n=arguments.length;return n===2?ce(t)&&!G(t)?tn(t)?J(e,null,[t]):J(e,t):J(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&tn(s)&&(s=[s]),J(e,t,s))}const Au="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $u="http://www.w3.org/2000/svg",Pu="http://www.w3.org/1998/Math/MathML",Tt=typeof document<"u"?document:null,ro=Tt&&Tt.createElement("template"),Iu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?Tt.createElementNS($u,e):t==="mathml"?Tt.createElementNS(Pu,e):Tt.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Tt.createTextNode(e),createComment:e=>Tt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,r){const o=s?s.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{ro.innerHTML=n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e;const a=ro.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},mt="transition",as="animation",ts=Symbol("_vtc"),Sn=(e,{slots:t})=>ku(Uc,qa(e),t);Sn.displayName="Transition";const za={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ru=Sn.props=be({},Sa,za),Mt=(e,t=[])=>{G(e)?e.forEach(s=>s(...t)):e&&e(...t)},oo=e=>e?G(e)?e.some(t=>t.length>1):e.length>1:!1;function qa(e){const t={};for(const F in e)F in za||(t[F]=e[F]);if(e.css===!1)return t;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=e,b=Ou(i),C=b&&b[0],U=b&&b[1],{onBeforeEnter:P,onEnter:L,onEnterCancelled:D,onLeave:B,onLeaveCancelled:V,onBeforeAppear:q=P,onAppear:ve=L,onAppearCancelled:M=D}=t,H=(F,ue,Re)=>{_t(F,ue?c:a),_t(F,ue?u:o),Re&&Re()},X=(F,ue)=>{F._isLeaving=!1,_t(F,h),_t(F,m),_t(F,p),ue&&ue()},fe=F=>(ue,Re)=>{const qe=F?ve:L,re=()=>H(ue,F,Re);Mt(qe,[ue,re]),ao(()=>{_t(ue,F?l:r),ct(ue,F?c:a),oo(qe)||lo(ue,n,C,re)})};return be(t,{onBeforeEnter(F){Mt(P,[F]),ct(F,r),ct(F,o)},onBeforeAppear(F){Mt(q,[F]),ct(F,l),ct(F,u)},onEnter:fe(!1),onAppear:fe(!0),onLeave(F,ue){F._isLeaving=!0;const Re=()=>X(F,ue);ct(F,h),ct(F,p),Ya(),ao(()=>{F._isLeaving&&(_t(F,h),ct(F,m),oo(B)||lo(F,n,U,Re))}),Mt(B,[F,Re])},onEnterCancelled(F){H(F,!1),Mt(D,[F])},onAppearCancelled(F){H(F,!0),Mt(M,[F])},onLeaveCancelled(F){X(F),Mt(V,[F])}})}function Ou(e){if(e==null)return null;if(ce(e))return[Ii(e.enter),Ii(e.leave)];{const t=Ii(e);return[t,t]}}function Ii(e){return Bl(e)}function ct(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[ts]||(e[ts]=new Set)).add(t)}function _t(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[ts];s&&(s.delete(t),s.size||(e[ts]=void 0))}function ao(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Du=0;function lo(e,t,s,n){const i=e._endId=++Du,r=()=>{i===e._endId&&n()};if(s)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=Wa(e,t);if(!o)return n();const u=o+"end";let c=0;const h=()=>{e.removeEventListener(u,p),r()},p=m=>{m.target===e&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),e.addEventListener(u,p)}function Wa(e,t){const s=window.getComputedStyle(e),n=b=>(s[b]||"").split(", "),i=n(`${mt}Delay`),r=n(`${mt}Duration`),o=co(i,r),a=n(`${as}Delay`),l=n(`${as}Duration`),u=co(a,l);let c=null,h=0,p=0;t===mt?o>0&&(c=mt,h=o,p=r.length):t===as?u>0&&(c=as,h=u,p=l.length):(h=Math.max(o,u),c=h>0?o>u?mt:as:null,p=c?c===mt?r.length:l.length:0);const m=c===mt&&/\b(transform|all)(,|$)/.test(n(`${mt}Property`).toString());return{type:c,timeout:h,propCount:p,hasTransform:m}}function co(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>uo(s)+uo(e[n])))}function uo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ya(){return document.body.offsetHeight}function Mu(e,t,s){const n=e[ts];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const nn=Symbol("_vod"),Ja=Symbol("_vsh"),Xa={beforeMount(e,{value:t},{transition:s}){e[nn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ls(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),ls(e,!0),n.enter(e)):n.leave(e,()=>{ls(e,!1)}):ls(e,t))},beforeUnmount(e,{value:t}){ls(e,t)}};function ls(e,t){e.style.display=t?e[nn]:"none",e[Ja]=!t}const Bu=Symbol(""),Uu=/(^|;)\s*display\s*:/;function Fu(e,t,s){const n=e.style,i=Se(s);let r=!1;if(s&&!i){if(t)if(Se(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&zs(n,a,"")}else for(const o in t)s[o]==null&&zs(n,o,"");for(const o in s)o==="display"&&(r=!0),zs(n,o,s[o])}else if(i){if(t!==s){const o=n[Bu];o&&(s+=";"+o),n.cssText=s,r=Uu.test(s)}}else t&&e.removeAttribute("style");nn in e&&(e[nn]=r?n.display:"",e[Ja]&&(n.display="none"))}const ho=/\s*!important$/;function zs(e,t,s){if(G(s))s.forEach(n=>zs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Lu(e,t);ho.test(s)?e.setProperty(ss(n),s.replace(ho,""),"important"):e[n]=s}}const fo=["Webkit","Moz","ms"],Ri={};function Lu(e,t){const s=Ri[t];if(s)return s;let n=es(t);if(n!=="filter"&&n in e)return Ri[t]=n;n=Ho(n);for(let i=0;i<fo.length;i++){const r=fo[i]+n;if(r in e)return Ri[t]=r}return t}const po="http://www.w3.org/1999/xlink";function Nu(e,t,s,n,i){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(po,t.slice(6,t.length)):e.setAttributeNS(po,t,s);else{const r=Vl(t);s==null||r&&!zo(s)?e.removeAttribute(t):e.setAttribute(t,r?"":s)}}function ju(e,t,s,n,i,r,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,r),e[t]=s??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,c=s??"";(u!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=zo(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch{}l&&e.removeAttribute(t)}function Vu(e,t,s,n){e.addEventListener(t,s,n)}function Hu(e,t,s,n){e.removeEventListener(t,s,n)}const go=Symbol("_vei");function Gu(e,t,s,n,i=null){const r=e[go]||(e[go]={}),o=r[t];if(n&&o)o.value=n;else{const[a,l]=Ku(t);if(n){const u=r[t]=Wu(n,i);Vu(e,a,u,l)}else o&&(Hu(e,a,o,l),r[t]=void 0)}}const mo=/(?:Once|Passive|Capture)$/;function Ku(e){let t;if(mo.test(e)){t={};let n;for(;n=e.match(mo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ss(e.slice(2)),t]}let Oi=0;const zu=Promise.resolve(),qu=()=>Oi||(zu.then(()=>Oi=0),Oi=Date.now());function Wu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ke(Yu(n,s.value),t,5,[n])};return s.value=e,s.attached=qu(),s}function Yu(e,t){if(G(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const _o=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ju=(e,t,s,n,i,r,o,a,l)=>{const u=i==="svg";t==="class"?Mu(e,n,u):t==="style"?Fu(e,s,n):cn(t)?sr(t)||Gu(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Xu(e,t,n,u))?ju(e,t,n,r,o,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Nu(e,t,n,u))};function Xu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&_o(t)&&W(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return _o(t)&&Se(s)?!1:t in e}const Qa=new WeakMap,Za=new WeakMap,rn=Symbol("_moveCb"),vo=Symbol("_enterCb"),el={name:"TransitionGroup",props:be({},Ru,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=Ha(),n=Ta();let i,r;return Ea(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!nd(i[0].el,s.vnode.el,o))return;i.forEach(ed),i.forEach(td);const a=i.filter(sd);Ya(),a.forEach(l=>{const u=l.el,c=u.style;ct(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[rn]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",h),u[rn]=null,_t(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=te(e),a=qa(o);let l=o.tag||ne;if(i=[],r)for(let u=0;u<r.length;u++){const c=r[u];c.el&&c.el instanceof Element&&(i.push(c),Ss(c,Ts(c,a,n,s)),Qa.set(c,c.el.getBoundingClientRect()))}r=t.default?gr(t.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&Ss(c,Ts(c,a,n,s))}return J(l,null,r)}}},Qu=e=>delete e.mode;el.props;const Zu=el;function ed(e){const t=e.el;t[rn]&&t[rn](),t[vo]&&t[vo]()}function td(e){Za.set(e,e.el.getBoundingClientRect())}function sd(e){const t=Qa.get(e),s=Za.get(e),n=t.left-s.left,i=t.top-s.top;if(n||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s",e}}function nd(e,t,s){const n=e.cloneNode(),i=e[ts];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(n);const{hasTransform:o}=Wa(n);return r.removeChild(n),o}const id=be({patchProp:Ju},Iu);let yo;function rd(){return yo||(yo=cu(id))}const od=(...e)=>{const t=rd().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=ld(n);if(!i)return;const r=t._component;!W(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=s(i,!1,ad(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function ad(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ld(e){return Se(e)?document.querySelector(e):e}var cd=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let tl;const xn=e=>tl=e,sl=Symbol();function qi(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _s;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_s||(_s={}));function ud(){const e=Yo(!0),t=e.run(()=>je({}));let s=[],n=[];const i=dr({install(r){xn(i),i._a=r,r.provide(sl,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return!this._a&&!cd?n.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return i}const nl=()=>{};function bo(e,t,s,n=nl){e.push(t);const i=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),n())};return!s&&Jo()&&Gl(i),i}function Gt(e,...t){e.slice().forEach(s=>{s(...t)})}const dd=e=>e();function Wi(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,n)=>e.set(n,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],i=e[s];qi(i)&&qi(n)&&e.hasOwnProperty(s)&&!me(n)&&!Ct(n)?e[s]=Wi(i,n):e[s]=n}return e}const hd=Symbol();function fd(e){return!qi(e)||!e.hasOwnProperty(hd)}const{assign:vt}=Object;function pd(e){return!!(me(e)&&e.effect)}function gd(e,t,s,n){const{state:i,actions:r,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=i?i():{});const c=mc(s.state.value[e]);return vt(c,r,Object.keys(o||{}).reduce((h,p)=>(h[p]=dr(ae(()=>{xn(s);const m=s._s.get(e);return o[p].call(m,m)})),h),{}))}return l=il(e,u,t,s,n,!0),l}function il(e,t,s={},n,i,r){let o;const a=vt({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],m;const b=n.state.value[e];!r&&!b&&(n.state.value[e]={}),je({});let C;function U(M){let H;u=c=!1,typeof M=="function"?(M(n.state.value[e]),H={type:_s.patchFunction,storeId:e,events:m}):(Wi(n.state.value[e],M),H={type:_s.patchObject,payload:M,storeId:e,events:m});const X=C=Symbol();ze().then(()=>{C===X&&(u=!0)}),c=!0,Gt(h,H,n.state.value[e])}const P=r?function(){const{state:H}=s,X=H?H():{};this.$patch(fe=>{vt(fe,X)})}:nl;function L(){o.stop(),h=[],p=[],n._s.delete(e)}function D(M,H){return function(){xn(n);const X=Array.from(arguments),fe=[],F=[];function ue(re){fe.push(re)}function Re(re){F.push(re)}Gt(p,{args:X,name:M,store:V,after:ue,onError:Re});let qe;try{qe=H.apply(this&&this.$id===e?this:V,X)}catch(re){throw Gt(F,re),re}return qe instanceof Promise?qe.then(re=>(Gt(fe,re),re)).catch(re=>(Gt(F,re),Promise.reject(re))):(Gt(fe,qe),qe)}}const B={_p:n,$id:e,$onAction:bo.bind(null,p),$patch:U,$reset:P,$subscribe(M,H={}){const X=bo(h,M,H.detached,()=>fe()),fe=o.run(()=>Pe(()=>n.state.value[e],F=>{(H.flush==="sync"?c:u)&&M({storeId:e,type:_s.direct,events:m},F)},vt({},l,H)));return X},$dispose:L},V=pn(B);n._s.set(e,V);const ve=(n._a&&n._a.runWithContext||dd)(()=>n._e.run(()=>(o=Yo()).run(t)));for(const M in ve){const H=ve[M];if(me(H)&&!pd(H)||Ct(H))r||(b&&fd(H)&&(me(H)?H.value=b[M]:Wi(H,b[M])),n.state.value[e][M]=H);else if(typeof H=="function"){const X=D(M,H);ve[M]=X,a.actions[M]=H}}return vt(V,ve),vt(te(V),ve),Object.defineProperty(V,"$state",{get:()=>n.state.value[e],set:M=>{U(H=>{vt(H,M)})}}),n._p.forEach(M=>{vt(V,o.run(()=>M({store:V,app:n._a,pinia:n,options:a})))}),b&&r&&s.hydrate&&s.hydrate(V.$state,b),u=!0,c=!0,V}function md(e,t,s){let n,i;const r=typeof t=="function";n=e,i=r?s:t;function o(a,l){const u=nu();return a=a||(u?gs(sl,null):null),a&&xn(a),a=tl,a._s.has(n)||(r?il(n,t,i,a):gd(n,i,a)),a._s.get(n)}return o.$id=n,o}function _d(e,t){return Array.isArray(t)?t.reduce((s,n)=>(s[n]=function(){return e(this.$pinia)[n]},s),{}):Object.keys(t).reduce((s,n)=>(s[n]=function(){const i=e(this.$pinia),r=t[n];return typeof r=="function"?r.call(this,i):i[r]},s),{})}function vd(e,t){return Array.isArray(t)?t.reduce((s,n)=>(s[n]=function(...i){return e(this.$pinia)[n](...i)},s),{}):Object.keys(t).reduce((s,n)=>(s[n]=function(...i){return e(this.$pinia)[t[n]](...i)},s),{})}function Ae(e){{e=te(e);const t={};for(const s in e){const n=e[s];(me(n)||Ct(n))&&(t[s]=yc(e,s))}return t}}const yd="/assets/menu-BjNvf6eM.svg",Cn="/assets/close-D8g6n6Qd.svg",En="/assets/art-TzfLcHhl.svg",kn="/assets/base-Cqge1TyP.svg",An="/assets/car-D0sAhqH_.svg",$n="/assets/coder-D34Wfom9.svg",Pn="/assets/designer-BbvAD3e3.svg",In="/assets/executive-C0OaV6xC.svg",Rn="/assets/glasses-DKWwadzx.svg",On="/assets/grad-B5CbSRuT.svg",Dn="/assets/intern-CPqjr3nt.svg",Mn="/assets/keys-CwPPYwfj.svg",Bn="/assets/laptop-BLz4RgiM.svg",Un="/assets/manager-BkhJFkRr.svg",Fn="/assets/defense-DpThPDZ3.svg",Ln="/assets/flag-CzvPLPSg.svg",Nn="/assets/give-KA5xL8aP.svg",jn="/assets/help-Db3zQehY.svg",Vn="/assets/load-CISSlUPS.svg",Hn="/assets/archer-BN2aW21F.svg",Gn="/assets/base-DfZS8oIP.svg",Kn="/assets/footman-CpPkF2w8.svg",zn="/assets/horse-B2ZhlBjb.svg",qn="/assets/knight-iT0xg5rN.svg",Wn="/assets/ore-CVjxFmVV.svg",Yn="/assets/peasant-CipWQNQC.svg",Jn="/assets/rice-CunLd-a1.svg",Xn="/assets/serf-DCDkA-uJ.svg",Qn="/assets/tree-CwuElo4C.svg",Zn="/assets/wand-Bykrpe8E.svg",ei="/assets/wizard-BM20sS2p.svg",ti="/assets/menu-BjNvf6eM.svg",si="/assets/move-CsibinEN.svg",ni="/assets/next-DUgPxjCX.svg",ii="/assets/offense-CymnAR-j.svg",ri="/assets/ranged-C3_osIAn.svg",oi="/assets/reset-CKuUVTyz.svg",ai="/assets/save-D3irmJTF.svg",li="/assets/settings-bUnodo1l.svg",ci="/assets/take-Oft0FZab.svg",ui="/assets/base-Dunnd1yq.svg",di="/assets/coffin-BZ7lZ-RB.svg",hi="/assets/flesh-D9_VeYub.svg",fi="/assets/ghost-CLXZJi72.svg",pi="/assets/moonshine-CSylJBpe.svg",gi="/assets/remains-BSoiEvhK.svg",mi="/assets/scroll-jcF8aojr.svg",_i="/assets/skeleton-CBz4T07h.svg",vi="/assets/soul-AlGYEYMV.svg",yi="/assets/vampire-BZo_pjhl.svg",bi="/assets/werewolf-BckHY_JU.svg",wi="/assets/zombie-aHqLzLYJ.svg",bd="/assets/bach-gqxAlvQ-.mp3",wd="/assets/caching-De4XgpIF.mp3",Td="/assets/car-Ch6ofM1H.mp3",Sd="/assets/death-Dc7G9Qg1.mp3",xd="/assets/dice-C4wau0o2.mp3",Cd="/assets/fanfare-_LxiYHzY.mp3",Ed="/assets/keys-Brps8oTh.mp3",kd="/assets/march-kqKhUJxg.mp3",Ad="/assets/monster-DOSMpLzK.mp3",$d="/assets/typing-BXji-WFk.mp3",Pd="/assets/victory-DNuhP-OH.mp3",Id="/assets/whip-LhZ3RAgC.mp3",Rd="/assets/arrow-Cs6kxAh4.mp3",Od="/assets/caching-De4XgpIF.mp3",Dd="/assets/crumble-C2MHdgSd.mp3",Md="/assets/death-BRsKh_sF.mp3",Bd="/assets/dice-C4wau0o2.mp3",Ud="/assets/fanfare-Ci8Dl22a.mp3",Fd="/assets/horse-Cf9VYYZ2.mp3",Ld="/assets/magic-DJAeYdl6.mp3",Nd="/assets/march-BFKpz_0_.mp3",jd="/assets/monster-BFMM4oQE.mp3",Vd="/assets/pitchfork-BEm-8pCL.mp3",Hd="/assets/sword-DiKcVGcp.mp3",Gd="/assets/victory-B713XuZp.mp3",Kd="/assets/bones-CSn2aVWn.mp3",zd="/assets/boo-DwMbHfr8.mp3",qd="/assets/caching-Cg9GMu6b.mp3",Wd="/assets/crumble-C2MHdgSd.mp3",Yd="/assets/death-CEM_Vh2Z.mp3",Jd="/assets/dice-C4wau0o2.mp3",Xd="/assets/fanfare-Dl_-DBh7.mp3",Qd="/assets/howl-BNtlxp_A.mp3",Zd="/assets/march-JBJmWZsY.mp3",eh="/assets/monster-DYurC0oj.mp3",th="/assets/suck-DxCNuVHa.mp3",sh="/assets/victory-C37yJO_z.mp3",nh="/assets/zombie-Cf9SBDg2.mp3";function ih(e,t,s){const n=new Date;n.setTime(n.getTime()+s*24*60*60*1e3);const i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function rh(e){const t=e+"=",n=decodeURIComponent(document.cookie).split(";");for(let i=0;i<n.length;i++){let r=n[i];for(;r.charAt(0)==" ";)r=r.substring(1);if(r.indexOf(t)==0)return r.substring(t.length,r.length)}return""}const ln=class ln{constructor(t,s){_(this,"id");_(this,"base");_(this,"full");_(this,"life");_(this,"resources");_(this,"points");_(this,"computer");_(this,"remote");_(this,"end");_(this,"stats");this.id=t,this.base=null,this.full=s,this.life=s,this.resources=[],this.points=0,this.computer=!1,this.remote=!1,this.end=0,this.stats=new on}name(){return this.computer?"Computer":`Player ${this.id}`}startingLife(){return this.full}isFullLife(){return this.startingLife()===this.life}resourceCount(t){return this.resources[t]}resourceScore(){let t=0;return this.resources.forEach(s=>t+=s),t}updateResource(t,s){let n=this.resources[t];n=n+s,this.resources[t]=n}save(){var t;return new oh({i:this.id,b:(t=this.base)==null?void 0:t.id,f:this.full,l:this.life,r:this.resources,p:this.points,c:this.computer?1:0,o:this.remote?1:0,e:this.end,s:this.stats.save()})}static load(t){const s=new ln(t.i,t.f);return s.life=t.l,s.resources=t.r,s.points=t.p,s.computer=t.c>0,s.remote=t.o>0,s.end=t.e,s.stats=on.load(t.s),s}};_(ln,"playerID",1);let ht=ln;class oh{constructor(t){_(this,"i");_(this,"b");_(this,"f");_(this,"l");_(this,"r");_(this,"p");_(this,"c");_(this,"o");_(this,"e");_(this,"s");this.i=t.i,this.b=t.b,this.f=t.f,this.l=t.l,this.r=t.r,this.p=t.p,this.c=t.c,this.o=t.o,this.e=t.e,this.s=t.s}}class on{constructor(){_(this,"pointsMax");_(this,"tilesMax");_(this,"resourcesGathered");_(this,"resourcesSpent");_(this,"resourcesTraded");_(this,"unitsTrained");_(this,"unitsLost");_(this,"unitsKilled");_(this,"unitsMoved");_(this,"unitsMax");_(this,"damageTotal");this.pointsMax=0,this.tilesMax=0,this.resourcesGathered=0,this.resourcesSpent=0,this.resourcesTraded=0,this.unitsTrained=0,this.unitsLost=0,this.unitsKilled=0,this.unitsMoved=0,this.unitsMax=0,this.damageTotal=0}save(){return new ah({p:this.pointsMax,t:this.tilesMax,rg:this.resourcesGathered,rs:this.resourcesSpent,rt:this.resourcesTraded,ut:this.unitsTrained,ul:this.unitsLost,uk:this.unitsKilled,um:this.unitsMoved,u:this.unitsMax,d:this.damageTotal})}static load(t){const s=new on;return s.pointsMax=t.p,s.tilesMax=t.t,s.resourcesGathered=t.rg,s.resourcesSpent=t.rs,s.resourcesTraded=t.rt,s.unitsTrained=t.ut,s.unitsLost=t.ul,s.unitsKilled=t.uk,s.unitsMoved=t.um,s.unitsMax=t.u,s.damageTotal=t.d,s}}class ah{constructor(t){_(this,"p");_(this,"t");_(this,"rg");_(this,"rs");_(this,"rt");_(this,"ut");_(this,"ul");_(this,"uk");_(this,"um");_(this,"u");_(this,"d");this.p=t.p,this.t=t.t,this.rg=t.rg,this.rs=t.rs,this.rt=t.rt,this.ut=t.ut,this.ul=t.ul,this.uk=t.uk,this.um=t.um,this.u=t.u,this.d=t.d}}class wo{constructor(){_(this,"users");_(this,"local");_(this,"host");this.users=[],this.local="",this.host=""}isHostLocal(){return this.local!==""&&this.local===this.host}}class lh{constructor(){_(this,"p");_(this,"g");_(this,"u");_(this,"t");_(this,"d");_(this,"s");_(this,"x");_(this,"h");this.p="",this.g="",this.u="",this.t="",this.d="",this.s="",this.x="",this.h=""}}var Qt;let qs=(Qt=class{constructor(t){_(this,"id");_(this,"roll");_(this,"type");_(this,"units");_(this,"adjacent");_(this,"base");this.id=t,this.roll=0,this.type=null,this.units=[],this.adjacent=[],this.base=null}playerController(){return this.base&&!this.base.end?this.base:this.units.length&&this.units[0].player||null}unitsSelected(){return this.units.filter(t=>t.selected)||[]}score(){var s;let t=((s=this.type)==null?void 0:s.cost)||0;return this.roll&&(t+=6-Math.abs(7-this.roll)),t}startScore(){var s;if((s=this.base)!=null&&s.id)return 0;let t=this.score();return t?(this.adjacent.forEach(n=>t+=n.score()),this.adjacent.forEach(n=>{var i;t=(i=n.base)!=null&&i.id?0:t}),t):0}unitScore(){let t=0;return this.units.forEach(s=>t+=s.type.threat),t}dangerScore(t){let s=0;return this.adjacent.forEach(n=>{n.units.length&&n.units[0].player!==t&&n.units.forEach(i=>s+=i.type.threat)}),s}save(){var t,s;return new ch({i:this.id,r:this.roll,t:(t=this.type)==null?void 0:t.id,b:(s=this.base)==null?void 0:s.id})}static load(t){const s=new Qt(t.i);return s.roll=t.r,s}},_(Qt,"tileID",1),Qt);class ch{constructor(t){_(this,"i");_(this,"r");_(this,"t");_(this,"b");this.i=t.i,this.r=t.r,this.t=t.t,this.b=t.b}}const uh={winningPoints:75,controlPoints:3,startingLife:100,turnLength:90,tradeSurcharge:2,baseGeneration:3,resourceTypes:[{id:1,type:"village",resource:"Loyal Serf",icon:"serf",color:"#03a9f4",cost:1},{id:2,type:"farm",resource:"Tasty Ration",icon:"rice",color:"lightgreen",cost:1},{id:3,type:"mine",resource:"Iron Chunk",icon:"ore",color:"#505050",cost:2},{id:4,type:"forest",resource:"Dead Tree",icon:"tree",color:"darkgreen",cost:2},{id:5,type:"tower",resource:"Magic Wand",icon:"wand",color:"purple",cost:3},{id:6,type:"stables",resource:"Noble Steed",icon:"horse",color:"#987554",cost:3},{id:7,type:"desert",resource:"",icon:"",color:"white",cost:0}],separateResourceTypes:["tower","stables","desert"],unitTypes:[{id:1,type:"peasant",move:1,cost:[[1,1],[2,1]],battle:{offense:1,defense:1,ranged:!1,sound:"pitchfork"},threat:1},{id:2,type:"footman",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:5,defense:10,ranged:!1,sound:"sword"},threat:3},{id:3,type:"archer",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:5,defense:5,ranged:!0,sound:"arrow"},threat:3},{id:4,type:"knight",move:2,cost:[[1,1],[2,1],[3,1],[6,1]],battle:{offense:10,defense:20,ranged:!1,sound:"horse"},threat:5},{id:5,type:"wizard",move:5,cost:[[1,1],[2,1],[4,1],[5,1]],battle:{offense:20,defense:5,ranged:!0,sound:"magic"},threat:5}],startingUnits:["peasant","peasant","peasant","peasant","footman","archer","footman"],monsterName:"dragon"},dh={winningPoints:0,controlPoints:0,startingLife:50,turnLength:90,tradeSurcharge:1,baseGeneration:1,resourceTypes:[{id:1,type:"battlefield",resource:"Human Remains",icon:"remains",color:"#339966",cost:1},{id:2,type:"library",resource:"Reanimate Scroll",icon:"scroll",color:"#FFCC99",cost:1},{id:3,type:"dungeon",resource:"Spare Flesh",icon:"flesh",color:"#990000",cost:2},{id:4,type:"cemetary",resource:"Lost Soul",icon:"soul",color:"gray",cost:2},{id:5,type:"distillery",resource:"Moon Shine",icon:"moonshine",color:"purple",cost:3},{id:6,type:"lair",resource:"Used Coffin",icon:"coffin",color:"#634121",cost:3},{id:7,type:"church",resource:"",icon:"",color:"#ffffff",cost:0}],separateResourceTypes:["distillery","shop","church"],unitTypes:[{id:1,type:"skeleton",move:1,cost:[[1,1],[2,1]],battle:{offense:5,defense:5,ranged:!1,sound:"bones"},threat:1},{id:2,type:"zombie",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:10,defense:15,ranged:!1,sound:"zombie"},threat:2},{id:3,type:"ghost",move:2,cost:[[1,1],[2,1],[4,1]],battle:{offense:5,defense:10,ranged:!0,sound:"boo"},threat:2},{id:4,type:"werewolf",move:3,cost:[[1,1],[2,1],[3,1],[5,1]],battle:{offense:20,defense:20,ranged:!1,sound:"howl"},threat:3},{id:5,type:"vampire",move:4,cost:[[1,1],[2,1],[4,1],[6,1]],battle:{offense:25,defense:5,ranged:!0,sound:"suck"},threat:3}],startingUnits:["skeleton","skeleton","skeleton","skeleton","zombie","ghost","zombie"],monsterName:"angel"},hh={winningPoints:100,controlPoints:5,startingLife:0,turnLength:60,tradeSurcharge:3,baseGeneration:5,resourceTypes:[{id:1,type:"school",resource:"Eager Graduate",icon:"grad",color:"rgb(82,106,76)",cost:1},{id:2,type:"store",resource:"Fruit Laptop",icon:"laptop",color:"rgb(40,60,105)",cost:1},{id:3,type:"doctor",resource:"Thick Glasses",icon:"glasses",color:"rgb(237,231,217)",cost:2},{id:4,type:"museum",resource:"Inspiring Art",icon:"art",color:"rgb(210,179,120)",cost:2},{id:5,type:"locksmith",resource:"Important Keys",icon:"keys",color:"rgb(88,83,81)",cost:3},{id:6,type:"dealership",resource:"Ostentatious Car",icon:"car",color:"rgb(166,33,27)",cost:3},{id:7,type:"park",resource:"",icon:"",color:"rgb(229,219,99)",cost:0}],separateResourceTypes:["locksmith","dealership","park"],unitTypes:[{id:1,type:"intern",move:1,cost:[[1,1],[2,1]],battle:{offense:0,defense:0,ranged:!1,sound:"whip"},threat:1},{id:2,type:"coder",move:1,cost:[[1,1],[2,1],[3,1]],battle:{offense:0,defense:0,ranged:!1,sound:"typing"},threat:2},{id:3,type:"designer",move:1,cost:[[1,1],[2,1],[4,1]],battle:{offense:0,defense:0,ranged:!1,sound:"bach"},threat:2},{id:4,type:"manager",move:2,cost:[[1,1],[2,1],[3,1],[5,1]],battle:{offense:0,defense:0,ranged:!1,sound:"keys"},threat:3},{id:5,type:"executive",move:5,cost:[[1,1],[2,1],[4,1],[6,1]],battle:{offense:0,defense:0,ranged:!1,sound:"car"},threat:3}],startingUnits:["intern","intern","intern","intern","coder","designer","coder"],monsterName:"taxman"};var de=(e=>(e[e.start=0]="start",e[e.roll=1]="roll",e[e.monster=2]="monster",e[e.trade=3]="trade",e[e.spend=4]="spend",e[e.train=5]="train",e[e.move=6]="move",e[e.battle=7]="battle",e[e.damage=8]="damage",e[e.siege=9]="siege",e[e.next=10]="next",e[e.concede=11]="concede",e))(de||{}),De=(e=>(e[e.PvC=0]="PvC",e[e.PvPLocal=1]="PvPLocal",e[e.PvPOnline=2]="PvPOnline",e[e.CvC=3]="CvC",e))(De||{}),jt=(e=>(e[e.start=0]="start",e[e.roll=1]="roll",e[e.march=2]="march",e))(jt||{}),tt=(e=>(e[e.none=0]="none",e[e.points=1]="points",e[e.siege=2]="siege",e[e.concede=3]="concede",e))(tt||{});const z={error:{heading:"Ummm"},menu:{heading:"Menu",help:"Help",load:"Load",reset:"Reset",save:"Save",settings:"Settings"},monster:"The monster is on the move!",phases:{start:"Select a starting location!",roll:"Roll the dice to collect resources!",march:"Train units, reposition troops, or march to war!"},reset:"New Game",settings:{heading:"Settings",mode:"Mode",players:"Players",sfx:"SFX Volume",speed:"Game Speed",theme:"Theme",warning:"Warning: Changing the below will clear the current game and reload the page"},stats:{headings:{battles:"Battles Fought",count:"Count",kills:"Kills",resources:"Resources Collected",roll:"Roll",stat:"Stat",turns:"Total Turns",units:"Units Types Trained"},damageTotal:"Total Damage",pointsMax:"Highest Victory Points",resourcesGathered:"Resources Gathered",resourcesSpent:"Resources Spent",resourcesTraded:"Resources Traded",tilesMax:"Highest Controlled Tiles",unitsTrained:"Units Trained",unitsLost:"Units Lost",unitsKilled:"Units Killed",unitsMoved:"Units Moved",unitsMax:"Highest Unit Count"},title:"RISKATAN",tooltip:{concede:"Giving up?",dice:"Go ahead and give 'em a toss!",help:"Here you can figure out how to play",load:"You lose your current progress if you load another game",next:"Next",previous:"Previous",reset:"You go back to start if you reset",save:"You only get one save spot",settings:"You can change some settings",turn:"End your turn?"},trade:"Trade",tutorial:"How To Play",victory:"Wins!",waiting:"Waiting for player to join..."},Y={defaultTimeout:500,grid:[{players:2,makeup:[4,4,3,3,2,2,1],rolls:[2,3,4,4,5,5,5,6,6,8,8,9,9,9,10,10,11,12],size:[3,4,5,4,3]},{players:3,makeup:[5,5,4,4,2,2,2],rolls:[2,3,3,4,4,5,5,5,6,6,6,8,8,8,9,9,9,10,10,11,11,12],size:[4,5,6,5,4]},{players:4,makeup:[6,6,5,5,2,2,3],rolls:[2,2,3,3,4,4,4,5,5,5,6,6,6,8,8,8,9,9,9,10,10,10,11,11,12,12],size:[5,6,7,6,5]}],maxMoveDistance:10,maxPlayers:4,minPlayers:2,monsterRoll:7,settingsBaseSound:100,settingsBaseSpeed:2,themeData:{medieval:uh,undead:dh,corporate:hh},tileUnitMax:8,turnPhases:[{phase:jt.start,description:z.phases.start},{phase:jt.roll,description:z.phases.roll},{phase:jt.march,description:z.phases.march}]};class ut{constructor(t){_(this,"id");_(this,"player");_(this,"tile");_(this,"type");_(this,"ready");_(this,"sent");_(this,"hide");_(this,"spend");_(this,"delay");this.id=t,this.player=null,this.tile=null,this.type=null,this.ready=!1,this.sent=!1,this.hide=!1,this.spend=!1,this.delay=0}}_(ut,"resourceID",1);class Cs{constructor(t){_(this,"id");_(this,"type");_(this,"resource");_(this,"icon");_(this,"color");_(this,"cost");this.id=t.id,this.type=t.type,this.resource=t.resource,this.icon=t.icon,this.color=t.color,this.cost=t.cost}static resourceTypes(t){return Y.themeData[t].resourceTypes.map(s=>new Cs(s))}static resourceTypesValid(t){return Cs.resourceTypes(t).filter(s=>s.resource)}}class To{constructor(){_(this,"give");_(this,"take");_(this,"cost");_(this,"valid");this.give=0,this.take=0,this.cost=0,this.valid=!1}}class So{constructor(t,s){_(this,"x");_(this,"y");this.x=t,this.y=s}}class qt{constructor(t){_(this,"player");_(this,"phase");_(this,"roll");_(this,"time");this.player=0,this.phase=0,this.roll=new an,this.time=t}static load(t,s){const n=new qt(s);return n.player=t.player,n.phase=t.phase,n.roll=an.load(t.roll),n.time=t.time,n}}class an{constructor(){_(this,"dieOne");_(this,"dieTwo");_(this,"total");_(this,"rolled");this.dieOne=3,this.dieTwo=4,this.total=7,this.rolled=!1}roll(){this.dieOne=Math.floor(Math.random()*6+1),this.dieTwo=Math.floor(Math.random()*6+1),this.total=this.dieOne+this.dieTwo,this.rolled=!0}setRoll(t,s){this.dieOne=t,this.dieTwo=s,this.total=this.dieOne+this.dieTwo,this.rolled=!0}static load(t){const s=new an;return s.dieOne=t.dieOne,s.dieTwo=t.dieTwo,s.total=t.total,s.rolled=t.rolled,s}}let xo=class{constructor(){_(this,"location");_(this,"moving");_(this,"hungry");this.location=0,this.moving=!1,this.hungry=!1}};class Co{constructor(){_(this,"turnsCount");_(this,"rollSpread");_(this,"unitSpread");_(this,"resourceSpread");_(this,"battlesCount");_(this,"monsterKills");this.turnsCount=1,this.rollSpread=[],this.unitSpread=[],this.resourceSpread=[],this.battlesCount=0,this.monsterKills=0}init(t,s,n){for(let r=0;r<t;r++)this.unitSpread.push(0);for(let r=0;r<s-1;r++)this.resourceSpread.push(0);const i=Y.grid.find(r=>r.players===n);for(let r=0;r<new Set(i.rolls).size+1;r++)this.rollSpread.push(0)}}var Zt;let Kt=(Zt=class{constructor(t,s){_(this,"id");_(this,"tile");_(this,"player");_(this,"selected");_(this,"moved");_(this,"staying");_(this,"stranded");_(this,"type");_(this,"damage");this.id=t,this.tile=null,this.player=null,this.selected=!1,this.moved=!1,this.staying=!1,this.stranded=!1,this.type=s,this.damage=0}static unitTypes(t){return Y.themeData[t].unitTypes.map(s=>new rl(s))}isAtBase(){var t;return((t=this.tile)==null?void 0:t.base)===this.player}isAlone(){var t;return((t=this.tile)==null?void 0:t.units.length)===1}resetMove(){this.selected=!1,this.moved=!1,this.staying=!1}save(){var t,s,n;return new fh({i:this.id,m:this.moved?1:0,t:(t=this.tile)==null?void 0:t.id,y:(s=this.type)==null?void 0:s.id,p:(n=this.player)==null?void 0:n.id})}static load(t,s){const n=new Zt(t.i,s);return n.moved=t.m>0,n}},_(Zt,"unitID",1),Zt);class fh{constructor(t){_(this,"i");_(this,"m");_(this,"t");_(this,"y");_(this,"p");this.i=t.i,this.m=t.m,this.t=t.t,this.y=t.y,this.p=t.p}}class rl{constructor(t){_(this,"id");_(this,"type");_(this,"move");_(this,"cost");_(this,"battle");_(this,"threat");this.id=t.id,this.type=t.type,this.move=t.move,this.cost=t.cost,this.battle=new ph(t.battle),this.threat=t.threat}}class ph{constructor(t){_(this,"offense");_(this,"defense");_(this,"ranged");_(this,"sound");this.offense=t.offense,this.defense=t.defense,this.ranged=t.ranged,this.sound=t.sound}}class ol{constructor(t,s){_(this,"index");_(this,"amount");this.index=t,this.amount=s}}let Di=class al{constructor(){_(this,"open");_(this,"mode");_(this,"players");_(this,"sound");_(this,"speed");_(this,"theme");this.open=!1,this.mode=De.PvC,this.players=Y.minPlayers,this.sound=null,this.speed=null,this.theme="medieval"}static load(t){const s=new al;return s.open=!1,s.mode=(t==null?void 0:t.mode)||De.PvC,s.players=(t==null?void 0:t.players)||Y.minPlayers,s.sound=(t==null?void 0:t.sound)||Y.settingsBaseSound,s.speed=(t==null?void 0:t.speed)||Y.settingsBaseSpeed,s.theme=(t==null?void 0:t.theme)||"medieval",s}};const rt=Object.create(null);rt.open="0";rt.close="1";rt.ping="2";rt.pong="3";rt.message="4";rt.upgrade="5";rt.noop="6";const Ws=Object.create(null);Object.keys(rt).forEach(e=>{Ws[rt[e]]=e});const Yi={type:"error",data:"parser error"},ll=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",cl=typeof ArrayBuffer=="function",ul=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,yr=({type:e,data:t},s,n)=>ll&&t instanceof Blob?s?n(t):Eo(t,n):cl&&(t instanceof ArrayBuffer||ul(t))?s?n(t):Eo(new Blob([t]),n):n(rt[e]+(t||"")),Eo=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function ko(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Mi;function gh(e,t){if(ll&&e.data instanceof Blob)return e.data.arrayBuffer().then(ko).then(t);if(cl&&(e.data instanceof ArrayBuffer||ul(e.data)))return t(ko(e.data));yr(e,!1,s=>{Mi||(Mi=new TextEncoder),t(Mi.encode(s))})}const Ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ds=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ao.length;e++)ds[Ao.charCodeAt(e)]=e;const mh=e=>{let t=e.length*.75,s=e.length,n,i=0,r,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),c=new Uint8Array(u);for(n=0;n<s;n+=4)r=ds[e.charCodeAt(n)],o=ds[e.charCodeAt(n+1)],a=ds[e.charCodeAt(n+2)],l=ds[e.charCodeAt(n+3)],c[i++]=r<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return u},_h=typeof ArrayBuffer=="function",br=(e,t)=>{if(typeof e!="string")return{type:"message",data:dl(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:vh(e.substring(1),t)}:Ws[s]?e.length>1?{type:Ws[s],data:e.substring(1)}:{type:Ws[s]}:Yi},vh=(e,t)=>{if(_h){const s=mh(e);return dl(s,t)}else return{base64:!0,data:e}},dl=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},hl="",yh=(e,t)=>{const s=e.length,n=new Array(s);let i=0;e.forEach((r,o)=>{yr(r,!1,a=>{n[o]=a,++i===s&&t(n.join(hl))})})},bh=(e,t)=>{const s=e.split(hl),n=[];for(let i=0;i<s.length;i++){const r=br(s[i],t);if(n.push(r),r.type==="error")break}return n};function wh(){return new TransformStream({transform(e,t){gh(e,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,n)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(s)})}})}let Bi;function Fs(e){return e.reduce((t,s)=>t+s.length,0)}function Ls(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)s[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function Th(e,t){Bi||(Bi=new TextDecoder);const s=[];let n=0,i=-1,r=!1;return new TransformStream({transform(o,a){for(s.push(o);;){if(n===0){if(Fs(s)<1)break;const l=Ls(s,1);r=(l[0]&128)===128,i=l[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Fs(s)<2)break;const l=Ls(s,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Fs(s)<8)break;const l=Ls(s,8),u=new DataView(l.buffer,l.byteOffset,l.length),c=u.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(Yi);break}i=c*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Fs(s)<i)break;const l=Ls(s,i);a.enqueue(br(r?l:Bi.decode(l),t)),n=0}if(i===0||i>e){a.enqueue(Yi);break}}}})}const fl=4;function Te(e){if(e)return Sh(e)}function Sh(e){for(var t in Te.prototype)e[t]=Te.prototype[t];return e}Te.prototype.on=Te.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Te.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Te.prototype.off=Te.prototype.removeListener=Te.prototype.removeAllListeners=Te.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===t||n.fn===t){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Te.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,t)}return this};Te.prototype.emitReserved=Te.prototype.emit;Te.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Te.prototype.hasListeners=function(e){return!!this.listeners(e).length};const He=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pl(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const xh=He.setTimeout,Ch=He.clearTimeout;function Ti(e,t){t.useNativeTimers?(e.setTimeoutFn=xh.bind(He),e.clearTimeoutFn=Ch.bind(He)):(e.setTimeoutFn=He.setTimeout.bind(He),e.clearTimeoutFn=He.clearTimeout.bind(He))}const Eh=1.33;function kh(e){return typeof e=="string"?Ah(e):Math.ceil((e.byteLength||e.size)*Eh)}function Ah(e){let t=0,s=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function $h(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function Ph(e){let t={},s=e.split("&");for(let n=0,i=s.length;n<i;n++){let r=s[n].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}class Ih extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class wr extends Te{constructor(t){super(),this.writable=!1,Ti(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,s,n){return super.emitReserved("error",new Ih(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=br(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=$h(t);return s.length?"?"+s:""}}const gl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ji=64,Rh={};let $o=0,Ns=0,Po;function Io(e){let t="";do t=gl[e%Ji]+t,e=Math.floor(e/Ji);while(e>0);return t}function ml(){const e=Io(+new Date);return e!==Po?($o=0,Po=e):e+"."+Io($o++)}for(;Ns<Ji;Ns++)Rh[gl[Ns]]=Ns;let _l=!1;try{_l=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Oh=_l;function vl(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Oh))return new XMLHttpRequest}catch{}if(!t)try{return new He[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Dh(){}const Mh=function(){return new vl({xdomain:!1}).responseType!=null}();class Bh extends wr{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const s=t&&t.forceBase64;this.supportsBinary=Mh&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};bh(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,yh(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=ml()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new it(this.uri(),t)}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class it extends Te{constructor(t,s){super(),Ti(this,s),this.opts=s,this.method=s.method||"GET",this.uri=t,this.data=s.data!==void 0?s.data:null,this.create()}create(){var t;const s=pl(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new vl(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=it.requestsCount++,it.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Dh,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete it.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}it.requestsCount=0;it.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ro);else if(typeof addEventListener=="function"){const e="onpagehide"in He?"pagehide":"unload";addEventListener(e,Ro,!1)}}function Ro(){for(let e in it.requests)it.requests.hasOwnProperty(e)&&it.requests[e].abort()}const Tr=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),js=He.WebSocket||He.MozWebSocket,Oo=!0,Uh="arraybuffer",Do=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Fh extends wr{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),s=this.opts.protocols,n=Do?{}:pl(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Oo&&!Do?s?new js(t,s):new js(t):new js(t,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;yr(n,this.supportsBinary,r=>{const o={};try{Oo&&this.ws.send(r)}catch{}i&&Tr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=ml()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}check(){return!!js}}class Lh extends wr{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const s=Th(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),i=wh();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const r=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],i=s===t.length-1;this.writer.write(n).then(()=>{i&&Tr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Nh={websocket:Fh,webtransport:Lh,polling:Bh},jh=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xi(e){if(e.length>2e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let i=jh.exec(e||""),r={},o=14;for(;o--;)r[Vh[o]]=i[o]||"";return s!=-1&&n!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=Hh(r,r.path),r.queryKey=Gh(r,r.query),r}function Hh(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Gh(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,r){i&&(s[i]=r)}),s}let yl=class zt extends Te{constructor(t,s={}){super(),this.binaryType=Uh,this.writeBuffer=[],t&&typeof t=="object"&&(s=t,t=null),t?(t=Xi(t),s.hostname=t.host,s.secure=t.protocol==="https"||t.protocol==="wss",s.port=t.port,t.query&&(s.query=t.query)):s.host&&(s.hostname=Xi(s.host).host),Ti(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ph(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=fl,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Nh[t](n)}open(){let t;if(this.opts.rememberUpgrade&&zt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(t){let s=this.createTransport(t),n=!1;zt.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;zt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(c(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=s.name,this.emitReserved("upgradeError",p)}}))};function r(){n||(n=!0,c(),s.close(),s=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=s.name,r(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function l(){o("socket closed")}function u(h){s&&h.name!==s.name&&r()}const c=()=>{s.removeListener("open",i),s.removeListener("error",o),s.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};s.once("open",i),s.once("error",o),s.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",zt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const s=this.upgrades.length;for(;t<s;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=t.data,this.onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=kh(i)),n>0&&s>this.maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}write(t,s,n){return this.sendPacket("message",t,s,n),this}send(t,s,n){return this.sendPacket("message",t,s,n),this}sendPacket(t,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:t,data:s,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){zt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const s=[];let n=0;const i=t.length;for(;n<i;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}};yl.protocol=fl;function Kh(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Xi(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+t,n.href=n.protocol+"://"+r+(s&&s.port===n.port?"":":"+n.port),n}const zh=typeof ArrayBuffer=="function",qh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,bl=Object.prototype.toString,Wh=typeof Blob=="function"||typeof Blob<"u"&&bl.call(Blob)==="[object BlobConstructor]",Yh=typeof File=="function"||typeof File<"u"&&bl.call(File)==="[object FileConstructor]";function Sr(e){return zh&&(e instanceof ArrayBuffer||qh(e))||Wh&&e instanceof Blob||Yh&&e instanceof File}function Ys(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Ys(e[s]))return!0;return!1}if(Sr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ys(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Ys(e[s]))return!0;return!1}function Jh(e){const t=[],s=e.data,n=e;return n.data=Qi(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Qi(e,t){if(!e)return e;if(Sr(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Qi(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Qi(e[n],t));return s}return e}function Xh(e,t){return e.data=Zi(e.data,t),delete e.attachments,e}function Zi(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Zi(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Zi(e[s],t));return e}const Qh=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Zh=5;var ee;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ee||(ee={}));class ef{constructor(t){this.replacer=t}encode(t){return(t.type===ee.EVENT||t.type===ee.ACK)&&Ys(t)?this.encodeAsBinary({type:t.type===ee.EVENT?ee.BINARY_EVENT:ee.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===ee.BINARY_EVENT||t.type===ee.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Jh(t),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function Mo(e){return Object.prototype.toString.call(e)==="[object Object]"}class xr extends Te{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===ee.BINARY_EVENT;n||s.type===ee.BINARY_ACK?(s.type=n?ee.EVENT:ee.ACK,this.reconstructor=new tf(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Sr(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(ee[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ee.BINARY_EVENT||n.type===ee.BINARY_ACK){const r=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(r,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(s+1)==="/"){const r=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(r,s)}else n.nsp="/";const i=t.charAt(s+1);if(i!==""&&Number(i)==i){const r=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}n.id=Number(t.substring(r,s+1))}if(t.charAt(++s)){const r=this.tryParse(t.substr(s));if(xr.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case ee.CONNECT:return Mo(s);case ee.DISCONNECT:return s===void 0;case ee.CONNECT_ERROR:return typeof s=="string"||Mo(s);case ee.EVENT:case ee.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Qh.indexOf(s[0])===-1);case ee.ACK:case ee.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tf{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=Xh(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sf=Object.freeze(Object.defineProperty({__proto__:null,Decoder:xr,Encoder:ef,get PacketType(){return ee},protocol:Zh},Symbol.toStringTag,{value:"Module"}));function Ye(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const nf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wl extends Te{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ye(t,"open",this.onopen.bind(this)),Ye(t,"packet",this.onpacket.bind(this)),Ye(t,"error",this.onerror.bind(this)),Ye(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){if(nf.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:ee.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,a=s.pop();this._registerAckCallback(o,a),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=s;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);s.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(r),s.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((n,i)=>{const r=(o,a)=>o?i(o):n(a);r.withError=!0,s.push(r),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...r)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...r)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ee.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ee.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ee.EVENT:case ee.BINARY_EVENT:this.onevent(t);break;case ee.ACK:case ee.BINARY_ACK:this.onack(t);break;case ee.DISCONNECT:this.ondisconnect();break;case ee.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:ee.ACK,id:t,data:i}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function is(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}is.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};is.prototype.reset=function(){this.attempts=0};is.prototype.setMin=function(e){this.ms=e};is.prototype.setMax=function(e){this.max=e};is.prototype.setJitter=function(e){this.jitter=e};class er extends Te{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Ti(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new is({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const i=s.parser||sf;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new yl(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ye(s,"open",function(){n.onopen(),t&&t()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Ye(s,"error",r);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),s.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ye(t,"ping",this.onping.bind(this)),Ye(t,"data",this.ondata.bind(this)),Ye(t,"error",this.onerror.bind(this)),Ye(t,"close",this.onclose.bind(this)),Ye(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Tr(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new wl(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const cs={};function Js(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=Kh(e,t.path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=cs[i]&&r in cs[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new er(n,t):(cs[i]||(cs[i]=new er(n,t)),l=cs[i]),s.query&&!t.query&&(t.query=s.queryKey),l.socket(s.path,t)}Object.assign(Js,{Manager:er,Socket:wl,io:Js,connect:Js});class rf{constructor(){_(this,"socket")}setupSocketConnection(){this.socket||(this.socket=Js("https://solid-garden-397801.wl.r.appspot.com/"),this.socket.on("users",t=>this.usersUpdated(t)),this.socket.on("host",t=>this.hostUpdated(t)),this.socket.on("joined",t=>this.userJoined(t)),this.socket.on("left",t=>this.userLeft(t)),this.socket.on("synced",t=>this.userSynced(t)),this.socket.on("acted",t=>this.userActed(t)),this.socket.on("connect_error",t=>{Z().error=`${t.message}`}))}usersUpdated(t){const s=Z().multiplayer;s.users=t,s.local||(s.local=this.socket.id,this.joinGame())}joinGame(){this.socket&&this.socket.emit("join",Z().multiplayer.local)}hostUpdated(t){const s=Z().multiplayer;s.host=t}userJoined(t){const s=Z().settings.players,n=Z().multiplayer;t&&s===n.users.length&&n.isHostLocal()&&(Z().randomizeStartingPlayer(),this.syncGame())}syncGame(){if(!this.socket)return;const t=Z().multiplayer;if(t.local&&t.isHostLocal()){const s=Z().createSetupPacket();s.h=t.host,this.socket.emit("sync",s)}}userLeft(t){const s=Z().multiplayer;s.users=s.users.filter(n=>n!==t)}userSynced(t){const s=Z().multiplayer;s.host=t.h,s.local&&(s.isHostLocal()||Z().loadSetupPacket(t),this.assignRemoteStatus())}assignRemoteStatus(){const t=Z().multiplayer;if(!t.local)return;const s=t.users.indexOf(t.local),n=Z().settings.players;for(let i=0;i<n;i++)this.setPlayerRemote(i+1,s!==i)}setPlayerRemote(t,s){const n=Z().playerForID(t);n&&(n.remote=s)}selectStart(t,s){this.socket&&this.socket.emit("act",{act:de.start,pID:t,tID:s})}rollDice(t,s,n){this.socket&&this.socket.emit("act",{act:de.roll,pID:t,d1:s,d2:n})}moveMonster(t,s){this.socket&&this.socket.emit("act",{act:de.monster,pID:t,tID:s})}tradeResource(t,s){this.socket&&this.socket.emit("act",{act:de.trade,pID:t,rID:s})}spendResource(t,s,n,i){this.socket&&this.socket.emit("act",{act:de.spend,pID:t,rID:s,amt:n,tID:i})}trainUnit(t,s,n){this.socket&&this.socket.emit("act",{act:de.train,pID:t,uID:s,tID:n})}moveUnits(t,s,n,i){this.socket&&this.socket.emit("act",{act:de.move,pID:t,uIDs:s,fID:n,tID:i})}toggleBattle(t,s){this.socket&&this.socket.emit("act",{act:de.battle,pID:t,battle:s})}unitDamageUnit(t,s,n,i,r,o){this.socket&&this.socket.emit("act",{act:de.damage,pID:t,aID:s,fID:n,dID:i,tID:r,dam:o})}unitDamageBase(t,s,n,i,r){this.socket&&this.socket.emit("act",{act:de.siege,pID:t,aID:s,fID:n,tID:i,dam:r})}nextTurn(t){this.socket&&this.socket.emit("act",{act:de.next,pID:t})}concedeGame(t){this.socket&&this.socket.emit("act",{act:de.concede,pID:t})}userActed(t){var n;const s=Z();(n=s.playerForID(t.pID))!=null&&n.remote&&(t.act===de.start?s.playerSelectStartingTile(t.pID,t.tID):t.act===de.roll?s.setRoll(t.d1,t.d2):t.act===de.monster?s.moveMonsterToTile(t.tID):t.act===de.trade?s.playerTradeForResource(t.pID,t.rID):t.act===de.spend?s.playerSpendResource(t.pID,t.rID,t.amt,t.tID):t.act===de.train?s.playerTrainUnitOnTile(t.pID,t.uID,t.tID):t.act===de.move?s.playerMoveUnits(t.pID,t.uIDs,t.fID,t.tID):t.act===de.battle?s.toggleBattle(t.battle):t.act===de.damage?s.unitDamageUnit(t.aID,t.fID,t.dID,t.tID,t.dam):t.act===de.siege?s.unitDamageBase(t.aID,t.fID,t.tID,t.dam):t.act===de.next?s.nextTurn():t.act===de.concede&&s.playerConcedeGame(t.pID))}disconnect(){this.socket&&this.socket.disconnect()}}const xe=new rf,Z=md("game",{state:()=>({players:[],multiplayer:new wo,grid:[],resources:[],trade:new To,train:0,turn:new qt(0),timer:0,monster:new xo,battling:!1,stats:new Co,settings:new Di,menu:!1,tutorial:!1,victory:tt.none,error:""}),getters:{playersGrid({settings:e}){return Y.grid.find(t=>t.players===e.players)},playerActive({players:e,turn:t}){return e.find(s=>s.id===t.player)||null},playerWinner({players:e}){return e.find(t=>t.end===1)||null},playerStartingLife(){return Y.themeData[this.settings.theme].startingLife},nextPlayerPlacement(){return this.players.filter(e=>!e.end).length},lastPlayerStanding(){return this.nextPlayerPlacement===1&&this.players.find(e=>!e.end)||null},tilesAll(){const e=[];return this.grid.forEach(t=>t.forEach(s=>e.push(s))),e},tilesOfActivePlayer(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()===this.playerActive)},tilesOfTheEnemy(){return this.tilesAll.filter(e=>e.playerController()&&e.playerController()!==this.playerActive)},tradeSurcharge(){return Y.themeData[this.settings.theme].tradeSurcharge},resourceTypes(){return Cs.resourceTypes(this.settings.theme)},resourceTypesValid(){return Cs.resourceTypesValid(this.settings.theme)},unitTypes(){return Kt.unitTypes(this.settings.theme)},unitsSelected({grid:e}){const t=[];return e.forEach(s=>{s.forEach(n=>{n.units.forEach(i=>{i.selected&&t.push(i)})})}),t},unitsSelectedTile(){const e=this.unitsSelected;return e.length?e[0].tile:null},unitsMoveDistance(){let e=Y.maxMoveDistance;return this.unitsSelected.forEach(t=>{const s=t.type;s&&(e=Math.min(e,s.move))}),e},unitsMovableForActivePlayer(){const e=[];return this.tilesOfActivePlayer.forEach(t=>t.units.forEach(s=>{!s.moved&&!s.staying&&e.push(s)})),e},battleEnabled(){return this.playerStartingLife>0},turnTime(){return Y.themeData[this.settings.theme].turnLength},turnPhase({turn:e}){return Y.turnPhases[e.phase]},startPhase(){return this.turnPhase.phase===jt.start},rollPhase(){return this.turnPhase.phase===jt.roll},marchPhase(){return this.turnPhase.phase===jt.march},rolled(){return this.turn.roll.rolled},vsComputer(){return this.players&&this.players.length>1?this.players[1].computer:!1},isComputerTurn(){return this.playerActive?this.vsComputer&&this.playerActive.computer:!1},isOpponentTurn(){return this.playerActive?this.playerActive.computer||this.playerActive.remote:!1},gameSpeed(){var e;return(e=this.settings)!=null&&e.speed?this.settings.speed:1},theme(){return this.settings.theme},themeOptions(){return Object.keys(Y.themeData)},monsterName(){return Y.themeData[this.settings.theme].monsterName},baseIcon(){return`${this.settings.theme}/base`},winningPoints(){return Y.themeData[this.settings.theme].winningPoints},victoryString(){switch(this.victory){case tt.none:return"";case tt.concede:return"Opponent Conceded";case tt.points:return"Victory Points Winner";case tt.siege:return"Opponent's Base Destroyed"}},matchStrings(){return["Player - vs - Computer","Player - vs - Player Local","Player - vs - Player Online","Computer - vs - Computer"]},playerCountOptions(){const e=[];for(let t=Y.minPlayers;t<=Y.maxPlayers;t++)e.push(t);return e},pvpOnline(){return this.settings.mode===De.PvPOnline},waitingForOnlinePlayer(){return this.settings.mode==De.PvPOnline&&this.multiplayer.users.length<this.settings.players?!0:this.settings.mode==De.PvPOnline?!this.players.find(e=>e.remote):!1}},actions:{init(){this.reset(),this.loadSettings(),this.buildPlayers(),this.randomizeStartingPlayer(),this.buildGrid(),this.calculateGridAdjacents(),this.ensureValidAdjacents(),this.logTileScores(),this.updateMatchMode(this.settings.mode),this.stats.init(Y.themeData[this.theme].unitTypes.length,Y.themeData[this.theme].resourceTypes.length,this.settings.players),this.timer=setInterval(this.updateTimer,1e3)},reset(){clearInterval(this.timer),this.players=[],this.multiplayer=new wo,this.grid=[],this.resources=[],this.trade=new To,this.train=0,this.turn=new qt(this.turnTime),this.timer=0,this.monster=new xo,this.battling=!1,this.stats=new Co,this.settings=new Di,this.menu=!1,this.tutorial=!1,this.victory=tt.none,this.error=""},clearError(){this.error="",this.trade.take&&!this.trade.valid&&this.setTradeTake(0)},updateTimer(){this.startPhase||this.menu||this.victory||(this.turn.time--,this.turn.time<=0&&this.newTurn())},save(){this.savePlayers(),this.saveGrid(),this.saveUnits(),this.saveTurn(),this.saveMonster(),this.saveStats()},savePlayers(){this.saveObject(this.encodePlayers(),"p")},encodePlayers(){const e=[];return this.players.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveGrid(){this.saveObject(this.encodeGrid(),"g")},encodeGrid(){const e=[];return this.tilesAll.forEach(t=>e.push(t.save())),this.encodeObject(e)},saveUnits(){this.saveObject(this.encodeUnits(),"u")},encodeUnits(){const e=[];return this.tilesAll.forEach(t=>{t.units.forEach(s=>{e.push(s.save())})}),this.encodeObject(e)},saveTurn(){const e=this.turn;this.saveObject(this.encodeObject(e),"t")},saveMonster(){const e=this.monster;this.saveObject(this.encodeObject(e),"d")},saveStats(){const e=this.stats;this.saveObject(this.encodeObject(e),"s")},saveSettings(){const e=this.settings;this.saveObject(this.encodeObject(e),"x")},createSetupPacket(){const e=new lh;return e.p=this.encodePlayers(),e.g=this.encodeGrid(),e.u=this.encodeUnits(),e.t=this.encodeObject(this.turn),e.d=this.encodeObject(this.monster),e.s=this.encodeObject(this.stats),e.x=this.encodeObject(this.settings),e},saveObject(e,t){ih(t,e,999)},encodeObject(e){const t=JSON.stringify(e);return btoa(t)},load(){this.reset(),this.loadSettings(),this.loadPlayers(),this.loadGrid(),this.loadUnits(),this.loadTurn(),this.loadMonster(),this.loadStats()},loadPlayers(){this.decodePlayers(this.loadObject("p"))},decodePlayers(e){const t=this.decodeObject(e);this.players=[],t.forEach(s=>this.players.push(ht.load(s)))},loadGrid(){this.decodeGrid(this.loadObject("g")),this.calculateGridAdjacents()},decodeGrid(e){this.grid=[];let t=0;const s=this.decodeObject(e);this.playersGrid.size.forEach(n=>{const i=[];for(let r=0;r<n;r++){const o=s[t++],a=qs.load(o);a.type=this.resourceForID(o.t);const l=this.playerForID(o.b);l&&(a.base=l,l.base=a),i.push(a)}this.grid.push(i)})},loadUnits(){this.decodeUnits(this.loadObject("u"))},decodeUnits(e){let t=0;this.decodeObject(e).forEach(n=>{const i=this.unitTypeForID(n.y);if(i){const r=Kt.load(n,i),o=this.playerForID(n.p);o&&(r.player=o);const a=this.tileForID(n.t);a&&(r.tile=a,a.units.push(r))}t=Math.max(t,n.i)}),this.checkForStrandedUnits(),Kt.unitID=t+1},loadTurn(){this.turn=qt.load(this.decodeObject(this.loadObject("t")),this.turnTime)},loadMonster(){this.monster=this.decodeObject(this.loadObject("d"))},loadStats(){this.stats=this.decodeObject(this.loadObject("s"))},loadSettings(){const e=this.decodeObject(this.loadObject("x"));e&&(this.settings=Di.load(e))},loadSetupPacket(e){this.settings.theme=this.decodeObject(e.x).theme,this.settings.players=this.decodeObject(e.x).players,this.decodePlayers(e.p),this.decodeGrid(e.g),this.calculateGridAdjacents(),this.decodeUnits(e.u),this.turn=qt.load(this.decodeObject(e.t),this.turnTime),this.monster=this.decodeObject(e.d),this.stats=this.decodeObject(e.s)},loadObject(e){const t=rh(e);return t||null},decodeObject(e){if(!e)return"";const t=atob(e);return JSON.parse(t)},buildPlayers(){for(let e=0;e<this.settings.players;e++){const t=new ht(e+ht.playerID,this.playerStartingLife);this.resourceTypes.forEach(()=>t.resources.push(0)),this.players.push(t)}},playerForID(e){return this.players.find(t=>t.id===e)||null},randomizeStartingPlayer(){const e=Math.floor(Math.random()*this.players.length)+1;this.turn.player=e},buildGrid(){const e=[...this.playersGrid.rolls],t=[...this.gridOptions()];this.playersGrid.size.forEach(s=>{var i;const n=[];for(let r=0;r<s;r++){const o=new qs(qs.tileID++),a=Math.floor(Math.random()*t.length),l=this.resourceForType(t.splice(a,1)[0]);l&&(o.type=l,(i=o.type)!=null&&i.resource?o.roll=e.splice(Math.floor(Math.random()*e.length),1)[0]:this.monster.location||(this.monster.location=o.id)),n.push(o)}this.grid.push(n)})},gridOptions(){var t;const e=[];return(t=this.playersGrid)==null||t.makeup.forEach((s,n)=>{for(let i=0;i<s;i++){const r=this.resourceForID(n+1);r&&e.push(r.type)}}),e},calculateGridAdjacents(){const e=this.grid.length;for(let t=0;t<e;t++){const s=this.grid[t].length;for(let n=0;n<s;n++){const i=this.grid[t][n];i.adjacent=[];const r=n===s-1,o=this.tileForID(i.id+1);!r&&o&&i.adjacent.push(o);const a=n===0,l=this.tileForID(i.id-1);!a&&l&&i.adjacent.push(l),this.addAdjacentsBelow(i,t,a,r,s),this.addAdjacentsAbove(i,t,a,r,s)}}},addAdjacentsBelow(e,t,s,n,i){if(!(t===this.grid.length-1)){const o=this.grid[t+1].length,a=this.tileForID(e.id+i);a&&(!n||o>i)&&e.adjacent.push(a);const l=this.tileForID(e.id+o);l&&(!s||o>i)&&e.adjacent.push(l)}},addAdjacentsAbove(e,t,s,n,i){if(!(t===0)){const o=this.grid[t-1].length,a=this.tileForID(e.id-i);a&&(!s||o>i)&&e.adjacent.push(a);const l=this.tileForID(e.id-o);l&&(!n||o>i)&&e.adjacent.push(l)}},ensureValidAdjacents(){let e=!1;this.tilesAll.forEach(t=>{var n;const s=((n=t.type)==null?void 0:n.type)||null;s&&Y.themeData[this.theme].separateResourceTypes.includes(s)&&t.adjacent.forEach(i=>{var r;((r=i.type)==null?void 0:r.type)===s&&(e=!0)}),t.adjacent.forEach(i=>{i.roll===t.roll&&(e=!0)})}),e&&(this.monster.location=0,this.shuffleGrid(),this.ensureValidAdjacents())},shuffleTiles(e){return e.map(t=>({value:t,sort:Math.random()})).sort((t,s)=>t.sort-s.sort).map(({value:t})=>t)},shuffleGrid(){let e=this.tilesAll;e=this.shuffleTiles(e);let t=0;this.grid=[],this.playersGrid.size.forEach(s=>{var i;const n=[];for(let r=0;r<s;r++){const o=e[t++];o.id=t,!((i=o.type)!=null&&i.cost)&&!this.monster.location&&(this.monster.location=o.id),n.push(o)}this.grid.push(n)}),this.calculateGridAdjacents()},logTileScores(){this.tilesAll.forEach(e=>{}),this.tilesAll.reduce((e,t)=>e.startScore()>t.startScore()?e:t)},tileForID(e){return this.tilesAll.find(t=>t.id===e)||null},tileUnitForID(e,t){return e.units.find(s=>s.id===t)||null},playerControllingTile(e){return e.base?e.base:e.units.length?e.units[0].player:null},playerActiveControllingTile(e){const t=this.playerControllingTile(e);return this.playerActive===t},opponentControllingTile(e){const t=this.playerControllingTile(e);return t!==null&&this.playerActive!==t},tilesWithinDistance(e){const t=[e];t.push(...e.adjacent);for(let s=1;s<this.unitsMoveDistance;s++){const n=[];t.forEach(i=>{i.adjacent.forEach(r=>{!t.includes(r)&&!n.includes(r)&&n.push(r)})}),t.push(...n)}return t},tileWithinDistance(e){const t=this.unitsSelectedTile;return t?this.tilesWithinDistance(t).includes(e):!1},selectTile(e){this.startPhase?this.selectStartingTile(e):this.rollPhase&&this.monster.moving?this.moveMonster(e):this.marchPhase&&this.train?this.trainUnitOnTile(e):this.marchPhase&&this.unitsSelectedTile===e?this.selectTileUnits(e):this.marchPhase&&this.unitsSelectedTile?this.moveUnitsToTile(e):this.marchPhase&&!this.train&&this.selectTileUnits(e),this.calculateVictoryPoints()},selectStartingTile(e){var t;if(e.base&&(this.error="You can't select another players starting location!"),(t=e.type)!=null&&t.resource||(this.error="Why would you want to put your base there?"),e.adjacent.find(s=>s.base)&&(this.error="Maybe don't start so close to the other player..."),this.playerActive&&!this.error&&!this.playerActive.base){const s=this.playerActive.id,n=e.id;this.playerSelectStartingTile(s,n),xe.selectStart(s,n)}},playerSelectStartingTile(e,t){const s=this.playerForID(e),n=this.tileForID(t);!s||!n||(s.base=n,n.base=s,Y.themeData[this.theme].startingUnits.forEach(i=>this.createUnitOnTile(i,n)),this.distributeResourcesToPlayerForTile(n),this.playSound("fanfare"),this.nextTurn())},moveMonster(e){var s;if(e.base){this.error=`The ${this.monsterName} is too smart to go near a base, you know?`;return}if(this.monster.location===e.id){this.error=`The ${this.monsterName} is bored of that spot. Try somewhere else.`;return}const t=((s=this.playerActive)==null?void 0:s.id)||0;xe.moveMonster(t,e.id),this.moveMonsterToTile(e.id)},moveMonsterToTile(e){this.monster.location=e,this.monster.moving=!1,this.playSound("monster"),this.nextPhase()},monsterEats(){if(this.monster.hungry){this.monster.hungry=!1;const e=this.tileForID(this.monster.location);if(e&&e.units.length){const t=e.units.sort((s,n)=>n.id-s.id)[0];this.playSound("monster"),this.playSound("death"),e.units=e.units.filter(s=>s!==t),this.stats.monsterKills++}}},rollDice(){if(this.turn.roll.roll(),!this.playerActive)return;const e=this.playerActive.id;xe.rollDice(e,this.turn.roll.dieOne,this.turn.roll.dieTwo),this.rollActions()},setRoll(e,t){this.turn.roll.setRoll(e,t),this.rollActions()},rollActions(){this.playSound("dice"),this.statsIncrementRollSpread(),this.monster.moving=this.turn.roll.total===Y.monsterRoll,this.monster.moving||(this.resolveRoll(this.turn.roll.total),this.monster.hungry=!0)},resolveRoll(e){this.tilesAll.forEach(t=>{var s;if(t.roll===e&&((s=t.type)!=null&&s.type)&&t.id!==this.monster.location){const n=this.playerControllingTile(t);n&&this.checkSupplyLinesForTile(t,[],n)&&this.distributeResourcesToPlayerForTile(t)}}),this.nextPhase()},checkSupplyLinesForTile(e,t,s){if(e.base)return!0;const n=t||[];n.push(e);for(let i=0;i<e.adjacent.length;i++){const r=e.adjacent[i];if(!n.includes(r)){let o=!1;if(this.playerControllingTile(r)===s&&(o=this.checkSupplyLinesForTile(r,n,s)),n.push(r),o)return o}}return!1},distributeBaseResource(){if(!this.playerActive)return;const e=this.playerActive.base;if(!e)return;const t=new ut(ut.resourceID++);t.player=this.playerActive,t.tile=e,t.type=e.type,this.resources.push(t)},distributeResourcesToPlayerForTile(e){const t=this.playerControllingTile(e);if(!t)return;let s=0;e.units.length&&(s+=e.units.length),e.base&&(s+=Y.themeData[this.settings.theme].baseGeneration);for(let n=0;n<s;n++){const i=new ut(ut.resourceID++);i.player=t,i.tile=e,i.type=e.type,i.delay=n,this.resources.push(i)}},tradeForResource(e){if(!this.playerActive)return;const t=this.playerActive.id;xe.tradeResource(t,e),this.playerTradeForResource(t,e)},playerTradeForResource(e,t){const s=this.resourceForID(t),n=this.playerForID(e);if(!s||!n)return;const i=new ut(ut.resourceID++);i.player=n,i.tile=n.base,i.type=s,n.stats.resourcesTraded++,this.resources.push(i)},spendResource(e,t,s=null){if(!this.playerActive)return;const n=this.playerActive.id,i=(s==null?void 0:s.id)||0;xe.spendResource(n,e,t,i),this.playerSpendResource(n,e,t,i)},playerSpendResource(e,t,s,n){const i=this.resourceForID(t),r=this.playerForID(e);if(!(!i||!r)){for(let o=0;o<s;o++){const a=new ut(ut.resourceID++);a.player=r,n?a.tile=this.tileForID(n):a.tile=r.base,a.type=i,a.spend=!0,a.delay=o,this.resources.push(a),r.stats.resourcesSpent++}r.updateResource(t,s*-1)}},resourceForID(e){return this.resourceTypes.find(t=>t.id===e)||null},resourceForType(e){return this.resourceTypes.find(t=>t.type===e)||null},transitionResourceToPlayer(e){const t=e.player;!t||!e.type||(e.spend||(t.updateResource(e.type.id,1),t.stats.resourcesGathered++,this.playSound("caching"),this.statsIncrementResourceSpread(e.type.id)),e.hide=!0,this.flushResources())},styleResource(e,t){const s=document.getElementById(e),n=this.resourceForType(t);if(!s||!n)return;const i=new URL(Object.assign({"../assets/icons/close.svg":Cn,"../assets/icons/corporate/art.svg":En,"../assets/icons/corporate/base.svg":kn,"../assets/icons/corporate/car.svg":An,"../assets/icons/corporate/coder.svg":$n,"../assets/icons/corporate/designer.svg":Pn,"../assets/icons/corporate/executive.svg":In,"../assets/icons/corporate/glasses.svg":Rn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":Dn,"../assets/icons/corporate/keys.svg":Mn,"../assets/icons/corporate/laptop.svg":Bn,"../assets/icons/corporate/manager.svg":Un,"../assets/icons/defense.svg":Fn,"../assets/icons/flag.svg":Ln,"../assets/icons/give.svg":Nn,"../assets/icons/help.svg":jn,"../assets/icons/load.svg":Vn,"../assets/icons/medieval/archer.svg":Hn,"../assets/icons/medieval/base.svg":Gn,"../assets/icons/medieval/footman.svg":Kn,"../assets/icons/medieval/horse.svg":zn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Wn,"../assets/icons/medieval/peasant.svg":Yn,"../assets/icons/medieval/rice.svg":Jn,"../assets/icons/medieval/serf.svg":Xn,"../assets/icons/medieval/tree.svg":Qn,"../assets/icons/medieval/wand.svg":Zn,"../assets/icons/medieval/wizard.svg":ei,"../assets/icons/menu.svg":ti,"../assets/icons/move.svg":si,"../assets/icons/next.svg":ni,"../assets/icons/offense.svg":ii,"../assets/icons/ranged.svg":ri,"../assets/icons/reset.svg":oi,"../assets/icons/save.svg":ai,"../assets/icons/settings.svg":li,"../assets/icons/take.svg":ci,"../assets/icons/undead/base.svg":ui,"../assets/icons/undead/coffin.svg":di,"../assets/icons/undead/flesh.svg":hi,"../assets/icons/undead/ghost.svg":fi,"../assets/icons/undead/moonshine.svg":pi,"../assets/icons/undead/remains.svg":gi,"../assets/icons/undead/scroll.svg":mi,"../assets/icons/undead/skeleton.svg":_i,"../assets/icons/undead/soul.svg":vi,"../assets/icons/undead/vampire.svg":yi,"../assets/icons/undead/werewolf.svg":bi,"../assets/icons/undead/zombie.svg":wi})[`../assets/icons/${this.theme}/${n.icon}.svg`],import.meta.url).href;s.style.maskImage=`url(${i})`,s.style.webkitMaskImage=`url(${i})`,s.style.background=n.color},flushResources(){this.resources.find(e=>!e.hide)||(this.resources=[])},clearTrade(){this.setTradeGive(0),this.setTradeTake(0)},setTradeGive(e){this.trade.give=e},setTradeTake(e){this.trade.take=e,this.calculateTradeValidity()},calculateTradeValidity(){var s;const e=this.resourceForID(this.trade.give),t=this.resourceForID(this.trade.take);t?e&&this.playerActive&&(this.trade.cost=t.cost*this.tradeSurcharge,this.trade.valid=((s=this.playerActive)==null?void 0:s.resourceCount(e.id))>=this.trade.cost,this.trade.valid?this.playerActive&&(this.tradeForResource(t.id),this.spendResource(e.id,this.trade.cost),this.clearTrade()):this.error=`You need ${this.trade.cost} ${e.resource}'s to trade for 1 ${t.resource}...`):(this.trade.cost=0,this.trade.valid=!1)},unitTypeForID(e){return this.unitTypes.find(t=>t.id===e)||null},unitTypeForType(e){return this.unitTypes.find(t=>t.type===e)||null},selectTrainUnit(e){const t=e.id;this.train===t?this.train=0:this.train=t},canAffordUnit(e){return this.canAffordUnitResources(e)===e.cost.length},canAffordUnitResources(e){let t=0;return e.cost.forEach(s=>{const n=this.resourceForID(s[0]);n&&this.canAffordUnitResource(e,n)&&t++}),t},canAffordUnitResource(e,t){let s=!1;return e.cost.forEach(n=>{var i;if(t&&this.playerActive&&n[0]===t.id){const r=(i=this.playerActive)==null?void 0:i.resourceCount(t.id);n[1]<=r&&(s=!0)}}),s},trainUnitOnTile(e){if(e.units.length>=Y.tileUnitMax){this.error="There just isn't any more room there...";return}const t=this.unitTypeForID(this.train);if(!t||!this.playerActive)return;const s=this.playerActive.id;xe.trainUnit(s,t.id,e.id),this.playerTrainUnitOnTile(s,t.id,e.id)},playerTrainUnitOnTile(e,t,s){var r;const n=this.unitTypeForID(t),i=this.tileForID(s);!n||!i||(this.createUnitOnTile(n==null?void 0:n.type,i),this.playSound((r=n.battle)==null?void 0:r.sound),this.checkForStrandedUnits(),n.cost.forEach(o=>{const a=this.resourceForID(o[0]);e&&a&&this.playerSpendResource(e,a.id,o[1],i.id)}),this.train=0)},createUnitOnTile(e,t){const s=this.unitTypeForType(e);if(!s)return;const n=new Kt(Kt.unitID++,s);n.tile=t,n.moved=!0,this.playerActive&&(n.player=this.playerActive,this.playerActive.stats.unitsTrained++),t.units.push(n),this.statsIncrementUnitSpread(s.id)},selectTileUnits(e){let t=!0;e.units.find(s=>!s.selected&&!s.moved)||(t=!1),e.units.forEach(s=>{s.moved||(s.selected=t)})},async moveUnitsToTile(e){const t=this.unitsSelectedTile;if(!t||e===t)return;const s=e.playerController();if(s&&s!==this.playerActive){e.adjacent.includes(t)?e.units.length&&t?await this.battleTiles(t,e):await this.siegeBase(t,e):this.error="You can't start a battle from that far away...";return}e.units.length+this.unitsSelected.length>Y.tileUnitMax?this.error="You think those are all going to fit?":this.moveSelectedUnitsToTile(this.unitsSelected,e)},moveSelectedUnitsToTile(e,t){var o;if(!this.playerActive)return;const s=this.playerActive.id,n=e.map(a=>a.id),i=((o=e[0].tile)==null?void 0:o.id)||0,r=t.id;xe.moveUnits(s,n,i,r),this.playerMoveUnits(s,n,i,r)},playerMoveUnits(e,t,s,n){t.forEach(i=>this.moveUnitFromTileToTile(e,i,s,n)),this.playSound("march"),this.checkForStrandedUnits(),this.calculateVictoryPoints()},moveUnitFromTileToTile(e,t,s,n){const i=this.playerForID(e),r=this.tileForID(s),o=this.tileForID(n);if(!i||!r||!o)return;const a=this.tileUnitForID(r,t);a&&(r.units=r.units.filter(l=>a!==l),a.tile=o,a.moved=!0,a.selected=!1,o.units.push(a),i&&i.stats.unitsMoved++)},checkForStrandedUnits(){this.tilesAll.forEach(e=>{e.units.forEach(t=>{const s=e.playerController();s&&(t.stranded=!this.checkSupplyLinesForTile(e,[],s))})})},resetUnitMoves(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.resetMove()))},resetUnitDamage(){this.tilesAll.forEach(e=>e.units.forEach(t=>t.damage=0))},async battlePause(){await new Promise(e=>setTimeout(e,1e3/this.gameSpeed))},attackerTileUnits(e){const t=e.units.filter(s=>s.selected);return t.length?t:null},toggleBattle(e){this.battling=e,e||this.stats.battlesCount++},async battleTiles(e,t){var i;xe.toggleBattle(((i=this.playerActive)==null?void 0:i.id)||0,!0),this.toggleBattle(!0);let s=!0,n=!1;for(;this.attackerTileUnits(e)&&t.units.length;)await this.resolveAttackWave(e,t,n,s),n&&(s=!s),n=!n,await this.battlePause();this.finishBattle(e,t)},finishBattle(e,t){var n;const s=this.attackerTileUnits(e);s&&!t.base?this.moveUnitsToTile(t):s&&s.forEach(i=>{i.moved=!0,i.selected=!1}),this.toggleBattle(!1),xe.toggleBattle(((n=this.playerActive)==null?void 0:n.id)||0,!1)},async resolveAttackWave(e,t,s,n){let i=s?this.attackerTileUnits(e):t.units;if(i)i=i==null?void 0:i.filter(o=>o.type.battle.ranged===n);else return;const r=s?t:e;for(let o=0;o<i.length;o++)await this.unitAttackTile(i[o],r,s)},async unitAttackTile(e,t,s){const n=s?t.units:this.attackerTileUnits(t);n&&(n.sort((i,r)=>{var o,a;return((o=r.type)==null?void 0:o.battle.defense)-((a=i.type)==null?void 0:a.battle.defense)}),this.unitDamageTargets(e,n)),await this.battlePause()},unitDamageTargets(e,t){e.type&&this.distributeDamage(e,t.shuffle(),e.type.battle.offense)},distributeDamage(e,t,s){var r,o,a;const n=s,i=t[0];if(n&&i&&i.type){const l=((r=e.tile)==null?void 0:r.id)||0,u=((o=i.tile)==null?void 0:o.id)||0,c=((a=this.playerActive)==null?void 0:a.id)||0;xe.unitDamageUnit(c,e.id,l,i.id,u,n),this.unitDamageUnit(e.id,l,i.id,u,n)}},unitDamageUnit(e,t,s,n,i){const r=this.tileForID(t),o=this.tileForID(n);if(!r||!o)return;const a=this.tileUnitForID(r,e),l=this.tileUnitForID(o,s);if(!a||!l)return;const u=l.type.battle.defense-l.damage;u>0&&(this.playSound(a.type.battle.sound),a.player&&(a.player.stats.damageTotal+=i),u<=i?(l.damage=l.type.battle.defense,l.player&&l.player.stats.unitsLost++,a.player&&a.player.stats.unitsKilled++,this.playSound("death")):i&&(l.damage+=i)),o.units=o.units.filter(c=>c.damage<c.type.battle.defense)},async siegeBase(e,t){var i,r,o;xe.toggleBattle(((i=this.playerActive)==null?void 0:i.id)||0,!0),this.toggleBattle(!0);const s=e.units.filter(a=>a.selected);if(t.base){for(let a=0;a<s.length;a++){const l=s[a];if(!l.type)continue;const u=l.type.battle.offense,c=((r=l.player)==null?void 0:r.id)||0;xe.unitDamageBase(c,l.id,e.id,t.id,u),this.unitDamageBase(l.id,e.id,t.id,u),await this.battlePause()}this.toggleBattle(!1),xe.toggleBattle(((o=this.playerActive)==null?void 0:o.id)||0,!1)}},unitDamageBase(e,t,s,n){const i=this.tileForID(t),r=this.tileForID(s);if(!i||!r)return;const o=this.tileUnitForID(i,e),a=r==null?void 0:r.playerController();!o||!a||(a.life-=n,a.life=Math.max(0,a.life),o.player&&(o.player.stats.damageTotal+=n),o.moved=!0,o.selected=!1,this.playSound(o.type.battle.sound),this.checkBaseVictory(a))},checkBaseVictory(e){if(e.life<=0){e.end=this.nextPlayerPlacement;const t=this.lastPlayerStanding;t&&(t.end=1,this.victory=tt.siege,this.playSound("crumble"))}},calculateVictoryPoints(){this.players.forEach(e=>{let t=0,s=0,n=0;this.tilesAll.forEach(i=>{t+=this.calculateVictoryPointsForTile(i,e);const r=i.base==e,o=i.units.length>0&&i.units[0].player===e;(r||o)&&s++,o&&(n+=i.units.length)}),e.points=t,e.stats.pointsMax=Math.max(e.stats.pointsMax,t),e.stats.tilesMax=Math.max(e.stats.tilesMax,s),e.stats.unitsMax=Math.max(e.stats.unitsMax,n),this.checkVictoryPointsWinner(e)})},checkVictoryPointsWinner(e){if(this.winningPoints&&e.points>=this.winningPoints){let t=1;this.players.filter(n=>!n.end).sort((n,i)=>i.points-n.points).forEach(n=>n.end=t++),this.victory=tt.points,this.playSound("victory")}},calculateVictoryPointsForTile(e,t){let s=0;const n=e.base===t,i=e.units.length>0&&e.units[0].player===t;return i&&e.units.forEach(r=>{var o;r.type&&(s+=(o=r.type)==null?void 0:o.threat)}),(n||i)&&(s+=Y.themeData[this.settings.theme].controlPoints),s},concede(){this.playerActive&&(xe.concedeGame(this.playerActive.id),this.playerConcedeGame(this.playerActive.id))},playerConcedeGame(e){const t=this.playerForID(e);if(!t)return;t.life=0,t.end=this.nextPlayerPlacement,this.playSound("crumble");const s=this.lastPlayerStanding;s&&(s.end=1,this.victory=tt.concede,this.playSound("victory")),this.nextTurn()},playSound(e){const t=new URL(Object.assign({"../assets/sounds/corporate/bach.mp3":bd,"../assets/sounds/corporate/caching.mp3":wd,"../assets/sounds/corporate/car.mp3":Td,"../assets/sounds/corporate/death.mp3":Sd,"../assets/sounds/corporate/dice.mp3":xd,"../assets/sounds/corporate/fanfare.mp3":Cd,"../assets/sounds/corporate/keys.mp3":Ed,"../assets/sounds/corporate/march.mp3":kd,"../assets/sounds/corporate/monster.mp3":Ad,"../assets/sounds/corporate/typing.mp3":$d,"../assets/sounds/corporate/victory.mp3":Pd,"../assets/sounds/corporate/whip.mp3":Id,"../assets/sounds/medieval/arrow.mp3":Rd,"../assets/sounds/medieval/caching.mp3":Od,"../assets/sounds/medieval/crumble.mp3":Dd,"../assets/sounds/medieval/death.mp3":Md,"../assets/sounds/medieval/dice.mp3":Bd,"../assets/sounds/medieval/fanfare.mp3":Ud,"../assets/sounds/medieval/horse.mp3":Fd,"../assets/sounds/medieval/magic.mp3":Ld,"../assets/sounds/medieval/march.mp3":Nd,"../assets/sounds/medieval/monster.mp3":jd,"../assets/sounds/medieval/pitchfork.mp3":Vd,"../assets/sounds/medieval/sword.mp3":Hd,"../assets/sounds/medieval/victory.mp3":Gd,"../assets/sounds/undead/bones.mp3":Kd,"../assets/sounds/undead/boo.mp3":zd,"../assets/sounds/undead/caching.mp3":qd,"../assets/sounds/undead/crumble.mp3":Wd,"../assets/sounds/undead/death.mp3":Yd,"../assets/sounds/undead/dice.mp3":Jd,"../assets/sounds/undead/fanfare.mp3":Xd,"../assets/sounds/undead/howl.mp3":Qd,"../assets/sounds/undead/march.mp3":Zd,"../assets/sounds/undead/monster.mp3":eh,"../assets/sounds/undead/suck.mp3":th,"../assets/sounds/undead/victory.mp3":sh,"../assets/sounds/undead/zombie.mp3":nh})[`../assets/sounds/${this.theme}/${e}.mp3`],import.meta.url).pathname,s=new Audio(t),n=this.settings.sound||100;s.volume=n/100,s.play()},nextPhase(){this.playerWinner||(this.turn.phase++,this.turn.phase>=Y.turnPhases.length&&(this.turn.phase=0,this.nextTurn()))},newTurn(){var t;if(this.playerWinner)return;const e=((t=this.playerActive)==null?void 0:t.id)||0;xe.nextTurn(e),this.nextTurn()},nextTurn(){this.turn.time=Y.themeData[this.settings.theme].turnLength,this.turn.roll.rolled=!1,this.train=0,this.nextPlayerTurn(),this.resetUnitMoves(),this.resetUnitDamage(),this.calculateVictoryPoints(),this.clearTrade(),this.monsterEats(),this.flushResources(),this.distributeBaseResource(),this.stats.turnsCount++},nextPlayerTurn(){var t;if(this.turn.player++,this.turn.player>this.players.length&&(this.turn.player=1),(t=this.playerActive)!=null&&t.end){this.nextPlayerTurn();return}const e=this.players.find(s=>!s.base);e&&this.logTileScores(),this.turn.phase=e?0:1},statsIncrementRollSpread(){const e=this.turn.roll.total-2,t=this.stats.rollSpread[e];this.stats.rollSpread[e]=t+1},statsIncrementUnitSpread(e){const t=e-1,s=this.stats.unitSpread[t];this.stats.unitSpread[t]=s+1},statsIncrementResourceSpread(e){const t=e-1,s=this.stats.resourceSpread[t];this.stats.resourceSpread[t]=s+1},toggleSettings(){this.settings.open=!this.settings.open},toggleMenu(){this.menu=!this.menu},toggleTutorial(){this.tutorial=!this.tutorial},updateMatchMode(e){switch(this.settings.mode=e,e){case De.PvC:this.setMatchPVC();break;case De.PvPLocal:this.setMatchPVP();break;case De.CvC:this.setMatchCVC();break;case De.PvPOnline:this.setMatchOnline();break}},setMatchPVC(){this.players.forEach(e=>e.computer=e.id>1),this.turn.player=1,xe.disconnect()},setMatchPVP(){this.players.forEach(e=>e.computer=!1),xe.disconnect()},setMatchCVC(){this.players.forEach(e=>e.computer=!0),xe.disconnect()},setMatchOnline(){this.setMatchPVP(),xe.setupSocketConnection()}}}),of={class:"flex-row-spaced"},af={class:"flex-row-spaced"},lf={key:0,class:"online-info"},cf=g("img",{src:yd,alt:"menu"},null,-1),uf=[cf],df=_e({__name:"Header",setup(e){const t="0.0.7",s=Z(),{matchStrings:n,settings:i,multiplayer:r}=Ae(s),o=ae(()=>i.value.mode!==De.PvPOnline?void 0:`${r.value.host===r.value.local?"Host":"Guest"}: ${r.value.local}`);return(a,l)=>(S(),k("header",of,[g("div",af,[g("h1",null,R(v(z).title),1),g("div",null,"v "+R(v(t)),1)]),g("div",null,[g("h2",null,R(v(n)[v(i).mode]),1),o.value?(S(),k("div",lf,R(o.value),1)):ye("",!0)]),g("button",{onClick:l[0]||(l[0]=(...u)=>v(s).toggleMenu&&v(s).toggleMenu(...u)),class:"flex-column-center shadowed enabled"},uf)]))}}),Ee=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},hf={},ff={class:"background"};function pf(e,t){return S(),k("div",ff)}const gf=Ee(hf,[["render",pf],["__scopeId","data-v-532799a7"]]),mf="/assets/flag-CzvPLPSg.svg",Tl=e=>(ot("data-v-eef41392"),e=e(),at(),e),_f=["id"],vf={class:"heading flex-row-spaced full-size padded"},yf={key:0},bf={key:0},wf={key:1},Tf={key:2},Sf={key:3},xf={key:1,class:"points flex-column-center"},Cf={key:2},Ef=["data-tooltip"],kf=Tl(()=>g("img",{src:mf,alt:"concede"},null,-1)),Af=[kf],$f=Tl(()=>g("tr",null,[g("th",null,"Icon"),g("th",null,"Name"),g("th",null,"Count")],-1)),Pf=["data-tooltip","onClick"],If=["id"],Rf={key:1,class:"player flex-column-center"},Of=_e({__name:"Player",props:{player:{type:ht,default:null}},setup(e){const t=e,s=Z(),{playerActive:n,trade:i,resourceTypesValid:r,settings:o,waitingForOnlinePlayer:a,tradeSurcharge:l,winningPoints:u}=Ae(s),c=ae(()=>{var P,L;return((P=n.value)==null?void 0:P.id)===((L=t.player)==null?void 0:L.id)}),h=ae(()=>t.player.computer),p=ae(()=>t.player.remote),m=ae(()=>o.value.mode==De.CvC?!1:o.value.mode==De.PvC?h.value:o.value.mode==De.PvPLocal?!c.value:o.value.mode==De.PvPOnline?p.value:!1);Pe(a,P=>{P||ze(()=>{b()})}),Xe(()=>{ze(()=>{b()})});function b(){r.value.forEach(P=>{const L=`${t.player.id}-${P.type}`;s.styleResource(L,P.type)})}function C(P){return!(!c.value||!t.player.resourceCount(P.id)&&!i.value.give)}function U(P){C(P)&&(i.value.give?i.value.give===P.id?s.setTradeGive(0):i.value.take===P.id?s.setTradeTake(0):s.setTradeTake(P.id):s.setTradeGive(P.id))}return(P,L)=>e.player&&!v(a)?(S(),k("div",{key:0,id:`player-${e.player.id}`,class:ie(["player flex-column-center",m.value?"blurred":""])},[g("div",vf,[g("h2",{class:ie(`p${e.player.id}-color`)},R(e.player.name()),3),e.player.end?(S(),k("h3",yf,[e.player.end===1?(S(),k("span",bf,"1st")):ye("",!0),e.player.end===2?(S(),k("span",wf,"2nd")):ye("",!0),e.player.end===3?(S(),k("span",Tf,"3rd")):ye("",!0),e.player.end===4?(S(),k("span",Sf,"4th")):ye("",!0)])):v(u)?(S(),k("div",xf,[g("h3",null,R(e.player.points),1),g("h3",null,R(v(u)),1)])):(S(),k("div",Cf)),g("button",{"data-tooltip":v(z).tooltip.concede,class:ie(["tooltip flex-column-center shadowed",c.value?"enabled":"disabled"]),onClick:L[0]||(L[0]=(...D)=>v(s).concede&&v(s).concede(...D))},Af,10,Ef)]),g("table",null,[$f,(S(!0),k(ne,null,we(v(r),(D,B)=>(S(),k("tr",{key:B},[g("td",{class:ie(["icon shadowed",[C(D)?"enabled":"",v(i).give&&D.id!==v(i).give?"tooltip right":"",c.value&&D.id===v(i).give?"give":"",c.value&&D.id===v(i).take?"take":""]]),"data-tooltip":`${v(z).trade} ${D.cost*v(l)} : 1`,onClick:V=>U(D)},[g("div",{id:`${e.player.id}-${D.type}`,class:"mask"},null,8,If)],10,Pf),g("td",null,[g("h4",null,R(D.resource),1)]),g("td",{class:"count digits",style:hn(`color: ${D.color};`)},R(Math.floor(e.player.resourceCount(D.id)/10))+R(e.player.resourceCount(D.id)%10),5)]))),128))])],10,_f)):(S(),k("div",Rf,[g("h4",null,R(v(z).waiting),1)]))}}),Bo=Ee(Of,[["__scopeId","data-v-eef41392"]]),Df=_e({__name:"Participants",props:{centered:{type:Boolean,default:!1},top:{type:ht,default:null},bottom:{type:ht,default:null,required:!1}},setup(e){const t=e;return(s,n)=>(S(),k("div",{class:ie(["players",e.centered?"flex-column-center":"flex-column-spaced"])},[J(Bo,{player:t.top},null,8,["player"]),t.bottom?(S(),Me(Bo,{key:0,player:t.bottom},null,8,["player"])):ye("",!0)],2))}}),Uo=Ee(Df,[["__scopeId","data-v-407a0e61"]]),Mf="/assets/dealership-CMlZZnuo.jpeg",Bf="/assets/doctor-B8iK-PNs.jpeg",Uf="/assets/locksmith-Bivi0rVR.jpeg",Ff="/assets/museum-CQM8rrzr.jpeg",Lf="/assets/park-Bh_NPVnm.jpeg",Nf="/assets/school-_3rco2US.jpeg",jf="/assets/store-DHbD_B3D.jpeg",Vf="/assets/desert-ksr7E9Pg.jpeg",Hf="/assets/farm-DrIiGkFJ.jpeg",Gf="/assets/forest-BdeFF8l0.jpeg",Kf="/assets/mine-B5Al9Ckm.jpeg",zf="/assets/stables-LW22Me5F.jpeg",qf="/assets/tower-BKka774O.jpeg",Wf="/assets/village-DPdRfjoe.jpeg",Yf="/assets/texture-CvCXHzK3.jpeg",Jf="/assets/battlefield-DTO5EAIV.jpeg",Xf="/assets/cemetary-BaA03A7k.jpeg",Qf="/assets/church-CeRnjxBD.jpeg",Zf="/assets/distillery-Kriuy7m3.jpeg",ep="/assets/dungeon-D8qa_2pU.jpeg",tp="/assets/lair-CVN0hc9-.jpeg",sp="/assets/library-Bik2Zr6k.jpeg",np=_e({__name:"Damages",props:{damages:{type:Array,default:null}},setup(e){const t=e;return(s,n)=>(S(),Me(Zu,{name:"float"},{default:ft(()=>[(S(!0),k(ne,null,we(t.damages,i=>(S(),k("div",{key:i.index,class:"damage taken shadowed"}," -"+R(i.amount),1))),128))]),_:1}))}}),Sl=Ee(np,[["__scopeId","data-v-0a360727"]]),ip=["id"],rp={key:0,class:"life"},op={key:1,class:"life"},ap=_e({__name:"Base",props:{player:{type:ht,default:null},icon:{type:String,default:""}},setup(e){const t=e;let s=0,n=0,i=je([]);const r=ae(()=>t.player?t.player.life:0);Pe(r,u=>{if(!u)return;if(t.player.isFullLife()){n=u;return}const c=s++;o(c),setTimeout(()=>a(c),Y.defaultTimeout)});function o(u){const c=n-r.value;n=r.value;const h=new ol(u,c);i.value.push(h)}function a(u){i.value=i.value.filter(c=>c.index!==u)}Xe(()=>{l()});function l(){const u=document.getElementById(`base-${t.player.id}`);if(!u)return;const c=`../assets/icons/${t.icon}.svg`,h=new URL(c,import.meta.url).href;u.style.maskImage=`url(${h})`,u.style.webkitMaskImage=`url(${h})`}return(u,c)=>(S(),k("div",{class:ie(["base-container","shadowed",`p${e.player.id}-border`])},[g("div",{id:`base-${e.player.id}`,class:ie(["base",[`p${e.player.id}-background`]])},null,10,ip),J(Sl,{damages:v(i)},null,8,["damages"]),e.player.life?(S(),k("div",rp,R(e.player.life),1)):e.player.startingLife()?(S(),k("div",op,"")):ye("",!0)],2))}}),lp=Ee(ap,[["__scopeId","data-v-1d62f3ee"]]),cp=["src","alt"],up=_e({__name:"Unit",props:{unit:{type:Kt,default:null}},emits:["selected"],setup(e,{emit:t}){const s=e,n=Z(),{marchPhase:i,playerActive:r,unitsSelectedTile:o,battling:a,isOpponentTurn:l,theme:u}=Ae(n),c=ae(()=>l.value||a.value||o.value&&o.value!==s.unit.tile?!1:i.value&&s.unit.player===r.value&&!s.unit.moved),h=ae(()=>s.unit.damage);let p=0,m=0,b=je([]);Pe(h,B=>{if(!B)return;const V=p++;C(V),setTimeout(()=>U(V),Y.defaultTimeout)});function C(B){const V=h.value-m;m=h.value;const q=new ol(B,V);b.value.push(q)}function U(B){b.value=b.value.filter(V=>V.index!==B)}const P=t;function L(B){B.stopPropagation(),c.value&&P("selected")}function D(B){var V;return new URL(Object.assign({"../assets/icons/close.svg":Cn,"../assets/icons/corporate/art.svg":En,"../assets/icons/corporate/base.svg":kn,"../assets/icons/corporate/car.svg":An,"../assets/icons/corporate/coder.svg":$n,"../assets/icons/corporate/designer.svg":Pn,"../assets/icons/corporate/executive.svg":In,"../assets/icons/corporate/glasses.svg":Rn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":Dn,"../assets/icons/corporate/keys.svg":Mn,"../assets/icons/corporate/laptop.svg":Bn,"../assets/icons/corporate/manager.svg":Un,"../assets/icons/defense.svg":Fn,"../assets/icons/flag.svg":Ln,"../assets/icons/give.svg":Nn,"../assets/icons/help.svg":jn,"../assets/icons/load.svg":Vn,"../assets/icons/medieval/archer.svg":Hn,"../assets/icons/medieval/base.svg":Gn,"../assets/icons/medieval/footman.svg":Kn,"../assets/icons/medieval/horse.svg":zn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Wn,"../assets/icons/medieval/peasant.svg":Yn,"../assets/icons/medieval/rice.svg":Jn,"../assets/icons/medieval/serf.svg":Xn,"../assets/icons/medieval/tree.svg":Qn,"../assets/icons/medieval/wand.svg":Zn,"../assets/icons/medieval/wizard.svg":ei,"../assets/icons/menu.svg":ti,"../assets/icons/move.svg":si,"../assets/icons/next.svg":ni,"../assets/icons/offense.svg":ii,"../assets/icons/ranged.svg":ri,"../assets/icons/reset.svg":oi,"../assets/icons/save.svg":ai,"../assets/icons/settings.svg":li,"../assets/icons/take.svg":ci,"../assets/icons/undead/base.svg":ui,"../assets/icons/undead/coffin.svg":di,"../assets/icons/undead/flesh.svg":hi,"../assets/icons/undead/ghost.svg":fi,"../assets/icons/undead/moonshine.svg":pi,"../assets/icons/undead/remains.svg":gi,"../assets/icons/undead/scroll.svg":mi,"../assets/icons/undead/skeleton.svg":_i,"../assets/icons/undead/soul.svg":vi,"../assets/icons/undead/vampire.svg":yi,"../assets/icons/undead/werewolf.svg":bi,"../assets/icons/undead/zombie.svg":wi})[`../assets/icons/${u.value}/${(V=B==null?void 0:B.type)==null?void 0:V.type}.svg`],import.meta.url).href}return(B,V)=>{var q;return e.unit?(S(),k("div",{key:0,class:ie(["unit","shadowed",c.value?"enabled":"",`p${(q=e.unit.player)==null?void 0:q.id}-background`,e.unit.selected?"selected":"",e.unit.moved?"disabled":"",e.unit.stranded?"stranded":""]),onClick:L},[g("img",{src:D(e.unit),alt:e.unit.type.type},null,8,cp),J(Sl,{damages:v(b)},null,8,["damages"])],2)):ye("",!0)}}}),dp=Ee(up,[["__scopeId","data-v-6b2ac90f"]]),hp=e=>(ot("data-v-1ff47ea3"),e=e(),at(),e),fp=["id"],pp=["fill"],gp=["stroke"],mp={key:0,class:"mask"},_p=["src","alt"],vp={class:"details flex-column-spaced"},yp={key:1},bp=hp(()=>g("br",null,null,-1)),wp=[bp],Tp={class:"units flex-row-center flex-wrap"},Sp={key:0,class:"digits"},xp={key:1},Cp={class:"score"},Ep=_e({__name:"Tile",props:{tile:{type:qs,default:null}},setup(e){const t=e,s=Z(),{turn:n,rollPhase:i,marchPhase:r,train:o,monster:a,battling:l,unitsSelectedTile:u,isOpponentTurn:c,theme:h,battleEnabled:p,baseIcon:m}=Ae(s),b=ae(()=>!(i.value&&!a.value.moving||o.value&&!s.playerActiveControllingTile(t.tile)||!p.value&&!a.value.moving&&s.opponentControllingTile(t.tile)||l.value||c.value||r.value&&u.value&&!s.tileWithinDistance(t.tile)||r.value&&!u.value&&!s.playerActiveControllingTile(t.tile))),C=ae(()=>{var L,D;return t.tile?new URL(Object.assign({"../assets/images/corporate/dealership.jpeg":Mf,"../assets/images/corporate/doctor.jpeg":Bf,"../assets/images/corporate/locksmith.jpeg":Uf,"../assets/images/corporate/museum.jpeg":Ff,"../assets/images/corporate/park.jpeg":Lf,"../assets/images/corporate/school.jpeg":Nf,"../assets/images/corporate/store.jpeg":jf,"../assets/images/medieval/desert.jpeg":Vf,"../assets/images/medieval/farm.jpeg":Hf,"../assets/images/medieval/forest.jpeg":Gf,"../assets/images/medieval/mine.jpeg":Kf,"../assets/images/medieval/stables.jpeg":zf,"../assets/images/medieval/tower.jpeg":qf,"../assets/images/medieval/village.jpeg":Wf,"../assets/images/texture.jpeg":Yf,"../assets/images/undead/battlefield.jpeg":Jf,"../assets/images/undead/cemetary.jpeg":Xf,"../assets/images/undead/church.jpeg":Qf,"../assets/images/undead/distillery.jpeg":Zf,"../assets/images/undead/dungeon.jpeg":ep,"../assets/images/undead/lair.jpeg":tp,"../assets/images/undead/library.jpeg":sp})[`../assets/images/${h.value}/${(D=(L=t.tile)==null?void 0:L.type)==null?void 0:D.type}.jpeg`],import.meta.url).href:""}),U=ae(()=>{const L=6-Math.abs(7-t.tile.roll),D=[];for(let B=0;B<L;B++)D.push(0);return D});function P(){b.value&&s.selectTile(t.tile)}return(L,D)=>e.tile.type?(S(),k("div",{key:0,id:`tile-${e.tile.id}`,class:ie(["tile","shadowed",b.value?"enabled":""]),onClick:P},[(S(),k("svg",{fill:e.tile.type.color,height:"150",width:"160",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"m155 75-37.5 65h-75l-37.5-65 37.5-65h75z",stroke:e.tile.roll&&e.tile.roll===v(n).roll.total?"gold":e.tile.type.color,"stroke-width":"5"},null,8,gp)],8,pp)),e.tile.type?(S(),k("div",mp,[g("img",{src:C.value,alt:e.tile.type.type},null,8,_p)])):ye("",!0),g("div",vp,[e.tile.base?(S(),Me(lp,{key:0,player:e.tile.base,icon:v(m)},null,8,["player","icon"])):(S(),k("div",yp,wp)),g("div",Tp,[(S(!0),k(ne,null,we(e.tile.units,(B,V)=>(S(),Me(dp,{key:V,unit:B,onSelected:q=>B.selected=!B.selected},null,8,["unit","onSelected"]))),128))]),g("div",{class:ie(["roll","flex-column-center",e.tile.roll===v(n).roll.total?"gold":"",e.tile.roll?"":"invisible"])},[v(a).location!==e.tile.id?(S(),k("h4",Sp,R(e.tile.roll),1)):(S(),k("h4",xp,"")),g("div",Cp,[(S(!0),k(ne,null,we(U.value,(B,V)=>(S(),k("span",{key:V},""))),128))])],2)])],10,fp)):ye("",!0)}}),kp=Ee(Ep,[["__scopeId","data-v-1ff47ea3"]]),Ap={id:"grid",class:"grid"},$p=_e({__name:"Grid",setup(e){const t=Z(),{grid:s,turn:n}=Ae(t);Xe(()=>{ze(()=>{window.addEventListener("resize",i,{passive:!0})}),i()}),ns(()=>{window.removeEventListener("resize",i)});function i(){const r=document.getElementById("grid"),o=Math.max(window.innerWidth,1200)/1920*1.25,a=window.innerHeight/1080*1.25;r&&(r.style.transform=`scale(${Math.min(o,a)})`)}return(r,o)=>(S(),k("div",Ap,[(S(!0),k(ne,null,we(v(s),(a,l)=>(S(),k("div",{key:l,class:"flex-row-center"},[(S(!0),k(ne,null,we(a,(u,c)=>(S(),Me(kp,{key:c,tile:u,roll:v(n).roll.total},null,8,["tile","roll"]))),128))]))),128))]))}}),Pp=Ee($p,[["__scopeId","data-v-a72fcca8"]]),Ip="/assets/corporate-BnQFKyoK.png",Rp="/assets/medieval-ChfFPaYN.png",Op="/assets/undead-DOnP6K8N.png",Dp={id:"monster"},Mp=_e({__name:"Monster",setup(e){let t=je(""),s=0,n=0,i=0;const r=Z(),{monster:o,gameSpeed:a,theme:l}=Ae(r),u=ae(()=>o.value.location);Pe(u,U=>{U&&ze(()=>{b()})});const c=ae(()=>new URL(Object.assign({"../assets/animations/corporate.png":Ip,"../assets/animations/medieval.png":Rp,"../assets/animations/undead.png":Op})[`../assets/animations/${l.value}.png`],import.meta.url).href);Pe(c,U=>{U&&ze(()=>{m(c.value)})}),Xe(()=>{setTimeout(()=>C(),200),setInterval(()=>C(),2e3),ze(()=>{b(),window.addEventListener("resize",h,{passive:!0})}),m(c.value)}),ns(()=>window.removeEventListener("resize",h));function h(){m(c.value),b()}function p(){return document.getElementById("monster")}async function m(U){const P=new Image;if(!U||(P.src=U,await P.decode(),P.src!==c.value))return;const L=P.naturalWidth/3/(P.naturalHeight/4)*.03*window.innerWidth,D=p();D&&(D.style.width=`${L}px`);const B=document.getElementById("sprite");B&&(B.style.backgroundImage=`url('${U}')`)}function b(){const U=p(),P=`tile-${o.value.location}`,L=document.getElementById(P);if(U&&L){var D=U.getBoundingClientRect(),B=L.getBoundingClientRect();U.style.left=`${B.x}px`,U.style.top=`${B.y-D.height}px`,i=B.width/2}}function C(){const U=p();if(!U)return;const P=Math.floor(Math.random()*i),L=P-s;s=P;const D=Math.floor(Math.random()*i),B=D-n;n=D,U.style.transform=`translate(${s}px, ${n}px)`,U.style.transitionDuration=`${3/a.value}s`,Math.abs(L)>Math.abs(B)?t.value=L>0?"right":"left":t.value=B>0?"down":"up"}return(U,P)=>(S(),k("div",Dp,[g("div",{id:"sprite",class:ie(["sprite shadowed",v(t)])},null,2)]))}}),Bp=Ee(Mp,[["__scopeId","data-v-e3dc6d03"]]),Up=e=>(ot("data-v-55c01c15"),e=e(),at(),e),Fp={class:"resources"},Lp=["id"],Np=["id"],jp=Up(()=>g("div",{class:"mask"},null,-1)),Vp=[jp],Hp=_e({__name:"Resources",setup(e){const t=Z(),{resources:s,gameSpeed:n}=Ae(t);Pe(()=>t.resources,h=>{ze(()=>i(h))},{deep:!0,immediate:!0});function i(h){h.forEach(p=>{p.sent||(p.sent=!0,r(p))})}function r(h){const p=`resource-${h.id}`,m=document.getElementById(p);m&&(o(h),h.ready=!0,h.spend?l(m,h.player,h.type):u(m,h.tile),setTimeout(()=>{a(h,h.delay/10)},200))}function o(h){var m;const p=`resource-color-${h.id}`;h.type&&t.styleResource(p,(m=h.type)==null?void 0:m.type)}function a(h,p){const m=`resource-${h.id}`,b=document.getElementById(m);if(!b||!h)return;h.spend?u(b,h.tile):l(b,h.player,h.type);const C=2/n.value;b.style.transition=`all ${C}s ease-out`,b.style.transitionDelay=`${p}s`;const U=(1200+p*1e3)*C;setTimeout(()=>{t.transitionResourceToPlayer(h)},U)}function l(h,p,m){if(!p||!m)return;const b=`${p.id}-${m.type}`,C=c(b),U=h.getBoundingClientRect();h.style.top=`${C.y-U.height/2}px`,h.style.left=`${C.x-U.width/2}px`}function u(h,p){if(!p)return;const m=`tile-${p==null?void 0:p.id}`,b=c(m),C=h.getBoundingClientRect();h.style.top=`${b.y-C.height/2}px`,h.style.left=`${b.x-C.width/2}px`}function c(h){var p=document.getElementById(h);if(!p)return new So(0,0);var m=p.getBoundingClientRect(),b=new So(m.x+m.width/2,m.y+m.height/2);return b}return(h,p)=>(S(),k("div",Fp,[(S(!0),k(ne,null,we(v(s),(m,b)=>wa((S(),k("div",{key:b,id:`resource-${m.id}`,class:"resource shadowed"},[g("div",{id:`resource-color-${m.id}`,class:"color"},Vp,8,Np)],8,Lp)),[[Xa,!(m!=null&&m.hide)&&(m==null?void 0:m.ready)]])),128))]))}}),Gp=Ee(Hp,[["__scopeId","data-v-55c01c15"]]),Kp={data(){return{acting:!1,interval:0}},computed:{..._d(Z,["isComputerTurn","menu","battling","playerWinner","playerActive","tilesOfActivePlayer","turn","gameSpeed","rolled","monster","unitsMovableForActivePlayer","grid","tilesAll","tilesOfTheEnemy","battleEnabled","unitTypes","tradeSurcharge","resourceTypesValid"]),canAct(){return!(!this.isComputerTurn||this.menu||this.battling||this.playerWinner)},shouldConcede(){if(this.isComputerTurn&&this.playerActive){const e=!!this.playerActive.base,t=!!this.tilesOfActivePlayer.find(s=>s.units.length>0);if(e&&!t)return!0}return!1}},watch:{gameSpeed:{handler(){this.interval&&clearInterval(this.interval);const e=2e3;this.interval=window.setInterval(()=>this.act(),e/this.gameSpeed)},immediate:!0}},methods:{...vd(Z,["concede","selectStartingTile","rollDice","moveMonster","moveSelectedUnitsToTile","moveUnitsToTile","canAffordUnit","selectTrainUnit","trainUnitOnTile","canAffordUnitResources","canAffordUnitResource","resourceForID","setTradeGive","setTradeTake","newTurn"]),async act(){console.log("act"),!(!this.canAct||this.acting)&&(this.acting=!0,await this.chooseAction(),this.acting=!1)},async chooseAction(){var t;if(console.log("chooseAction"),this.shouldConcede){this.concede();return}let e=!1;(t=this.playerActive)!=null&&t.base?this.rolled?this.monster.moving?this.directMonster():this.unitsMovableForActivePlayer.length?await this.moveOrBattle():this.playerActive.resourceScore()?e=this.getUnits():e=!0:this.rollDice():this.selectBase(),e&&this.endTurn()},selectBase(){if(console.log("selectBase"),!this.grid)return;let e=this.grid[0][0];this.tilesAll.forEach(t=>{t.startScore()>e.startScore()&&(e=t)}),this.selectStartingTile(e)},directMonster(){console.log("directMonster");const e=this.tilesOfTheEnemy;e.filter(s=>!s.base).length?this.directMonsterToEnemyUnitTile(e):this.directMonsterToNearEnemyBase(e)},directMonsterToEnemyUnitTile(e){console.log("directMonsterToEnemyUnitTile");const s=e.filter(n=>!n.base).filter(n=>this.monster.location!==n.id).reduce((n,i)=>n.unitScore()>i.unitScore()?n:i);this.moveMonster(s)},directMonsterToNearEnemyBase(e){console.log("directMonsterToNearEnemyBase");const t=e.find(n=>n.base)||null;if(!t)return;const s=t.adjacent.filter(n=>this.monster.location!==n.id).reduce((n,i)=>n.score()>i.score()?n:i);this.moveMonster(s)},async moveOrBattle(){if(console.log("moveOrBattle"),this.battling||this.baseInDanger()&&this.defendBase()||this.moveUnitsInDanger()||this.reconnectSupplyLines())return;const e=this.battleTileMatches();e.length?await this.battleTileFromTile(e[0],e[1]):this.moveUnit(this.unitsMovableForActivePlayer[0],!1)},baseInDanger(){var s;console.log("baseInDanger");const e=((s=this.playerActive)==null?void 0:s.base)||null;return e?e.dangerScore(this.playerActive)>e.unitScore():!1},defendBase(){var n,i,r;console.log("defendBase");const e=((n=this.bestMobileBaseUnit())==null?void 0:n.type.threat)||0,t=((i=this.tradeForUnit())==null?void 0:i.threat)||0,s=((r=this.bestReinforcement())==null?void 0:r.type.threat)||0;return e&&e>=t&&e>=s?(this.bestMobileBaseUnit().staying=!0,!0):!this.baseNotFull()&&e&&this.makeRoomAtBase()?!0:this.baseNotFull()&&t>s?this.getUnits():this.baseNotFull()&&this.sendReinforcements()},baseNotFull(){var t;console.log("baseNotFull");const e=((t=this.playerActive)==null?void 0:t.base)||null;return e?this.tileMovable(e):!1},makeRoomAtBase(){var n;console.log("makeRoomAtBase");const e=((n=this.playerActive)==null?void 0:n.base)||null;if(!e)return!1;const t=e.units.filter(i=>!i.staying&&!i.moved),s=this.worstUnitInGroup(t);return s?(this.moveUnit(s,!0),!0):!1},bestMobileBaseUnit(){var n;console.log("bestMobileBaseUnit");const e=((n=this.playerActive)==null?void 0:n.base)||null;if(!e)return null;const t=e.units.filter(i=>!i.staying&&!i.moved);return this.bestUnitInGroup(t)},bestUnitInGroup(e){return console.log("bestUnitInGroup"),e.reduce((s,n)=>n.type.threat>s.type.threat?n:s,e[0])},worstUnitInGroup(e){return console.log("worstUnitInGroup"),e.reduce((s,n)=>n.type.threat<s.type.threat?n:s,e[0])},sendReinforcements(){var s;console.log("sendReinforcements");const e=((s=this.playerActive)==null?void 0:s.base)||null;if(!e)return!1;let t=this.bestReinforcement();return t?(this.moveSelectedUnitsToTile([t],e),!0):!1},bestReinforcement(){var t;console.log("bestReinforcement");const e=((t=this.playerActive)==null?void 0:t.base)||null;return e?this.bestUnitInGroup(this.possibleReinforcements(e)):null},possibleReinforcements(e){console.log("possibleReinforcements");const t=[];return this.tilesOfActivePlayer.forEach(s=>{t.push(...s.units.filter(n=>!n.moved&&!n.staying&&this.unitIsWithinDistance(n,e)))}),t},unitIsWithinDistance(e,t){console.log("unitIsWithinDistance");const s=[];if(!e.tile)return!1;s.push(...e.tile.adjacent);for(let n=1;n<e.type.move;n++){const i=[];s.forEach(r=>{r.adjacent.forEach(o=>{!s.includes(o)&&!i.includes(o)&&i.push(o)})}),s.push(...i)}return!!s.find(n=>t.id===n.id)},moveUnitsInDanger(){console.log("moveUnitsInDanger");const e=this.unitsInDanger();return e.length?(this.moveUnit(e[0],!0),!0):!1},unitsInDanger(){console.log("unitsInDanger");let e=[];return this.tilesOfActivePlayer.forEach(t=>{let s=!1;(t.id===this.monster.location||t.dangerScore(this.playerActive)>t.unitScore())&&(s=!0),s&&e.push(...t.units)}),e=e.filter(t=>!t.moved&&!t.staying),e},reconnectSupplyLines(){console.log("reconnectSupplyLines");let e=!1;const t=this.unitsMovableForActivePlayer[0],s=this.unitsStranded();return s.length&&!t.stranded&&s.forEach(n=>{const i=this.validJoiningTiles(t,n);!e&&i.length&&(i.sort((r,o)=>o.score()-r.score()),this.moveSelectedUnitsToTile([t],i[0]),e=!0)}),e},unitsStranded(){console.log("unitsStranded");let e=[];return this.tilesOfActivePlayer.forEach(t=>{t.units.forEach(s=>{s.stranded&&e.push(s)})}),e},validJoiningTiles(e,t){var n;return console.log("validJoiningTiles"),((n=e.tile)==null?void 0:n.adjacent.filter(i=>{var r;return((r=t.tile)==null?void 0:r.adjacent.includes(i))&&this.tileMovable(i)&&i.id!==this.monster.location}))||[]},battleTileMatches(){if(console.log("battleTileMatches"),!this.battleEnabled)return[];let e=[];return this.tilesOfActivePlayer.forEach(t=>{if(!t.units.find(s=>s.moved)&&!e.length){const s=[];t.adjacent.forEach(n=>{n.playerController()&&n.playerController()!==this.playerActive&&t.unitScore()>n.unitScore()&&s.push(n)}),s.length&&(s.sort((n,i)=>n.unitScore()-i.unitScore()),e.push(t),e.push(s[0]))}}),e},async battleTileFromTile(e,t){console.log("battleTileFromTile"),e.units.forEach(s=>s.selected=!0),this.moveUnitsToTile(t)},moveUnit(e,t){console.log("moveUnit");const s=e?e.tile:null;if(!e||!s)return;let n=this.tilesToMoveTo(e,t);const i=e.isAtBase()&&e.isAlone();let r=!1;n.forEach(o=>{!r&&!i&&(r=this.unitMoved(e,s,o,t))}),(!r||i)&&(e.staying=!0)},tilesToMoveTo(e,t){console.log("tilesToMoveTo");const s=e?e.tile:null;if(!e||!s)return[];let n=[s];for(let i=0;i<e.type.move;i++)n.forEach(r=>this.adjacentTilesMovable(r).forEach(o=>{var a;!n.includes(o)&&((a=o.type)!=null&&a.cost)&&n.push(o)}));return n=n.filter(i=>i!==s&&i.id!==this.monster.location),t?n.sort((i,r)=>r.unitScore()-i.unitScore()):n.sort((i,r)=>r.score()-i.score()),n},adjacentTilesMovable(e){return console.log("adjacentTilesMovable"),e.adjacent.filter(t=>this.tileMovable(t)&&t.id!==this.monster.location)},tileMovable(e){console.log("tileMovable");const t=e.units.length<Y.tileUnitMax,n=!!e.playerController()&&e.playerController()!==this.playerActive;return t&&!n},unitMoved(e,t,s,n){console.log("unitMoved");const i=s.unitScore()+e.type.threat<t.unitScore(),r=s.type?s.type.cost>0:!1,o=s.id===this.monster.location,a=s.dangerScore(this.playerActive)>s.unitScore()+e.type.threat;return n?(this.moveSelectedUnitsToTile([e],s),!0):a?this.bandMoved(t,s):i&&r&&!o?(this.moveSelectedUnitsToTile([e],s),!0):!1},bandMoved(e,t){console.log("bandMoved");let s=0,n=[],i=!1;return e.units.forEach(r=>{!r.moved&&!i&&(s+=r.type.threat,n.push(r),t.dangerScore(this.playerActive)<=s&&(i=!0))}),i&&this.bandMove(n,t),i},bandMove(e,t){var n;console.log("bandMove");const s=e[e.length-1];s.isAtBase()&&((n=s.tile)==null?void 0:n.units.length)===e.length&&(e=e.filter(i=>i!==s),s.staying=!0),this.moveSelectedUnitsToTile(e,t)},getUnits(){console.log("getUnits");let e=!this.trainUnits();return e&&(e=!this.tradeResources()),e},trainUnits(){console.log("trainUnits");const e=this.unitTypes.filter(t=>this.canAffordUnit(t));if(e.length){e.sort((s,n)=>n.threat-s.threat),this.selectTrainUnit(e[0]);let t=this.trainingTileBest();if(t)return this.trainUnitOnTile(t),!0}return!1},trainingTileBest(){if(console.log("trainingTileBest"),this.baseInDanger()&&this.baseNotFull())return this.playerActive.base;let e=[...this.tilesOfActivePlayer];return e=e.filter(t=>t.units.length<Y.tileUnitMax),e.sort((t,s)=>s.score()-t.score()),e.sort((t,s)=>s.dangerScore(this.playerActive)-t.dangerScore(this.playerActive)),e.length?e[0]:null},tradeResources(){console.log("tradeResources");const e=this.tradeForUnit();if(e){let t=this.resourceForID(e.cost[0][0]);return e.cost.forEach(s=>{const n=this.resourceForID(s[0]);n&&!this.canAffordUnitResource(e,n)&&(t=n)}),t?this.tradeForResource(t):!1}else return!1},tradeForUnit(){console.log("tradeForUnit");const e=[...this.unitTypes];return e.sort((t,s)=>s.threat-t.threat),e.sort((t,s)=>t.cost.length-this.canAffordUnitResources(t)-(s.cost.length-this.canAffordUnitResources(s))),e.length?e[0]:null},tradeForResource(e){console.log("tradeForResource");let t=!1;const s=e.cost*this.tradeSurcharge;return this.resourceTypesValid.forEach(n=>{var o;const r=(((o=this.playerActive)==null?void 0:o.resourceCount(n.id))||0)>s;r&&(t=!0),r&&n&&e&&this.tradeResourceForResource(n,e)}),t},tradeResourceForResource(e,t){console.log("tradeResourceForResource"),this.setTradeGive(e.id),this.setTradeTake(t.id)},endTurn(){console.log("endTurn"),this.newTurn()}}},zp=_e({...Kp,__name:"Computer",setup(e){return(t,s)=>(S(),k("div"))}}),qp="/assets/help-Db3zQehY.svg",Wp="/assets/settings-bUnodo1l.svg",Yp="/assets/save-D3irmJTF.svg",Jp="/assets/load-CISSlUPS.svg",xl="/assets/reset-CKuUVTyz.svg",Xp={props:{show:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!1},closable:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}},Qp="/assets/close-D8g6n6Qd.svg",Zp=e=>(ot("data-v-e449a0b9"),e=e(),at(),e),eg={class:"modal-overlay flex-column-center"},tg={class:"modal flex-column-center padded shadowed"},sg=Zp(()=>g("img",{src:Qp,alt:"close"},null,-1)),ng=[sg];function ig(e,t,s,n,i,r){return S(),Me(Sn,{name:"zoom"},{default:ft(()=>[wa(g("div",eg,[s.backdrop?(S(),k("div",{key:0,class:"backdrop full-size",onClick:t[0]||(t[0]=(...o)=>r.close&&r.close(...o))})):ye("",!0),g("div",tg,[s.closable?(S(),k("button",{key:0,class:"close shadowed enabled",onClick:t[1]||(t[1]=(...o)=>r.close&&r.close(...o))},ng)):ye("",!0),qc(e.$slots,"default",{onClose:t[2]||(t[2]=(...o)=>r.close&&r.close(...o))},void 0,!0)])],512),[[Xa,s.show]])]),_:3})}const ks=Ee(Xp,[["render",ig],["__scopeId","data-v-e449a0b9"]]),rg={class:"menu"},og=g("br",null,null,-1),ag=["data-tooltip"],lg=g("img",{src:qp,alt:"help"},null,-1),cg=["data-tooltip"],ug=g("img",{src:Wp,alt:"settings"},null,-1),dg=["data-tooltip"],hg=g("img",{src:Yp,alt:"save"},null,-1),fg=["data-tooltip"],pg=g("img",{src:Jp,alt:"load"},null,-1),gg=["data-tooltip"],mg=g("img",{src:xl,alt:"reset"},null,-1),_g=_e({__name:"Menu",setup(e){const t=Z(),{menu:s,pvpOnline:n}=Ae(t);let i=je(!1);Pe(()=>s.value,h=>{h&&(i.value=!0)});function r(){t.toggleTutorial()}function o(){t.toggleSettings()}function a(){n.value||(t.save(),c())}function l(){n.value||(t.load(),c())}function u(){n.value||(t.init(),c())}function c(){i.value=!1,setTimeout(()=>{s.value&&t.toggleMenu()},Y.defaultTimeout)}return(h,p)=>(S(),Me(ks,{show:v(i),closable:"",backdrop:"",onClose:c},{default:ft(()=>[g("div",rg,[g("h2",null,R(v(z).menu.heading),1),og,g("button",{"data-tooltip":v(z).tooltip.help,onClick:r,class:"flex-row-spaced shadowed enabled tooltip"},[lg,g("span",null,R(v(z).menu.help),1)],8,ag),g("button",{"data-tooltip":v(z).tooltip.settings,onClick:o,class:"flex-row-spaced shadowed enabled tooltip"},[ug,g("span",null,R(v(z).menu.settings),1)],8,cg),g("button",{"data-tooltip":v(z).tooltip.save,onClick:a,class:ie(["flex-row-spaced",v(n)?"disabled":"shadowed enabled tooltip"])},[hg,g("span",null,R(v(z).menu.save),1)],10,dg),g("button",{"data-tooltip":v(z).tooltip.load,onClick:l,class:ie(["flex-row-spaced",v(n)?"disabled":"shadowed enabled tooltip"])},[pg,g("span",null,R(v(z).menu.load),1)],10,fg),g("button",{"data-tooltip":v(z).tooltip.reset,onClick:u,class:ie(["flex-row-spaced",v(n)?"disabled":"shadowed enabled tooltip"])},[mg,g("span",null,R(v(z).menu.reset),1)],10,gg)])]),_:1},8,["show"]))}}),vg=e=>(ot("data-v-94ba58b6"),e=e(),at(),e),yg={class:"settings"},bg={class:"setting"},wg=["value"],Tg={for:"sound-setting"},Sg={class:"setting"},xg=["value"],Cg={for:"speed-setting"},Eg=vg(()=>g("div",{class:"divider"},null,-1)),kg={class:"setting"},Ag=["value"],$g=["value"],Pg={for:"mode-setting"},Ig={class:"setting"},Rg=["value"],Og=["value"],Dg={for:"theme-setting"},Mg={class:"setting"},Bg=["value"],Ug=["value"],Fg={for:"players-setting"},Lg=_e({__name:"Settings",setup(e){const t=Z(),{settings:s,themeOptions:n,theme:i,matchStrings:r,playerCountOptions:o}=Ae(t),a=ae(()=>s.value.open);let l=je(!1);Pe(()=>a.value,C=>{C&&(l.value=!0)});function u(C){C.target&&(s.value.sound=Number(C.target.value),t.saveSettings())}function c(C){C.target&&(s.value.speed=Number(C.target.value),t.saveSettings())}function h(C){if(!C.target)return;const U=r.value.indexOf(C.target.value);t.updateMatchMode(U),t.saveSettings()}function p(C){C.target&&(s.value.theme=String(C.target.value),t.saveSettings(),location.reload())}function m(C){C.target&&(s.value.players=Number(C.target.value),t.saveSettings(),location.reload())}function b(){l.value=!1,setTimeout(()=>{t.toggleSettings()},Y.defaultTimeout)}return(C,U)=>(S(),Me(ks,{show:v(l),backdrop:"",closable:"",onClose:b},{default:ft(()=>[g("div",yg,[g("h2",null,R(v(z).settings.heading),1),g("div",bg,[g("input",{id:"sound-setting",type:"range",class:"slider",min:"0",max:"100",value:v(s).sound,onInput:u},null,40,wg),g("label",Tg,R(v(z).settings.sfx),1)]),g("div",Sg,[g("input",{id:"speed-setting",type:"range",class:"slider",min:"1",max:"3",value:v(s).speed,onInput:c},null,40,xg),g("label",Cg,R(v(z).settings.speed),1)]),Eg,g("p",null,[g("i",null,R(v(z).settings.warning),1)]),g("div",kg,[g("select",{id:"mode-setting",onInput:h,value:v(r)[v(s).mode]},[(S(!0),k(ne,null,we(v(r),(P,L)=>(S(),k("option",{key:L,value:P},R(P.toCapitalized()),9,$g))),128))],40,Ag),g("label",Pg,R(v(z).settings.mode),1)]),g("div",Ig,[g("select",{id:"theme-setting",onInput:p,value:v(i)},[(S(!0),k(ne,null,we(v(n),(P,L)=>(S(),k("option",{key:L,value:P},R(P.toCapitalized()),9,Og))),128))],40,Rg),g("label",Dg,R(v(z).settings.theme),1)]),g("div",Mg,[g("select",{id:"players-setting",onInput:m,value:v(s).players},[(S(!0),k(ne,null,we(v(o),(P,L)=>(S(),k("option",{key:L,value:P},R(P)+" "+R(v(z).settings.players),9,Ug))),128))],40,Bg),g("label",Fg,R(v(z).settings.players),1)])])]),_:1},8,["show"]))}}),Ng=Ee(Lg,[["__scopeId","data-v-94ba58b6"]]),jg="/assets/tut_00-DP5RiGKg.jpg",Vg="/assets/tut_01-DM3V6HYG.jpg",Hg="/assets/tut_02-B61N_wBK.jpg",Gg="/assets/tut_03-CIBw8LiL.jpg",Kg="/assets/tut_04-DE6xCCuU.jpg",zg="/assets/tut_05-CXLSLwRX.jpg",qg="/assets/tut_06-Bz_qIgS7.jpg",Wg="/assets/tut_07-CIu477zb.jpg",Yg="/assets/tut_08-CDvwQ_8L.jpg",Jg="/assets/tut_09-SO-WPPyq.jpg",Cr="/assets/next-DUgPxjCX.svg",Vs=[{img:"tut_00",txt:"Welcome to Riskatan! A game wholly original and based on no other games out there...."},{img:"tut_01",txt:"On your first turn, select a starting location"},{img:"tut_02",txt:"Each turn, you'll roll the dice"},{img:"tut_03",txt:"Move units to other tiles to gather more resources"},{img:"tut_04",txt:"On a 7 roll, the monster moves and blocks a tile resource"},{img:"tut_05",txt:"Move units to an enemy tile to initiate a battle"},{img:"tut_06",txt:"Trade resources for others that you need more of"},{img:"tut_07",txt:"Train a variety of units using the resources you have collected"},{img:"tut_08",txt:"Tiles you control and units you train give you victory points. Get enough victory points and you win!"},{img:"tut_09",txt:"Be sure to protect your home base. If it takes too much damage, you will lose!"}],Cl=e=>(ot("data-v-38039fa4"),e=e(),at(),e),Xg={class:"flex-row-center"},Qg=["data-tooltip"],Zg=Cl(()=>g("img",{src:Cr,alt:"previous",class:"mirror"},null,-1)),em=[Zg],tm=["src"],sm={class:"description"},nm=["data-tooltip"],im=Cl(()=>g("img",{src:Cr,alt:"next"},null,-1)),rm=[im],om=_e({__name:"Tutorial",setup(e){const t=Z(),{tutorial:s,monsterName:n}=Ae(t);let i=je(0),r=je(!1);Pe(()=>s.value,m=>{m&&(r.value=!0)});const o=ae(()=>i.value<Vs.length-1),a=ae(()=>i.value>0),l=ae(()=>Vs[i.value].txt.replace("monster",n.value));function u(m){return new URL(Object.assign({"../assets/tutorial/tut_00.jpg":jg,"../assets/tutorial/tut_01.jpg":Vg,"../assets/tutorial/tut_02.jpg":Hg,"../assets/tutorial/tut_03.jpg":Gg,"../assets/tutorial/tut_04.jpg":Kg,"../assets/tutorial/tut_05.jpg":zg,"../assets/tutorial/tut_06.jpg":qg,"../assets/tutorial/tut_07.jpg":Wg,"../assets/tutorial/tut_08.jpg":Yg,"../assets/tutorial/tut_09.jpg":Jg})[`../assets/tutorial/${Vs[m].img}.jpg`],import.meta.url).href}function c(){i.value++,i.value=Math.min(i.value,Vs.length-1)}function h(){i.value--,i.value=Math.max(i.value,0)}function p(){r.value=!1,setTimeout(()=>{t.toggleTutorial()},Y.defaultTimeout)}return(m,b)=>(S(),Me(ks,{show:v(r),closable:"",backdrop:"",onClose:p},{default:ft(()=>[g("h2",null,R(v(z).tutorial),1),g("div",Xg,[g("button",{class:ie(["tooltip",["shadowed",a.value?"enabled":"invisible"]]),"data-tooltip":v(z).tooltip.previous,onClick:h},em,10,Qg),g("div",null,[g("img",{class:"screenshot",alt:"tutorial",src:u(v(i))},null,8,tm),g("p",sm,R(l.value),1)]),g("button",{class:ie(["tooltip",["shadowed",o.value?"enabled":"invisible"]]),"data-tooltip":v(z).tooltip.next,onClick:c},rm,10,nm)])]),_:1},8,["show"]))}}),am=Ee(om,[["__scopeId","data-v-38039fa4"]]),lm={class:"margined"},cm=_e({__name:"Error",setup(e){const t=Z(),{error:s}=Ae(t);let n=je(!1);return Pe(s,i=>{i&&(n.value=!0)}),Pe(n,i=>{i||setTimeout(()=>{t.clearError()},Y.defaultTimeout)}),(i,r)=>(S(),Me(ks,{show:v(n),closable:"",backdrop:"",onClose:r[0]||(r[0]=o=>me(n)?n.value=!1:n=!1)},{default:ft(()=>[g("h2",null,R(v(z).error.heading),1),g("p",lm,R(v(s)),1)]),_:1},8,["show"]))}}),Er=e=>(ot("data-v-4f4b4abc"),e=e(),at(),e),um={class:"flex-row-center full-size padded"},dm={key:0,class:"stat"},hm={class:"left-aligned"},fm={class:"left-aligned"},pm={class:"stat"},gm={class:"flex-column-center full-size"},mm={class:"stat"},_m={class:"stat"},vm=["src","alt"],ym=Er(()=>g("br",null,null,-1)),bm={class:"stat"},wm={class:"stat"},Tm=["id"],Sm=Er(()=>g("div",{class:"mask"},null,-1)),xm=[Sm],Cm=Er(()=>g("br",null,null,-1)),Em={class:"stat"},km=_e({__name:"Stats",setup(e){const t=Z(),{stats:s,players:n,theme:i,monsterName:r}=Ae(t);Xe(()=>{o()});function o(){s.value.resourceSpread.forEach((h,p)=>{const m=t.resourceForID(p+1),b=`stat-resource-${p}`;m&&t.styleResource(b,m.type)})}function a(h,p){return h.stats[p]===0?!1:n.value.reduce((b,C)=>b.stats[p]>C.stats[p]?b:C).stats[p]===h.stats[p]}function l(h){return h.reduce((p,m)=>p>m?p:m)}function u(h){var p;return((p=t.unitTypeForID(h+1))==null?void 0:p.type)||""}function c(h){return new URL(Object.assign({"../assets/icons/close.svg":Cn,"../assets/icons/corporate/art.svg":En,"../assets/icons/corporate/base.svg":kn,"../assets/icons/corporate/car.svg":An,"../assets/icons/corporate/coder.svg":$n,"../assets/icons/corporate/designer.svg":Pn,"../assets/icons/corporate/executive.svg":In,"../assets/icons/corporate/glasses.svg":Rn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":Dn,"../assets/icons/corporate/keys.svg":Mn,"../assets/icons/corporate/laptop.svg":Bn,"../assets/icons/corporate/manager.svg":Un,"../assets/icons/defense.svg":Fn,"../assets/icons/flag.svg":Ln,"../assets/icons/give.svg":Nn,"../assets/icons/help.svg":jn,"../assets/icons/load.svg":Vn,"../assets/icons/medieval/archer.svg":Hn,"../assets/icons/medieval/base.svg":Gn,"../assets/icons/medieval/footman.svg":Kn,"../assets/icons/medieval/horse.svg":zn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Wn,"../assets/icons/medieval/peasant.svg":Yn,"../assets/icons/medieval/rice.svg":Jn,"../assets/icons/medieval/serf.svg":Xn,"../assets/icons/medieval/tree.svg":Qn,"../assets/icons/medieval/wand.svg":Zn,"../assets/icons/medieval/wizard.svg":ei,"../assets/icons/menu.svg":ti,"../assets/icons/move.svg":si,"../assets/icons/next.svg":ni,"../assets/icons/offense.svg":ii,"../assets/icons/ranged.svg":ri,"../assets/icons/reset.svg":oi,"../assets/icons/save.svg":ai,"../assets/icons/settings.svg":li,"../assets/icons/take.svg":ci,"../assets/icons/undead/base.svg":ui,"../assets/icons/undead/coffin.svg":di,"../assets/icons/undead/flesh.svg":hi,"../assets/icons/undead/ghost.svg":fi,"../assets/icons/undead/moonshine.svg":pi,"../assets/icons/undead/remains.svg":gi,"../assets/icons/undead/scroll.svg":mi,"../assets/icons/undead/skeleton.svg":_i,"../assets/icons/undead/soul.svg":vi,"../assets/icons/undead/vampire.svg":yi,"../assets/icons/undead/werewolf.svg":bi,"../assets/icons/undead/zombie.svg":wi})[`../assets/icons/${i.value}/${u(h)}.svg`],import.meta.url).href}return(h,p)=>(S(),k("div",um,[v(n).length?(S(),k("div",dm,[g("table",null,[g("tr",null,[g("td",null,[g("h4",hm,R(v(z).stats.headings.stat),1)]),(S(!0),k(ne,null,we(v(n),(m,b)=>(S(),k("td",{key:b},[g("h4",{class:ie(`p${m.id}-color`)},R(m.name()),3)]))),128))]),(S(!0),k(ne,null,we(v(n)[0].stats,(m,b,C)=>(S(),k("tr",{key:C},[g("td",fm,R(v(z).stats[b]),1),(S(!0),k(ne,null,we(v(n),(U,P)=>(S(),k("td",{key:P,class:ie(a(U,b)?"gold":"")},R(U.stats[b]),3))),128))]))),128))])])):ye("",!0),g("div",pm,[g("table",null,[g("tr",null,[g("td",null,[g("h4",null,R(v(z).stats.headings.roll),1)]),g("td",null,[g("h4",null,R(v(z).stats.headings.count),1)])]),(S(!0),k(ne,null,we(v(s).rollSpread,(m,b)=>(S(),k("tr",{key:b},[g("td",null,R(b+2),1),g("td",{class:ie(l(v(s).rollSpread)===m?"gold":"")},R(m),3)]))),128))])]),g("div",gm,[g("div",mm,[g("h4",null,R(v(z).stats.headings.turns),1),St(" "+R(v(s).turnsCount),1)]),g("div",_m,[g("h4",null,R(v(z).stats.headings.units),1),g("table",null,[g("tr",null,[(S(!0),k(ne,null,we(v(s).unitSpread,(m,b)=>(S(),k("td",{key:b},[g("img",{src:c(b),alt:u(b)},null,8,vm)]))),128))]),g("tr",null,[(S(!0),k(ne,null,we(v(s).unitSpread,(m,b)=>(S(),k("td",{key:b,class:ie(l(v(s).unitSpread)===m?"gold":"")},R(m),3))),128))]),ym])]),g("div",bm,[g("h4",null,R(v(z).stats.headings.battles),1),St(" "+R(v(s).battlesCount),1)]),g("div",wm,[g("h4",null,R(v(z).stats.headings.resources),1),g("table",null,[g("tr",null,[(S(!0),k(ne,null,we(v(s).resourceSpread,(m,b)=>(S(),k("td",{key:b},[g("div",{id:`stat-resource-${b}`,class:"color"},xm,8,Tm)]))),128))]),g("tr",null,[(S(!0),k(ne,null,we(v(s).resourceSpread,(m,b)=>(S(),k("td",{key:b,class:ie(l(v(s).resourceSpread)===m?"gold":"")},R(m),3))),128))]),Cm])]),g("div",Em,[g("h4",null,R(v(r).toCapitalized())+" "+R(v(z).stats.headings.kills),1),St(" "+R(v(s).monsterKills),1)])])]))}}),Am=Ee(km,[["__scopeId","data-v-4f4b4abc"]]),$m=e=>(ot("data-v-ed438f10"),e=e(),at(),e),Pm={class:"flex-row-spaced full-size menu"},Im=$m(()=>g("img",{src:xl,alt:"reset"},null,-1)),Rm=_e({__name:"Victory",setup(e){const t=Z(),{playerWinner:s,victoryString:n}=Ae(t);let i=je(!1);Pe(()=>s.value,o=>{o&&(i.value=!0)});function r(){i.value=!1,setTimeout(()=>{t.init()},Y.defaultTimeout)}return(o,a)=>(S(),Me(ks,{show:v(i),backdrop:""},{default:ft(()=>[g("div",Pm,[v(s)?(S(),k("h1",{key:0,class:ie(`p${v(s).id}-color`)},R(v(s).name())+" "+R(v(z).victory),3)):ye("",!0),g("h3",null,R(v(n).toUpperCase()),1),g("button",{onClick:r,class:"flex-row-spaced shadowed enabled"},[Im,g("span",null,R(v(z).reset),1)])]),v(s)?(S(),Me(Am,{key:0})):ye("",!0)]),_:1},8,["show"]))}}),Om=Ee(Rm,[["__scopeId","data-v-ed438f10"]]),Dm={props:{animate:{type:Boolean,default:!1},roll:{type:Number,default:0}},watch:{animate(){this.animate&&this.animateDie()}},methods:{animateDie(){const t=this.$refs.die;t&&this.cssAnimation(t,this.roll)},cssAnimation(e,t){for(var s=1;s<=6;s++){const n=`show-${s}-a`,i=`show-${s}-b`,r=e.classList.contains(n);e.classList.remove(n),e.classList.remove(i),t===s&&(r?e.classList.add(i):e.classList.add(n))}}}},Mm={class:"container"},Bm={ref:"die",class:"die"},Um=_u('<div class="side one" data-v-86416020><div class="dot one-1" data-v-86416020></div></div><div class="side two" data-v-86416020><div class="dot two-1" data-v-86416020></div><div class="dot two-2" data-v-86416020></div></div><div class="side three" data-v-86416020><div class="dot three-1" data-v-86416020></div><div class="dot three-2" data-v-86416020></div><div class="dot three-3" data-v-86416020></div></div><div class="side four" data-v-86416020><div class="dot four-1" data-v-86416020></div><div class="dot four-2" data-v-86416020></div><div class="dot four-3" data-v-86416020></div><div class="dot four-4" data-v-86416020></div></div><div class="side five" data-v-86416020><div class="dot five-1" data-v-86416020></div><div class="dot five-2" data-v-86416020></div><div class="dot five-3" data-v-86416020></div><div class="dot five-4" data-v-86416020></div><div class="dot five-5" data-v-86416020></div></div><div class="side six" data-v-86416020><div class="dot six-1" data-v-86416020></div><div class="dot six-2" data-v-86416020></div><div class="dot six-3" data-v-86416020></div><div class="dot six-4" data-v-86416020></div><div class="dot six-5" data-v-86416020></div><div class="dot six-6" data-v-86416020></div></div>',6),Fm=[Um];function Lm(e,t,s,n,i,r){return S(),k("div",Mm,[g("div",Bm,Fm,512)])}const Fo=Ee(Dm,[["render",Lm],["__scopeId","data-v-86416020"]]),Nm=["data-tooltip"],jm=_e({__name:"Dice",setup(e){const t=Z(),{turn:s,isOpponentTurn:n,rolled:i}=Ae(t),r=ae(()=>!i.value&&!n.value);let o=!1;Pe(i,c=>{c&&a()});function a(){o=!0,ze(()=>{o=!1})}Xe(()=>{document.addEventListener("keydown",l,!1)}),ns(()=>{document.removeEventListener("keydown",l)});function l(c){c.code==="Space"&&r&&t.rollDice()}function u(){r.value&&t.rollDice()}return(c,h)=>(S(),k("div",{id:"dice",class:ie(["tooltip",["shadowed",r.value?"enabled":"",`p${v(s).player}-dice`]]),"data-tooltip":v(z).tooltip.dice,onClick:u},[J(Fo,{roll:v(s).roll.dieOne,animate:v(o)},null,8,["roll","animate"]),J(Fo,{roll:v(s).roll.dieTwo,animate:v(o)},null,8,["roll","animate"])],10,Nm))}}),Vm="/assets/move-CsibinEN.svg",Hm="/assets/offense-CymnAR-j.svg",Gm="/assets/defense-DpThPDZ3.svg",Km="/assets/ranged-C3_osIAn.svg",As=e=>(ot("data-v-1a8bb37b"),e=e(),at(),e),zm={class:"cost"},qm={class:"unit-details"},Wm={key:0,class:"stats flex-row-spaced"},Ym={class:"stat flex-row-spaced"},Jm=As(()=>g("img",{src:Vm,alt:"move"},null,-1)),Xm={class:"stat flex-row-spaced"},Qm=As(()=>g("img",{src:Hm,alt:"offense"},null,-1)),Zm={class:"stat flex-row-spaced"},e_=As(()=>g("img",{src:Gm,alt:"defense"},null,-1)),t_={class:"stat flex-row-spaced"},s_=As(()=>g("img",{src:Km,alt:"ranged"},null,-1)),n_={class:"flex-row-center"},i_=["id"],r_=As(()=>g("div",{class:"mask"},null,-1)),o_=[r_],a_=_e({__name:"Cost",props:{unit:{type:rl,default:null}},setup(e){const t=e,s=Z(),{playerActive:n}=Ae(s);Xe(()=>{ze(()=>{i()})});function i(){t.unit.cost.forEach(r=>{const o=s.resourceForID(r[0]),a=`cost-${r[0]}-${t.unit.type}`;o&&s.styleResource(a,o.type)})}return(r,o)=>(S(),k("div",zm,[g("div",qm,[g("h2",null,R(e.unit.type.toCapitalized()),1),e.unit.battle.offense?(S(),k("div",Wm,[g("div",Ym,[Jm,St(R(e.unit.move),1)]),g("div",Xm,[Qm,St(R(e.unit.battle.offense),1)]),g("div",Zm,[e_,St(R(e.unit.battle.defense),1)]),g("div",t_,[s_,St(R(e.unit.battle.ranged?"1":"0"),1)])])):ye("",!0)]),g("div",n_,[(S(!0),k(ne,null,we(e.unit.cost,(a,l)=>{var u;return S(),k("div",{key:l,class:ie(["resource",(u=v(n))!=null&&u.resourceCount(a[0])?"":"strikethrough"])},[g("div",{id:`cost-${a[0]}-${e.unit.type}`,class:"color"},o_,8,i_)],2)}),128))])]))}}),l_=Ee(a_,[["__scopeId","data-v-1a8bb37b"]]),c_={class:"train"},u_=["onClick"],d_=["src","alt"],h_=_e({__name:"Train",setup(e){const t=Z(),{train:s,playerActive:n,isOpponentTurn:i,unitTypes:r,theme:o}=Ae(t);function a(c){return t.canAffordUnit(c)&&!i.value}function l(c){a(c)&&t.selectTrainUnit(c)}function u(c){return new URL(Object.assign({"../assets/icons/close.svg":Cn,"../assets/icons/corporate/art.svg":En,"../assets/icons/corporate/base.svg":kn,"../assets/icons/corporate/car.svg":An,"../assets/icons/corporate/coder.svg":$n,"../assets/icons/corporate/designer.svg":Pn,"../assets/icons/corporate/executive.svg":In,"../assets/icons/corporate/glasses.svg":Rn,"../assets/icons/corporate/grad.svg":On,"../assets/icons/corporate/intern.svg":Dn,"../assets/icons/corporate/keys.svg":Mn,"../assets/icons/corporate/laptop.svg":Bn,"../assets/icons/corporate/manager.svg":Un,"../assets/icons/defense.svg":Fn,"../assets/icons/flag.svg":Ln,"../assets/icons/give.svg":Nn,"../assets/icons/help.svg":jn,"../assets/icons/load.svg":Vn,"../assets/icons/medieval/archer.svg":Hn,"../assets/icons/medieval/base.svg":Gn,"../assets/icons/medieval/footman.svg":Kn,"../assets/icons/medieval/horse.svg":zn,"../assets/icons/medieval/knight.svg":qn,"../assets/icons/medieval/ore.svg":Wn,"../assets/icons/medieval/peasant.svg":Yn,"../assets/icons/medieval/rice.svg":Jn,"../assets/icons/medieval/serf.svg":Xn,"../assets/icons/medieval/tree.svg":Qn,"../assets/icons/medieval/wand.svg":Zn,"../assets/icons/medieval/wizard.svg":ei,"../assets/icons/menu.svg":ti,"../assets/icons/move.svg":si,"../assets/icons/next.svg":ni,"../assets/icons/offense.svg":ii,"../assets/icons/ranged.svg":ri,"../assets/icons/reset.svg":oi,"../assets/icons/save.svg":ai,"../assets/icons/settings.svg":li,"../assets/icons/take.svg":ci,"../assets/icons/undead/base.svg":ui,"../assets/icons/undead/coffin.svg":di,"../assets/icons/undead/flesh.svg":hi,"../assets/icons/undead/ghost.svg":fi,"../assets/icons/undead/moonshine.svg":pi,"../assets/icons/undead/remains.svg":gi,"../assets/icons/undead/scroll.svg":mi,"../assets/icons/undead/skeleton.svg":_i,"../assets/icons/undead/soul.svg":vi,"../assets/icons/undead/vampire.svg":yi,"../assets/icons/undead/werewolf.svg":bi,"../assets/icons/undead/zombie.svg":wi})[`../assets/icons/${o.value}/${c.type}.svg`],import.meta.url).href}return(c,h)=>(S(),k("div",c_,[(S(!0),k(ne,null,we(v(r),(p,m)=>{var b,C;return S(),k("button",{key:m,class:ie(["unit","shadowed",a(p)?"enabled":"disabled",p.id===v(s)?`selected p${(b=v(n))==null?void 0:b.id}-background`:""]),onClick:U=>l(p)},[g("img",{src:u(p),class:ie(`p${(C=v(n))==null?void 0:C.id}-filter`),alt:p.type},null,10,d_),J(l_,{unit:p,class:"cost"},null,8,["unit"])],10,u_)}),128))]))}}),f_=Ee(h_,[["__scopeId","data-v-11a42e82"]]),kr=e=>(ot("data-v-f2873527"),e=e(),at(),e),p_={class:"flex-row-spaced"},g_={class:"player quarter flex-row-centered"},m_={key:0},__={class:"highlight"},v_={key:0,class:"half flex-row-spaced"},y_=kr(()=>g("div",null,null,-1)),b_={key:0},w_=kr(()=>g("div",null,null,-1)),T_={key:1,class:"quarter flex-row-spaced"},S_=kr(()=>g("div",null,null,-1)),x_={class:"flex-column-center"},C_=["data-tooltip"],E_={key:0,class:"digits"},k_={key:2},A_=_e({__name:"Footer",setup(e){const t=Z(),{monster:s,monsterName:n,battling:i,rolled:r,turnPhase:o,startPhase:a,rollPhase:l,marchPhase:u,playerActive:c,isOpponentTurn:h,turn:p,victory:m}=Ae(t),b=ae(()=>z.monster.replace("monster",n.value)),C=ae(()=>!(a.value||h.value||l.value&&!r.value||l.value&&s.value.moving||i.value));function U(){C.value&&t.newTurn()}Xe(()=>{document.addEventListener("keydown",P,!1)}),ns(()=>{document.removeEventListener("keydown",P)});function P(L){L.code==="Space"&&C&&t.newTurn()}return(L,D)=>(S(),k("footer",p_,[g("div",g_,[v(c)?(S(),k("h2",m_,[J(Sn,{name:"wipe"},{default:ft(()=>[(S(),k("span",{class:ie(`p${v(c).id}-color`),key:v(c).id},R(v(c).name())+"'s Turn ",3))]),_:1})])):ye("",!0),g("span",__,R(v(o).description),1)]),v(a)?ye("",!0):(S(),k("div",v_,[y_,v(s).moving?(S(),k("h2",b_,R(b.value),1)):v(u)&&!v(h)?(S(),Me(f_,{key:1})):ye("",!0),w_])),!v(a)&&v(c)?(S(),k("div",T_,[S_,J(jm),g("div",x_,[g("button",{class:ie(["tooltip",["shadowed",C.value?"enabled":"disabled"]]),"data-tooltip":v(z).tooltip.turn,onClick:U},[g("img",{src:Cr,alt:"next",class:ie(`p${v(c).id}-filter`)},null,2)],10,C_),v(m)?ye("",!0):(S(),k("span",E_,R(Math.floor(v(p).time/600))+R(Math.floor(v(p).time/60))+":"+R(Math.floor(v(p).time%60/10))+R(Math.floor(v(p).time%10)),1))])])):(S(),k("div",k_))]))}}),$_=Ee(A_,[["__scopeId","data-v-f2873527"]]),P_={key:0,class:"window-height flex-column-spaced"},I_={class:"flex-row-spaced"},R_=_e({__name:"App",setup(e){const t=Z(),{players:s,settings:n}=Ae(t),i=ae(()=>n.value.players==2),r=ae(()=>s.value[0]),o=ae(()=>s.value[1]),a=ae(()=>n.value.players>2?s.value[2]:null),l=ae(()=>n.value.players>3?s.value[3]:null);let u=je(!1);Xe(()=>{h(),u.value&&(t.init(),ze(()=>{p()}))});function c(){const m=window.location.search;return new URLSearchParams(m)}function h(){c().get("key")==="kgs"&&(u.value=!0)}function p(){const m=c().get("debug");m&&console.log(m)}return(m,b)=>v(u)?(S(),k("div",P_,[J(df),g("main",I_,[J(gf),J(Uo,{centered:i.value,top:r.value,bottom:a.value||void 0},null,8,["centered","top","bottom"]),J(Pp),J(Uo,{centered:i.value,top:o.value,bottom:l.value||void 0},null,8,["centered","top","bottom"]),J(Bp)]),J(Gp),J(zp),J(_g),J(Ng),J(am),J(cm),J(Om),J($_)])):ye("",!0)}}),Ar=od(R_);Ar.use(ud());Ar.config.errorHandler=e=>{console.error("vue error:",e)};window.onerror=function(e,t,s,n,i){console.error("javascript error:",i)};Ar.mount("#app");
