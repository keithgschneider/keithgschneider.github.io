var Ql=Object.defineProperty;var Zl=(e,t,n)=>t in e?Ql(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>(Zl(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.deepCopy=function(){return JSON.parse(JSON.stringify(this))};Array.prototype.shuffle=function(){return this.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e)};Array.prototype.allEqual=function(){return new Set(this).size===1};String.prototype.toCapitalized=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.toEachCapitalized=function(){return this.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")};Number.prototype.roll=function(){return Math.floor(this*Math.random())+1};Number.prototype.chance=function(){const e=this;return e<Math.floor(Math.random()*100)+1?0:e};DOMRect.prototype.contains=function(e,t){return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height};HTMLElement.prototype.containsPoint=function(e,t){const n=this.getBoundingClientRect();return n.x<=e&&e<=n.x+n.width&&n.y<=t&&t<=n.y+n.height};HTMLElement.prototype.center=function(){const e=this.offsetLeft+this.offsetWidth/2,t=this.offsetTop+this.offsetHeight/2;return new DOMPoint(e,t)};/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ws(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const de={},Qt=[],We=()=>{},ea=()=>!1,hr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),As=e=>e.startsWith("onUpdate:"),Te=Object.assign,Es=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ta=Object.prototype.hasOwnProperty,ne=(e,t)=>ta.call(e,t),U=Array.isArray,Zt=e=>dr(e)==="[object Map]",ho=e=>dr(e)==="[object Set]",z=e=>typeof e=="function",Ee=e=>typeof e=="string",ln=e=>typeof e=="symbol",he=e=>e!==null&&typeof e=="object",po=e=>(he(e)||z(e))&&z(e.then)&&z(e.catch),go=Object.prototype.toString,dr=e=>go.call(e),na=e=>dr(e).slice(8,-1),mo=e=>dr(e)==="[object Object]",Ss=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Yn=ws(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ra=/-(\w)/g,tn=pr(e=>e.replace(ra,(t,n)=>n?n.toUpperCase():"")),sa=/\B([A-Z])/g,an=pr(e=>e.replace(sa,"-$1").toLowerCase()),_o=pr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Br=pr(e=>e?`on${_o(e)}`:""),Rt=(e,t)=>!Object.is(e,t),Nr=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},nr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ia=e=>{const t=parseFloat(e);return isNaN(t)?e:t},oa=e=>{const t=Ee(e)?Number(e):NaN;return isNaN(t)?e:t};let ti;const yo=()=>ti||(ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ts(e){if(U(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=Ee(r)?ua(r):Ts(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(Ee(e)||he(e))return e}const la=/;(?![^(]*\))/g,aa=/:([^]+)/,ca=/\/\*[^]*?\*\//g;function ua(e){const t={};return e.replace(ca,"").split(la).forEach(n=>{if(n){const r=n.split(aa);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function gr(e){let t="";if(Ee(e))t=e;else if(U(e))for(let n=0;n<e.length;n++){const r=gr(e[n]);r&&(t+=r+" ")}else if(he(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const fa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ha=ws(fa);function vo(e){return!!e||e===""}const Ne=e=>Ee(e)?e:e==null?"":U(e)||he(e)&&(e.toString===go||!z(e.toString))?JSON.stringify(e,bo,2):String(e),bo=(e,t)=>t&&t.__v_isRef?bo(e,t.value):Zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[Mr(r,o)+" =>"]=s,n),{})}:ho(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Mr(n))}:ln(t)?Mr(t):he(t)&&!U(t)&&!mo(t)?String(t):t,Mr=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $e;class wo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$e,!t&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=$e;try{return $e=this,t()}finally{$e=n}}}on(){$e=this}off(){$e=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Ao(e){return new wo(e)}function da(e,t=$e){t&&t.active&&t.effects.push(e)}function Eo(){return $e}function pa(e){$e&&$e.cleanups.push(e)}let Ht;class xs{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,da(this,s)}get dirty(){if(this._dirtyLevel===1){qt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(ga(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),Ut()}return this._dirtyLevel>=2}set dirty(t){this._dirtyLevel=t?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Ot,n=Ht;try{return Ot=!0,Ht=this,this._runnings++,ni(this),this.fn()}finally{ri(this),this._runnings--,Ht=n,Ot=t}}stop(){var t;this.active&&(ni(this),ri(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function ga(e){return e.value}function ni(e){e._trackId++,e._depsLength=0}function ri(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)So(e.deps[t],e);e.deps.length=e._depsLength}}function So(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Ot=!0,Xr=0;const To=[];function qt(){To.push(Ot),Ot=!1}function Ut(){const e=To.pop();Ot=e===void 0?!0:e}function Ps(){Xr++}function Os(){for(Xr--;!Xr&&Jr.length;)Jr.shift()()}function xo(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&So(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Jr=[];function Po(e,t,n){Ps();for(const r of e.keys())if(r._dirtyLevel<t&&e.get(r)===r._trackId){const s=r._dirtyLevel;r._dirtyLevel=t,s===0&&(r._shouldSchedule=!0,r.trigger())}Oo(e),Os()}function Oo(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,Jr.push(t.scheduler))}const Co=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},rr=new WeakMap,Vt=Symbol(""),Qr=Symbol("");function Fe(e,t,n){if(Ot&&Ht){let r=rr.get(e);r||rr.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Co(()=>r.delete(n))),xo(Ht,s)}}function ft(e,t,n,r,s,o){const a=rr.get(e);if(!a)return;let f=[];if(t==="clear")f=[...a.values()];else if(n==="length"&&U(e)){const c=Number(r);a.forEach((h,d)=>{(d==="length"||!ln(d)&&d>=c)&&f.push(h)})}else switch(n!==void 0&&f.push(a.get(n)),t){case"add":U(e)?Ss(n)&&f.push(a.get("length")):(f.push(a.get(Vt)),Zt(e)&&f.push(a.get(Qr)));break;case"delete":U(e)||(f.push(a.get(Vt)),Zt(e)&&f.push(a.get(Qr)));break;case"set":Zt(e)&&f.push(a.get(Vt));break}Ps();for(const c of f)c&&Po(c,2);Os()}function ma(e,t){var n;return(n=rr.get(e))==null?void 0:n.get(t)}const _a=ws("__proto__,__v_isRef,__isVue"),Ro=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln)),si=ya();function ya(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=J(this);for(let o=0,a=this.length;o<a;o++)Fe(r,"get",o+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(J)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){qt(),Ps();const r=J(this)[t].apply(this,n);return Os(),Ut(),r}}),e}function va(e){const t=J(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class ko{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?Ia:No:o?Bo:Lo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=U(t);if(!s){if(a&&ne(si,n))return Reflect.get(si,n,r);if(n==="hasOwnProperty")return va}const f=Reflect.get(t,n,r);return(ln(n)?Ro.has(n):_a(n))||(s||Fe(t,"get",n),o)?f:ve(f)?a&&Ss(n)?f:f.value:he(f)?s?Fo(f):Ln(f):f}}class Io extends ko{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];if(!this._shallow){const c=nn(o);if(!sr(r)&&!nn(r)&&(o=J(o),r=J(r)),!U(t)&&ve(o)&&!ve(r))return c?!1:(o.value=r,!0)}const a=U(t)&&Ss(n)?Number(n)<t.length:ne(t,n),f=Reflect.set(t,n,r,s);return t===J(s)&&(a?Rt(r,o)&&ft(t,"set",n,r):ft(t,"add",n,r)),f}deleteProperty(t,n){const r=ne(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ft(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!ln(n)||!Ro.has(n))&&Fe(t,"has",n),r}ownKeys(t){return Fe(t,"iterate",U(t)?"length":Vt),Reflect.ownKeys(t)}}class ba extends ko{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const wa=new Io,Aa=new ba,Ea=new Io(!0),Cs=e=>e,mr=e=>Reflect.getPrototypeOf(e);function Dn(e,t,n=!1,r=!1){e=e.__v_raw;const s=J(e),o=J(t);n||(Rt(t,o)&&Fe(s,"get",t),Fe(s,"get",o));const{has:a}=mr(s),f=r?Cs:n?Is:xn;if(a.call(s,t))return f(e.get(t));if(a.call(s,o))return f(e.get(o));e!==s&&e.get(t)}function $n(e,t=!1){const n=this.__v_raw,r=J(n),s=J(e);return t||(Rt(e,s)&&Fe(r,"has",e),Fe(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Hn(e,t=!1){return e=e.__v_raw,!t&&Fe(J(e),"iterate",Vt),Reflect.get(e,"size",e)}function ii(e){e=J(e);const t=J(this);return mr(t).has.call(t,e)||(t.add(e),ft(t,"add",e,e)),this}function oi(e,t){t=J(t);const n=J(this),{has:r,get:s}=mr(n);let o=r.call(n,e);o||(e=J(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?Rt(t,a)&&ft(n,"set",e,t):ft(n,"add",e,t),this}function li(e){const t=J(this),{has:n,get:r}=mr(t);let s=n.call(t,e);s||(e=J(e),s=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return s&&ft(t,"delete",e,void 0),o}function ai(){const e=J(this),t=e.size!==0,n=e.clear();return t&&ft(e,"clear",void 0,void 0),n}function Vn(e,t){return function(r,s){const o=this,a=o.__v_raw,f=J(a),c=t?Cs:e?Is:xn;return!e&&Fe(f,"iterate",Vt),a.forEach((h,d)=>r.call(s,c(h),c(d),o))}}function qn(e,t,n){return function(...r){const s=this.__v_raw,o=J(s),a=Zt(o),f=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=s[e](...r),d=n?Cs:t?Is:xn;return!t&&Fe(o,"iterate",c?Qr:Vt),{next(){const{value:i,done:l}=h.next();return l?{value:i,done:l}:{value:f?[d(i[0]),d(i[1])]:d(i),done:l}},[Symbol.iterator](){return this}}}}function _t(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sa(){const e={get(o){return Dn(this,o)},get size(){return Hn(this)},has:$n,add:ii,set:oi,delete:li,clear:ai,forEach:Vn(!1,!1)},t={get(o){return Dn(this,o,!1,!0)},get size(){return Hn(this)},has:$n,add:ii,set:oi,delete:li,clear:ai,forEach:Vn(!1,!0)},n={get(o){return Dn(this,o,!0)},get size(){return Hn(this,!0)},has(o){return $n.call(this,o,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:Vn(!0,!1)},r={get(o){return Dn(this,o,!0,!0)},get size(){return Hn(this,!0)},has(o){return $n.call(this,o,!0)},add:_t("add"),set:_t("set"),delete:_t("delete"),clear:_t("clear"),forEach:Vn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=qn(o,!1,!1),n[o]=qn(o,!0,!1),t[o]=qn(o,!1,!0),r[o]=qn(o,!0,!0)}),[e,n,t,r]}const[Ta,xa,Pa,Oa]=Sa();function Rs(e,t){const n=t?e?Oa:Pa:e?xa:Ta;return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(ne(n,s)&&s in r?n:r,s,o)}const Ca={get:Rs(!1,!1)},Ra={get:Rs(!1,!0)},ka={get:Rs(!0,!1)},Lo=new WeakMap,Bo=new WeakMap,No=new WeakMap,Ia=new WeakMap;function La(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ba(e){return e.__v_skip||!Object.isExtensible(e)?0:La(na(e))}function Ln(e){return nn(e)?e:ks(e,!1,wa,Ca,Lo)}function Mo(e){return ks(e,!1,Ea,Ra,Bo)}function Fo(e){return ks(e,!0,Aa,ka,No)}function ks(e,t,n,r,s){if(!he(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=Ba(e);if(a===0)return e;const f=new Proxy(e,a===2?r:n);return s.set(e,f),f}function ht(e){return nn(e)?ht(e.__v_raw):!!(e&&e.__v_isReactive)}function nn(e){return!!(e&&e.__v_isReadonly)}function sr(e){return!!(e&&e.__v_isShallow)}function Do(e){return ht(e)||nn(e)}function J(e){const t=e&&e.__v_raw;return t?J(t):e}function Bn(e){return nr(e,"__v_skip",!0),e}const xn=e=>he(e)?Ln(e):e,Is=e=>he(e)?Fo(e):e;class $o{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new xs(()=>t(this._value),()=>Xn(this,1),()=>this.dep&&Oo(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=J(this);return(!t._cacheable||t.effect.dirty)&&Rt(t._value,t._value=t.effect.run())&&Xn(t,2),Ho(t),t.effect._dirtyLevel>=1&&Xn(t,1),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Na(e,t,n=!1){let r,s;const o=z(e);return o?(r=e,s=We):(r=e.get,s=e.set),new $o(r,s,o||!s,n)}function Ho(e){Ot&&Ht&&(e=J(e),xo(Ht,e.dep||(e.dep=Co(()=>e.dep=void 0,e instanceof $o?e:void 0))))}function Xn(e,t=2,n){e=J(e);const r=e.dep;r&&Po(r,t)}function ve(e){return!!(e&&e.__v_isRef===!0)}function pt(e){return Vo(e,!1)}function Ma(e){return Vo(e,!0)}function Vo(e,t){return ve(e)?e:new Fa(e,t)}class Fa{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:J(t),this._value=n?t:xn(t)}get value(){return Ho(this),this._value}set value(t){const n=this.__v_isShallow||sr(t)||nn(t);t=n?t:J(t),Rt(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:xn(t),Xn(this,2))}}function fe(e){return ve(e)?e.value:e}const Da={get:(e,t,n)=>fe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ve(s)&&!ve(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function qo(e){return ht(e)?e:new Proxy(e,Da)}function $a(e){const t=U(e)?new Array(e.length):{};for(const n in e)t[n]=Uo(e,n);return t}class Ha{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return ma(J(this._object),this._key)}}class Va{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function qa(e,t,n){return ve(e)?e:z(e)?new Va(e):he(e)&&arguments.length>1?Uo(e,t,n):pt(e)}function Uo(e,t,n){const r=e[t];return ve(r)?r:new Ha(e,t,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ct(e,t,n,r){let s;try{s=r?e(...r):e()}catch(o){_r(o,t,n)}return s}function Ke(e,t,n,r){if(z(e)){const o=Ct(e,t,n,r);return o&&po(o)&&o.catch(a=>{_r(a,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(Ke(e[o],t,n,r));return s}function _r(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const h=o.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,f)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){Ct(c,null,10,[e,a,f]);return}}Ua(e,n,s,r)}function Ua(e,t,n,r=!0){console.error(e)}let Pn=!1,Zr=!1;const Re=[];let rt=0;const en=[];let At=null,Ft=0;const Wo=Promise.resolve();let Ls=null;function je(e){const t=Ls||Wo;return e?t.then(this?e.bind(this):e):t}function Wa(e){let t=rt+1,n=Re.length;for(;t<n;){const r=t+n>>>1,s=Re[r],o=On(s);o<e||o===e&&s.pre?t=r+1:n=r}return t}function Bs(e){(!Re.length||!Re.includes(e,Pn&&e.allowRecurse?rt+1:rt))&&(e.id==null?Re.push(e):Re.splice(Wa(e.id),0,e),jo())}function jo(){!Pn&&!Zr&&(Zr=!0,Ls=Wo.then(zo))}function ja(e){const t=Re.indexOf(e);t>rt&&Re.splice(t,1)}function Ka(e){U(e)?en.push(...e):(!At||!At.includes(e,e.allowRecurse?Ft+1:Ft))&&en.push(e),jo()}function ci(e,t,n=Pn?rt+1:0){for(;n<Re.length;n++){const r=Re[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Re.splice(n,1),n--,r()}}}function Ko(e){if(en.length){const t=[...new Set(en)].sort((n,r)=>On(n)-On(r));if(en.length=0,At){At.push(...t);return}for(At=t,Ft=0;Ft<At.length;Ft++)At[Ft]();At=null,Ft=0}}const On=e=>e.id==null?1/0:e.id,za=(e,t)=>{const n=On(e)-On(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function zo(e){Zr=!1,Pn=!0,Re.sort(za);try{for(rt=0;rt<Re.length;rt++){const t=Re[rt];t&&t.active!==!1&&Ct(t,null,14)}}finally{rt=0,Re.length=0,Ko(),Pn=!1,Ls=null,(Re.length||en.length)&&zo()}}function Ga(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||de;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:i,trim:l}=r[d]||de;l&&(s=n.map(u=>Ee(u)?u.trim():u)),i&&(s=n.map(ia))}let f,c=r[f=Br(t)]||r[f=Br(tn(t))];!c&&o&&(c=r[f=Br(an(t))]),c&&Ke(c,e,6,s);const h=r[f+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,Ke(h,e,6,s)}}function Go(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let a={},f=!1;if(!z(e)){const c=h=>{const d=Go(h,t,!0);d&&(f=!0,Te(a,d))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!f?(he(e)&&r.set(e,null),null):(U(o)?o.forEach(c=>a[c]=null):Te(a,o),he(e)&&r.set(e,a),a)}function yr(e,t){return!e||!hr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ne(e,t[0].toLowerCase()+t.slice(1))||ne(e,an(t))||ne(e,t))}let Se=null,vr=null;function ir(e){const t=Se;return Se=e,vr=e&&e.type.__scopeId||null,t}function br(e){vr=e}function wr(){vr=null}function Wt(e,t=Se,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&bi(-1);const o=ir(t);let a;try{a=e(...s)}finally{ir(o),r._d&&bi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Fr(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[a],slots:f,attrs:c,emit:h,render:d,renderCache:i,data:l,setupState:u,ctx:g,inheritAttrs:y}=e;let v,_;const E=ir(e);try{if(n.shapeFlag&4){const F=s||r,V=F;v=nt(d.call(V,F,i,o,u,l,g)),_=c}else{const F=t;v=nt(F.length>1?F(o,{attrs:c,slots:f,emit:h}):F(o,null)),_=t.props?c:Ya(c)}}catch(F){bn.length=0,_r(F,e,1),v=ye(ze)}let O=v;if(_&&y!==!1){const F=Object.keys(_),{shapeFlag:V}=O;F.length&&V&7&&(a&&F.some(As)&&(_=Xa(_,a)),O=kt(O,_))}return n.dirs&&(O=kt(O),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&(O.transition=n.transition),v=O,ir(E),v}const Ya=e=>{let t;for(const n in e)(n==="class"||n==="style"||hr(n))&&((t||(t={}))[n]=e[n]);return t},Xa=(e,t)=>{const n={};for(const r in e)(!As(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ja(e,t,n){const{props:r,children:s,component:o}=e,{props:a,children:f,patchFlag:c}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ui(r,a,h):!!a;if(c&8){const d=t.dynamicProps;for(let i=0;i<d.length;i++){const l=d[i];if(a[l]!==r[l]&&!yr(h,l))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:r===a?!1:r?a?ui(r,a,h):!0:!!a;return!1}function ui(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!yr(n,o))return!0}return!1}function Qa({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Za=Symbol.for("v-ndc"),ec=e=>e.__isSuspense;function tc(e,t){t&&t.pendingBranch?U(e)?t.effects.push(...e):t.effects.push(e):Ka(e)}const nc=Symbol.for("v-scx"),rc=()=>Je(nc),Un={};function dt(e,t,n){return Yo(e,t,n)}function Yo(e,t,{immediate:n,deep:r,flush:s,once:o,onTrack:a,onTrigger:f}=de){if(t&&o){const $=t;t=(...re)=>{$(...re),V()}}const c=Oe,h=$=>r===!0?$:$t($,r===!1?1:void 0);let d,i=!1,l=!1;if(ve(e)?(d=()=>e.value,i=sr(e)):ht(e)?(d=()=>h(e),i=!0):U(e)?(l=!0,i=e.some($=>ht($)||sr($)),d=()=>e.map($=>{if(ve($))return $.value;if(ht($))return h($);if(z($))return Ct($,c,2)})):z(e)?t?d=()=>Ct(e,c,2):d=()=>(u&&u(),Ke(e,c,3,[g])):d=We,t&&r){const $=d;d=()=>$t($())}let u,g=$=>{u=O.onStop=()=>{Ct($,c,4),u=O.onStop=void 0}},y;if(Pr)if(g=We,t?n&&Ke(t,c,3,[d(),l?[]:void 0,g]):d(),s==="sync"){const $=rc();y=$.__watcherHandles||($.__watcherHandles=[])}else return We;let v=l?new Array(e.length).fill(Un):Un;const _=()=>{if(!(!O.active||!O.dirty))if(t){const $=O.run();(r||i||(l?$.some((re,L)=>Rt(re,v[L])):Rt($,v)))&&(u&&u(),Ke(t,c,3,[$,v===Un?void 0:l&&v[0]===Un?[]:v,g]),v=$)}else O.run()};_.allowRecurse=!!t;let E;s==="sync"?E=_:s==="post"?E=()=>Be(_,c&&c.suspense):(_.pre=!0,c&&(_.id=c.uid),E=()=>Bs(_));const O=new xs(d,We,E),F=Eo(),V=()=>{O.stop(),F&&Es(F.effects,O)};return t?n?_():v=O.run():s==="post"?Be(O.run.bind(O),c&&c.suspense):O.run(),y&&y.push(V),V}function sc(e,t,n){const r=this.proxy,s=Ee(e)?e.includes(".")?Xo(r,e):()=>r[e]:e.bind(r,r);let o;z(t)?o=t:(o=t.handler,n=t);const a=Nn(this),f=Yo(s,o.bind(r),n);return a(),f}function Xo(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function $t(e,t,n=0,r){if(!he(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),ve(e))$t(e.value,t,n,r);else if(U(e))for(let s=0;s<e.length;s++)$t(e[s],t,n,r);else if(ho(e)||Zt(e))e.forEach(s=>{$t(s,t,n,r)});else if(mo(e))for(const s in e)$t(e[s],t,n,r);return e}function ic(e,t){if(Se===null)return e;const n=Or(Se)||Se.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,f,c=de]=t[s];o&&(z(o)&&(o={mounted:o,updated:o}),o.deep&&$t(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:f,modifiers:c}))}return e}function Lt(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const f=s[a];o&&(f.oldValue=o[a].value);let c=f.dir[r];c&&(qt(),Ke(c,n,8,[e.el,f,e,t]),Ut())}}const Et=Symbol("_leaveCb"),Wn=Symbol("_enterCb");function oc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sr(()=>{e.isMounted=!0}),Ns(()=>{e.isUnmounting=!0}),e}const Ve=[Function,Array],Jo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ve,onEnter:Ve,onAfterEnter:Ve,onEnterCancelled:Ve,onBeforeLeave:Ve,onLeave:Ve,onAfterLeave:Ve,onLeaveCancelled:Ve,onBeforeAppear:Ve,onAppear:Ve,onAfterAppear:Ve,onAppearCancelled:Ve},lc={name:"BaseTransition",props:Jo,setup(e,{slots:t}){const n=zc(),r=oc();let s;return()=>{const o=t.default&&Zo(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const y of o)if(y.type!==ze){a=y;break}}const f=J(e),{mode:c}=f;if(r.isLeaving)return Dr(a);const h=fi(a);if(!h)return Dr(a);const d=es(h,f,r,n);ts(h,d);const i=n.subTree,l=i&&fi(i);let u=!1;const{getTransitionKey:g}=h.type;if(g){const y=g();s===void 0?s=y:y!==s&&(s=y,u=!0)}if(l&&l.type!==ze&&(!Dt(h,l)||u)){const y=es(l,f,r,n);if(ts(l,y),c==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Dr(a);c==="in-out"&&h.type!==ze&&(y.delayLeave=(v,_,E)=>{const O=Qo(r,l);O[String(l.key)]=l,v[Et]=()=>{_(),v[Et]=void 0,delete d.delayedLeave},d.delayedLeave=E})}return a}}},ac=lc;function Qo(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function es(e,t,n,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:f,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:i,onLeave:l,onAfterLeave:u,onLeaveCancelled:g,onBeforeAppear:y,onAppear:v,onAfterAppear:_,onAppearCancelled:E}=t,O=String(e.key),F=Qo(n,e),V=(L,R)=>{L&&Ke(L,r,9,R)},$=(L,R)=>{const j=R[1];V(L,R),U(L)?L.every(se=>se.length<=1)&&j():L.length<=1&&j()},re={mode:o,persisted:a,beforeEnter(L){let R=f;if(!n.isMounted)if(s)R=y||f;else return;L[Et]&&L[Et](!0);const j=F[O];j&&Dt(e,j)&&j.el[Et]&&j.el[Et](),V(R,[L])},enter(L){let R=c,j=h,se=d;if(!n.isMounted)if(s)R=v||c,j=_||h,se=E||d;else return;let M=!1;const Q=L[Wn]=pe=>{M||(M=!0,pe?V(se,[L]):V(j,[L]),re.delayedLeave&&re.delayedLeave(),L[Wn]=void 0)};R?$(R,[L,Q]):Q()},leave(L,R){const j=String(e.key);if(L[Wn]&&L[Wn](!0),n.isUnmounting)return R();V(i,[L]);let se=!1;const M=L[Et]=Q=>{se||(se=!0,R(),Q?V(g,[L]):V(u,[L]),L[Et]=void 0,F[j]===e&&delete F[j])};F[j]=e,l?$(l,[L,M]):M()},clone(L){return es(L,t,n,r)}};return re}function Dr(e){if(Ar(e))return e=kt(e),e.children=null,e}function fi(e){return Ar(e)?e.children?e.children[0]:void 0:e}function ts(e,t){e.shapeFlag&6&&e.component?ts(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zo(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let a=e[o];const f=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===qe?(a.patchFlag&128&&s++,r=r.concat(Zo(a.children,t,f))):(t||a.type!==ze)&&r.push(f!=null?kt(a,{key:f}):a)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ot(e,t){return z(e)?Te({name:e.name},t,{setup:e}):e}const yn=e=>!!e.type.__asyncLoader,Ar=e=>e.type.__isKeepAlive;function cc(e,t){el(e,"a",t)}function uc(e,t){el(e,"da",t)}function el(e,t,n=Oe){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Er(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Ar(s.parent.vnode)&&fc(r,t,n,s),s=s.parent}}function fc(e,t,n,r){const s=Er(t,e,r,!0);tl(()=>{Es(r[t],s)},n)}function Er(e,t,n=Oe,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;qt();const f=Nn(n),c=Ke(t,n,e,a);return f(),Ut(),c});return r?s.unshift(o):s.push(o),o}}const gt=e=>(t,n=Oe)=>(!Pr||e==="sp")&&Er(e,(...r)=>t(...r),n),hc=gt("bm"),Sr=gt("m"),dc=gt("bu"),pc=gt("u"),Ns=gt("bum"),tl=gt("um"),gc=gt("sp"),mc=gt("rtg"),_c=gt("rtc");function yc(e,t=Oe){Er("ec",e,t)}function Cd(e,t,n,r){let s;const o=n&&n[r];if(U(e)||Ee(e)){s=new Array(e.length);for(let a=0,f=e.length;a<f;a++)s[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o&&o[a])}else if(he(e))if(e[Symbol.iterator])s=Array.from(e,(a,f)=>t(a,f,void 0,o&&o[f]));else{const a=Object.keys(e);s=new Array(a.length);for(let f=0,c=a.length;f<c;f++){const h=a[f];s[f]=t(e[h],h,f,o&&o[f])}}else s=[];return n&&(n[r]=s),s}function vc(e,t,n={},r,s){if(Se.isCE||Se.parent&&yn(Se.parent)&&Se.parent.isCE)return t!=="default"&&(n.name=t),ye("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),Me();const a=o&&nl(o(n)),f=It(qe,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&e._===1?64:-2);return!s&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),o&&o._c&&(o._d=!0),f}function nl(e){return e.some(t=>lr(t)?!(t.type===ze||t.type===qe&&!nl(t.children)):!0)?e:null}const ns=e=>e?pl(e)?Or(e)||e.proxy:ns(e.parent):null,vn=Te(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ns(e.parent),$root:e=>ns(e.root),$emit:e=>e.emit,$options:e=>Ms(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Bs(e.update)}),$nextTick:e=>e.n||(e.n=je.bind(e.proxy)),$watch:e=>sc.bind(e)}),$r=(e,t)=>e!==de&&!e.__isScriptSetup&&ne(e,t),bc={get({_:e},t){const{ctx:n,setupState:r,data:s,props:o,accessCache:a,type:f,appContext:c}=e;let h;if(t[0]!=="$"){const u=a[t];if(u!==void 0)switch(u){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if($r(r,t))return a[t]=1,r[t];if(s!==de&&ne(s,t))return a[t]=2,s[t];if((h=e.propsOptions[0])&&ne(h,t))return a[t]=3,o[t];if(n!==de&&ne(n,t))return a[t]=4,n[t];rs&&(a[t]=0)}}const d=vn[t];let i,l;if(d)return t==="$attrs"&&Fe(e,"get",t),d(e);if((i=f.__cssModules)&&(i=i[t]))return i;if(n!==de&&ne(n,t))return a[t]=4,n[t];if(l=c.config.globalProperties,ne(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return $r(s,t)?(s[t]=n,!0):r!==de&&ne(r,t)?(r[t]=n,!0):ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let f;return!!n[a]||e!==de&&ne(e,a)||$r(t,a)||(f=o[0])&&ne(f,a)||ne(r,a)||ne(vn,a)||ne(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ne(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function hi(e){return U(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let rs=!0;function wc(e){const t=Ms(e),n=e.proxy,r=e.ctx;rs=!1,t.beforeCreate&&di(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:f,provide:c,inject:h,created:d,beforeMount:i,mounted:l,beforeUpdate:u,updated:g,activated:y,deactivated:v,beforeDestroy:_,beforeUnmount:E,destroyed:O,unmounted:F,render:V,renderTracked:$,renderTriggered:re,errorCaptured:L,serverPrefetch:R,expose:j,inheritAttrs:se,components:M,directives:Q,filters:pe}=t;if(h&&Ac(h,r,null),a)for(const ce in a){const ie=a[ce];z(ie)&&(r[ce]=ie.bind(n))}if(s){const ce=s.call(n,n);he(ce)&&(e.data=Ln(ce))}if(rs=!0,o)for(const ce in o){const ie=o[ce],lt=z(ie)?ie.bind(n,n):z(ie.get)?ie.get.bind(n,n):We,mt=!z(ie)&&z(ie.set)?ie.set.bind(n):We,Ze=He({get:lt,set:mt});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Le=>Ze.value=Le})}if(f)for(const ce in f)rl(f[ce],r,n,ce);if(c){const ce=z(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(ie=>{Jn(ie,ce[ie])})}d&&di(d,e,"c");function Z(ce,ie){U(ie)?ie.forEach(lt=>ce(lt.bind(n))):ie&&ce(ie.bind(n))}if(Z(hc,i),Z(Sr,l),Z(dc,u),Z(pc,g),Z(cc,y),Z(uc,v),Z(yc,L),Z(_c,$),Z(mc,re),Z(Ns,E),Z(tl,F),Z(gc,R),U(j))if(j.length){const ce=e.exposed||(e.exposed={});j.forEach(ie=>{Object.defineProperty(ce,ie,{get:()=>n[ie],set:lt=>n[ie]=lt})})}else e.exposed||(e.exposed={});V&&e.render===We&&(e.render=V),se!=null&&(e.inheritAttrs=se),M&&(e.components=M),Q&&(e.directives=Q)}function Ac(e,t,n=We){U(e)&&(e=ss(e));for(const r in e){const s=e[r];let o;he(s)?"default"in s?o=Je(s.from||r,s.default,!0):o=Je(s.from||r):o=Je(s),ve(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function di(e,t,n){Ke(U(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function rl(e,t,n,r){const s=r.includes(".")?Xo(n,r):()=>n[r];if(Ee(e)){const o=t[e];z(o)&&dt(s,o)}else if(z(e))dt(s,e.bind(n));else if(he(e))if(U(e))e.forEach(o=>rl(o,t,n,r));else{const o=z(e.handler)?e.handler.bind(n):t[e.handler];z(o)&&dt(s,o,e)}}function Ms(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,f=o.get(t);let c;return f?c=f:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(h=>or(c,h,a,!0)),or(c,t,a)),he(t)&&o.set(t,c),c}function or(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&or(e,o,n,!0),s&&s.forEach(a=>or(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const f=Ec[a]||n&&n[a];e[a]=f?f(e[a],t[a]):t[a]}return e}const Ec={data:pi,props:gi,emits:gi,methods:mn,computed:mn,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:mn,directives:mn,watch:Tc,provide:pi,inject:Sc};function pi(e,t){return t?e?function(){return Te(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function Sc(e,t){return mn(ss(e),ss(t))}function ss(e){if(U(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ke(e,t){return e?[...new Set([].concat(e,t))]:t}function mn(e,t){return e?Te(Object.create(null),e,t):t}function gi(e,t){return e?U(e)&&U(t)?[...new Set([...e,...t])]:Te(Object.create(null),hi(e),hi(t??{})):t}function Tc(e,t){if(!e)return t;if(!t)return e;const n=Te(Object.create(null),e);for(const r in t)n[r]=ke(e[r],t[r]);return n}function sl(){return{app:null,config:{isNativeTag:ea,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xc=0;function Pc(e,t){return function(r,s=null){z(r)||(r=Te({},r)),s!=null&&!he(s)&&(s=null);const o=sl(),a=new WeakSet;let f=!1;const c=o.app={_uid:xc++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:Zc,get config(){return o.config},set config(h){},use(h,...d){return a.has(h)||(h&&z(h.install)?(a.add(h),h.install(c,...d)):z(h)&&(a.add(h),h(c,...d))),c},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),c},component(h,d){return d?(o.components[h]=d,c):o.components[h]},directive(h,d){return d?(o.directives[h]=d,c):o.directives[h]},mount(h,d,i){if(!f){const l=ye(r,s);return l.appContext=o,i===!0?i="svg":i===!1&&(i=void 0),d&&t?t(l,h):e(l,h,i),f=!0,c._container=h,h.__vue_app__=c,Or(l.component)||l.component.proxy}},unmount(){f&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,d){return o.provides[h]=d,c},runWithContext(h){Cn=c;try{return h()}finally{Cn=null}}};return c}}let Cn=null;function Jn(e,t){if(Oe){let n=Oe.provides;const r=Oe.parent&&Oe.parent.provides;r===n&&(n=Oe.provides=Object.create(r)),n[e]=t}}function Je(e,t,n=!1){const r=Oe||Se;if(r||Cn){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Cn._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&z(t)?t.call(r&&r.proxy):t}}function Oc(){return!!(Oe||Se||Cn)}function Cc(e,t,n,r=!1){const s={},o={};nr(o,xr,1),e.propsDefaults=Object.create(null),il(e,t,s,o);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:Mo(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function Rc(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:a}}=e,f=J(s),[c]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let i=0;i<d.length;i++){let l=d[i];if(yr(e.emitsOptions,l))continue;const u=t[l];if(c)if(ne(o,l))u!==o[l]&&(o[l]=u,h=!0);else{const g=tn(l);s[g]=is(c,f,g,u,e,!1)}else u!==o[l]&&(o[l]=u,h=!0)}}}else{il(e,t,s,o)&&(h=!0);let d;for(const i in f)(!t||!ne(t,i)&&((d=an(i))===i||!ne(t,d)))&&(c?n&&(n[i]!==void 0||n[d]!==void 0)&&(s[i]=is(c,f,i,void 0,e,!0)):delete s[i]);if(o!==f)for(const i in o)(!t||!ne(t,i))&&(delete o[i],h=!0)}h&&ft(e,"set","$attrs")}function il(e,t,n,r){const[s,o]=e.propsOptions;let a=!1,f;if(t)for(let c in t){if(Yn(c))continue;const h=t[c];let d;s&&ne(s,d=tn(c))?!o||!o.includes(d)?n[d]=h:(f||(f={}))[d]=h:yr(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(o){const c=J(n),h=f||de;for(let d=0;d<o.length;d++){const i=o[d];n[i]=is(s,c,i,h[i],e,!ne(h,i))}}return a}function is(e,t,n,r,s,o){const a=e[n];if(a!=null){const f=ne(a,"default");if(f&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&z(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const d=Nn(s);r=h[n]=c.call(null,t),d()}}else r=c}a[0]&&(o&&!f?r=!1:a[1]&&(r===""||r===an(n))&&(r=!0))}return r}function ol(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},f=[];let c=!1;if(!z(e)){const d=i=>{c=!0;const[l,u]=ol(i,t,!0);Te(a,l),u&&f.push(...u)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!c)return he(e)&&r.set(e,Qt),Qt;if(U(o))for(let d=0;d<o.length;d++){const i=tn(o[d]);mi(i)&&(a[i]=de)}else if(o)for(const d in o){const i=tn(d);if(mi(i)){const l=o[d],u=a[i]=U(l)||z(l)?{type:l}:Te({},l);if(u){const g=vi(Boolean,u.type),y=vi(String,u.type);u[0]=g>-1,u[1]=y<0||g<y,(g>-1||ne(u,"default"))&&f.push(i)}}}const h=[a,f];return he(e)&&r.set(e,h),h}function mi(e){return e[0]!=="$"}function _i(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function yi(e,t){return _i(e)===_i(t)}function vi(e,t){return U(t)?t.findIndex(n=>yi(n,e)):z(t)&&yi(t,e)?0:-1}const ll=e=>e[0]==="_"||e==="$stable",Fs=e=>U(e)?e.map(nt):[nt(e)],kc=(e,t,n)=>{if(t._n)return t;const r=Wt((...s)=>Fs(t(...s)),n);return r._c=!1,r},al=(e,t,n)=>{const r=e._ctx;for(const s in e){if(ll(s))continue;const o=e[s];if(z(o))t[s]=kc(s,o,r);else if(o!=null){const a=Fs(o);t[s]=()=>a}}},cl=(e,t)=>{const n=Fs(t);e.slots.default=()=>n},Ic=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=J(t),nr(t,"_",n)):al(t,e.slots={})}else e.slots={},t&&cl(e,t);nr(e.slots,xr,1)},Lc=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=de;if(r.shapeFlag&32){const f=t._;f?n&&f===1?o=!1:(Te(s,t),!n&&f===1&&delete s._):(o=!t.$stable,al(t,s)),a=t}else t&&(cl(e,t),a={default:1});if(o)for(const f in s)!ll(f)&&a[f]==null&&delete s[f]};function os(e,t,n,r,s=!1){if(U(e)){e.forEach((l,u)=>os(l,t&&(U(t)?t[u]:t),n,r,s));return}if(yn(r)&&!s)return;const o=r.shapeFlag&4?Or(r.component)||r.component.proxy:r.el,a=s?null:o,{i:f,r:c}=e,h=t&&t.r,d=f.refs===de?f.refs={}:f.refs,i=f.setupState;if(h!=null&&h!==c&&(Ee(h)?(d[h]=null,ne(i,h)&&(i[h]=null)):ve(h)&&(h.value=null)),z(c))Ct(c,f,12,[a,d]);else{const l=Ee(c),u=ve(c),g=e.f;if(l||u){const y=()=>{if(g){const v=l?ne(i,c)?i[c]:d[c]:c.value;s?U(v)&&Es(v,o):U(v)?v.includes(o)||v.push(o):l?(d[c]=[o],ne(i,c)&&(i[c]=d[c])):(c.value=[o],e.k&&(d[e.k]=c.value))}else l?(d[c]=a,ne(i,c)&&(i[c]=a)):u&&(c.value=a,e.k&&(d[e.k]=a))};s||g?y():(y.id=-1,Be(y,n))}}}const Be=tc;function Bc(e){return Nc(e)}function Nc(e,t){const n=yo();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:a,createText:f,createComment:c,setText:h,setElementText:d,parentNode:i,nextSibling:l,setScopeId:u=We,insertStaticContent:g}=e,y=(p,m,b,S=null,w=null,P=null,I=void 0,x=null,C=!!m.dynamicChildren)=>{if(p===m)return;p&&!Dt(p,m)&&(S=A(p),Le(p,w,P,!0),p=null),m.patchFlag===-2&&(C=!1,m.dynamicChildren=null);const{type:T,ref:N,shapeFlag:q}=m;switch(T){case Tr:v(p,m,b,S);break;case ze:_(p,m,b,S);break;case Vr:p==null&&E(m,b,S,I);break;case qe:M(p,m,b,S,w,P,I,x,C);break;default:q&1?V(p,m,b,S,w,P,I,x,C):q&6?Q(p,m,b,S,w,P,I,x,C):(q&64||q&128)&&T.process(p,m,b,S,w,P,I,x,C,D)}N!=null&&w&&os(N,p&&p.ref,P,m||p,!m)},v=(p,m,b,S)=>{if(p==null)r(m.el=f(m.children),b,S);else{const w=m.el=p.el;m.children!==p.children&&h(w,m.children)}},_=(p,m,b,S)=>{p==null?r(m.el=c(m.children||""),b,S):m.el=p.el},E=(p,m,b,S)=>{[p.el,p.anchor]=g(p.children,m,b,S,p.el,p.anchor)},O=({el:p,anchor:m},b,S)=>{let w;for(;p&&p!==m;)w=l(p),r(p,b,S),p=w;r(m,b,S)},F=({el:p,anchor:m})=>{let b;for(;p&&p!==m;)b=l(p),s(p),p=b;s(m)},V=(p,m,b,S,w,P,I,x,C)=>{m.type==="svg"?I="svg":m.type==="math"&&(I="mathml"),p==null?$(m,b,S,w,P,I,x,C):R(p,m,w,P,I,x,C)},$=(p,m,b,S,w,P,I,x)=>{let C,T;const{props:N,shapeFlag:q,transition:H,dirs:W}=p;if(C=p.el=a(p.type,P,N&&N.is,N),q&8?d(C,p.children):q&16&&L(p.children,C,null,S,w,Hr(p,P),I,x),W&&Lt(p,null,S,"created"),re(C,p,p.scopeId,I,S),N){for(const ue in N)ue!=="value"&&!Yn(ue)&&o(C,ue,null,N[ue],P,p.children,S,w,Ce);"value"in N&&o(C,"value",null,N.value,P),(T=N.onVnodeBeforeMount)&&tt(T,S,p)}W&&Lt(p,null,S,"beforeMount");const G=Mc(w,H);G&&H.beforeEnter(C),r(C,m,b),((T=N&&N.onVnodeMounted)||G||W)&&Be(()=>{T&&tt(T,S,p),G&&H.enter(C),W&&Lt(p,null,S,"mounted")},w)},re=(p,m,b,S,w)=>{if(b&&u(p,b),S)for(let P=0;P<S.length;P++)u(p,S[P]);if(w){let P=w.subTree;if(m===P){const I=w.vnode;re(p,I,I.scopeId,I.slotScopeIds,w.parent)}}},L=(p,m,b,S,w,P,I,x,C=0)=>{for(let T=C;T<p.length;T++){const N=p[T]=x?St(p[T]):nt(p[T]);y(null,N,m,b,S,w,P,I,x)}},R=(p,m,b,S,w,P,I)=>{const x=m.el=p.el;let{patchFlag:C,dynamicChildren:T,dirs:N}=m;C|=p.patchFlag&16;const q=p.props||de,H=m.props||de;let W;if(b&&Bt(b,!1),(W=H.onVnodeBeforeUpdate)&&tt(W,b,m,p),N&&Lt(m,p,b,"beforeUpdate"),b&&Bt(b,!0),T?j(p.dynamicChildren,T,x,b,S,Hr(m,w),P):I||ie(p,m,x,null,b,S,Hr(m,w),P,!1),C>0){if(C&16)se(x,m,q,H,b,S,w);else if(C&2&&q.class!==H.class&&o(x,"class",null,H.class,w),C&4&&o(x,"style",q.style,H.style,w),C&8){const G=m.dynamicProps;for(let ue=0;ue<G.length;ue++){const me=G[ue],xe=q[me],Ge=H[me];(Ge!==xe||me==="value")&&o(x,me,xe,Ge,w,p.children,b,S,Ce)}}C&1&&p.children!==m.children&&d(x,m.children)}else!I&&T==null&&se(x,m,q,H,b,S,w);((W=H.onVnodeUpdated)||N)&&Be(()=>{W&&tt(W,b,m,p),N&&Lt(m,p,b,"updated")},S)},j=(p,m,b,S,w,P,I)=>{for(let x=0;x<m.length;x++){const C=p[x],T=m[x],N=C.el&&(C.type===qe||!Dt(C,T)||C.shapeFlag&70)?i(C.el):b;y(C,T,N,null,S,w,P,I,!0)}},se=(p,m,b,S,w,P,I)=>{if(b!==S){if(b!==de)for(const x in b)!Yn(x)&&!(x in S)&&o(p,x,b[x],null,I,m.children,w,P,Ce);for(const x in S){if(Yn(x))continue;const C=S[x],T=b[x];C!==T&&x!=="value"&&o(p,x,T,C,I,m.children,w,P,Ce)}"value"in S&&o(p,"value",b.value,S.value,I)}},M=(p,m,b,S,w,P,I,x,C)=>{const T=m.el=p?p.el:f(""),N=m.anchor=p?p.anchor:f("");let{patchFlag:q,dynamicChildren:H,slotScopeIds:W}=m;W&&(x=x?x.concat(W):W),p==null?(r(T,b,S),r(N,b,S),L(m.children||[],b,N,w,P,I,x,C)):q>0&&q&64&&H&&p.dynamicChildren?(j(p.dynamicChildren,H,b,w,P,I,x),(m.key!=null||w&&m===w.subTree)&&ul(p,m,!0)):ie(p,m,b,N,w,P,I,x,C)},Q=(p,m,b,S,w,P,I,x,C)=>{m.slotScopeIds=x,p==null?m.shapeFlag&512?w.ctx.activate(m,b,S,I,C):pe(m,b,S,w,P,I,C):Pe(p,m,C)},pe=(p,m,b,S,w,P,I)=>{const x=p.component=Kc(p,S,w);if(Ar(p)&&(x.ctx.renderer=D),Gc(x),x.asyncDep){if(w&&w.registerDep(x,Z),!p.el){const C=x.subTree=ye(ze);_(null,C,m,b)}}else Z(x,p,m,b,w,P,I)},Pe=(p,m,b)=>{const S=m.component=p.component;if(Ja(p,m,b))if(S.asyncDep&&!S.asyncResolved){ce(S,m,b);return}else S.next=m,ja(S.update),S.effect.dirty=!0,S.update();else m.el=p.el,S.vnode=m},Z=(p,m,b,S,w,P,I)=>{const x=()=>{if(p.isMounted){let{next:N,bu:q,u:H,parent:W,vnode:G}=p;{const zt=fl(p);if(zt){N&&(N.el=G.el,ce(p,N,I)),zt.asyncDep.then(()=>{p.isUnmounted||x()});return}}let ue=N,me;Bt(p,!1),N?(N.el=G.el,ce(p,N,I)):N=G,q&&Nr(q),(me=N.props&&N.props.onVnodeBeforeUpdate)&&tt(me,W,N,G),Bt(p,!0);const xe=Fr(p),Ge=p.subTree;p.subTree=xe,y(Ge,xe,i(Ge.el),A(Ge),p,w,P),N.el=xe.el,ue===null&&Qa(p,xe.el),H&&Be(H,w),(me=N.props&&N.props.onVnodeUpdated)&&Be(()=>tt(me,W,N,G),w)}else{let N;const{el:q,props:H}=m,{bm:W,m:G,parent:ue}=p,me=yn(m);if(Bt(p,!1),W&&Nr(W),!me&&(N=H&&H.onVnodeBeforeMount)&&tt(N,ue,m),Bt(p,!0),q&&ge){const xe=()=>{p.subTree=Fr(p),ge(q,p.subTree,p,w,null)};me?m.type.__asyncLoader().then(()=>!p.isUnmounted&&xe()):xe()}else{const xe=p.subTree=Fr(p);y(null,xe,b,S,p,w,P),m.el=xe.el}if(G&&Be(G,w),!me&&(N=H&&H.onVnodeMounted)){const xe=m;Be(()=>tt(N,ue,xe),w)}(m.shapeFlag&256||ue&&yn(ue.vnode)&&ue.vnode.shapeFlag&256)&&p.a&&Be(p.a,w),p.isMounted=!0,m=b=S=null}},C=p.effect=new xs(x,We,()=>Bs(T),p.scope),T=p.update=()=>{C.dirty&&C.run()};T.id=p.uid,Bt(p,!0),T()},ce=(p,m,b)=>{m.component=p;const S=p.vnode.props;p.vnode=m,p.next=null,Rc(p,m.props,S,b),Lc(p,m.children,b),qt(),ci(p),Ut()},ie=(p,m,b,S,w,P,I,x,C=!1)=>{const T=p&&p.children,N=p?p.shapeFlag:0,q=m.children,{patchFlag:H,shapeFlag:W}=m;if(H>0){if(H&128){mt(T,q,b,S,w,P,I,x,C);return}else if(H&256){lt(T,q,b,S,w,P,I,x,C);return}}W&8?(N&16&&Ce(T,w,P),q!==T&&d(b,q)):N&16?W&16?mt(T,q,b,S,w,P,I,x,C):Ce(T,w,P,!0):(N&8&&d(b,""),W&16&&L(q,b,S,w,P,I,x,C))},lt=(p,m,b,S,w,P,I,x,C)=>{p=p||Qt,m=m||Qt;const T=p.length,N=m.length,q=Math.min(T,N);let H;for(H=0;H<q;H++){const W=m[H]=C?St(m[H]):nt(m[H]);y(p[H],W,b,null,w,P,I,x,C)}T>N?Ce(p,w,P,!0,!1,q):L(m,b,S,w,P,I,x,C,q)},mt=(p,m,b,S,w,P,I,x,C)=>{let T=0;const N=m.length;let q=p.length-1,H=N-1;for(;T<=q&&T<=H;){const W=p[T],G=m[T]=C?St(m[T]):nt(m[T]);if(Dt(W,G))y(W,G,b,null,w,P,I,x,C);else break;T++}for(;T<=q&&T<=H;){const W=p[q],G=m[H]=C?St(m[H]):nt(m[H]);if(Dt(W,G))y(W,G,b,null,w,P,I,x,C);else break;q--,H--}if(T>q){if(T<=H){const W=H+1,G=W<N?m[W].el:S;for(;T<=H;)y(null,m[T]=C?St(m[T]):nt(m[T]),b,G,w,P,I,x,C),T++}}else if(T>H)for(;T<=q;)Le(p[T],w,P,!0),T++;else{const W=T,G=T,ue=new Map;for(T=G;T<=H;T++){const De=m[T]=C?St(m[T]):nt(m[T]);De.key!=null&&ue.set(De.key,T)}let me,xe=0;const Ge=H-G+1;let zt=!1,Qs=0;const un=new Array(Ge);for(T=0;T<Ge;T++)un[T]=0;for(T=W;T<=q;T++){const De=p[T];if(xe>=Ge){Le(De,w,P,!0);continue}let et;if(De.key!=null)et=ue.get(De.key);else for(me=G;me<=H;me++)if(un[me-G]===0&&Dt(De,m[me])){et=me;break}et===void 0?Le(De,w,P,!0):(un[et-G]=T+1,et>=Qs?Qs=et:zt=!0,y(De,m[et],b,null,w,P,I,x,C),xe++)}const Zs=zt?Fc(un):Qt;for(me=Zs.length-1,T=Ge-1;T>=0;T--){const De=G+T,et=m[De],ei=De+1<N?m[De+1].el:S;un[T]===0?y(null,et,b,ei,w,P,I,x,C):zt&&(me<0||T!==Zs[me]?Ze(et,b,ei,2):me--)}}},Ze=(p,m,b,S,w=null)=>{const{el:P,type:I,transition:x,children:C,shapeFlag:T}=p;if(T&6){Ze(p.component.subTree,m,b,S);return}if(T&128){p.suspense.move(m,b,S);return}if(T&64){I.move(p,m,b,D);return}if(I===qe){r(P,m,b);for(let q=0;q<C.length;q++)Ze(C[q],m,b,S);r(p.anchor,m,b);return}if(I===Vr){O(p,m,b);return}if(S!==2&&T&1&&x)if(S===0)x.beforeEnter(P),r(P,m,b),Be(()=>x.enter(P),w);else{const{leave:q,delayLeave:H,afterLeave:W}=x,G=()=>r(P,m,b),ue=()=>{q(P,()=>{G(),W&&W()})};H?H(P,G,ue):ue()}else r(P,m,b)},Le=(p,m,b,S=!1,w=!1)=>{const{type:P,props:I,ref:x,children:C,dynamicChildren:T,shapeFlag:N,patchFlag:q,dirs:H}=p;if(x!=null&&os(x,null,b,p,!0),N&256){m.ctx.deactivate(p);return}const W=N&1&&H,G=!yn(p);let ue;if(G&&(ue=I&&I.onVnodeBeforeUnmount)&&tt(ue,m,p),N&6)Fn(p.component,b,S);else{if(N&128){p.suspense.unmount(b,S);return}W&&Lt(p,null,m,"beforeUnmount"),N&64?p.type.remove(p,m,b,w,D,S):T&&(P!==qe||q>0&&q&64)?Ce(T,m,b,!1,!0):(P===qe&&q&384||!w&&N&16)&&Ce(C,m,b),S&&jt(p)}(G&&(ue=I&&I.onVnodeUnmounted)||W)&&Be(()=>{ue&&tt(ue,m,p),W&&Lt(p,null,m,"unmounted")},b)},jt=p=>{const{type:m,el:b,anchor:S,transition:w}=p;if(m===qe){Kt(b,S);return}if(m===Vr){F(p);return}const P=()=>{s(b),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(p.shapeFlag&1&&w&&!w.persisted){const{leave:I,delayLeave:x}=w,C=()=>I(b,P);x?x(p.el,P,C):C()}else P()},Kt=(p,m)=>{let b;for(;p!==m;)b=l(p),s(p),p=b;s(m)},Fn=(p,m,b)=>{const{bum:S,scope:w,update:P,subTree:I,um:x}=p;S&&Nr(S),w.stop(),P&&(P.active=!1,Le(I,p,m,b)),x&&Be(x,m),Be(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ce=(p,m,b,S=!1,w=!1,P=0)=>{for(let I=P;I<p.length;I++)Le(p[I],m,b,S,w)},A=p=>p.shapeFlag&6?A(p.component.subTree):p.shapeFlag&128?p.suspense.next():l(p.anchor||p.el);let B=!1;const k=(p,m,b)=>{p==null?m._vnode&&Le(m._vnode,null,null,!0):y(m._vnode||null,p,m,null,null,null,b),B||(B=!0,ci(),Ko(),B=!1),m._vnode=p},D={p:y,um:Le,m:Ze,r:jt,mt:pe,mc:L,pc:ie,pbc:j,n:A,o:e};let oe,ge;return t&&([oe,ge]=t(D)),{render:k,hydrate:oe,createApp:Pc(k,oe)}}function Hr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Bt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Mc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ul(e,t,n=!1){const r=e.children,s=t.children;if(U(r)&&U(s))for(let o=0;o<r.length;o++){const a=r[o];let f=s[o];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[o]=St(s[o]),f.el=a.el),n||ul(a,f)),f.type===Tr&&(f.el=a.el)}}function Fc(e){const t=e.slice(),n=[0];let r,s,o,a,f;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(o=0,a=n.length-1;o<a;)f=o+a>>1,e[n[f]]<h?o=f+1:a=f;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function fl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fl(t)}const Dc=e=>e.__isTeleport,qe=Symbol.for("v-fgt"),Tr=Symbol.for("v-txt"),ze=Symbol.for("v-cmt"),Vr=Symbol.for("v-stc"),bn=[];let Xe=null;function Me(e=!1){bn.push(Xe=e?null:[])}function $c(){bn.pop(),Xe=bn[bn.length-1]||null}let Rn=1;function bi(e){Rn+=e}function hl(e){return e.dynamicChildren=Rn>0?Xe||Qt:null,$c(),Rn>0&&Xe&&Xe.push(e),e}function rn(e,t,n,r,s,o){return hl(le(e,t,n,r,s,o,!0))}function It(e,t,n,r,s){return hl(ye(e,t,n,r,s,!0))}function lr(e){return e?e.__v_isVNode===!0:!1}function Dt(e,t){return e.type===t.type&&e.key===t.key}const xr="__vInternal",dl=({key:e})=>e??null,Qn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||ve(e)||z(e)?{i:Se,r:e,k:t,f:!!n}:e:null);function le(e,t=null,n=null,r=0,s=null,o=e===qe?0:1,a=!1,f=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&dl(t),ref:t&&Qn(t),scopeId:vr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Se};return f?(Ds(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=Ee(n)?8:16),Rn>0&&!a&&Xe&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Xe.push(c),c}const ye=Hc;function Hc(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===Za)&&(e=ze),lr(e)){const f=kt(e,t,!0);return n&&Ds(f,n),Rn>0&&!o&&Xe&&(f.shapeFlag&6?Xe[Xe.indexOf(e)]=f:Xe.push(f)),f.patchFlag|=-2,f}if(Qc(e)&&(e=e.__vccOpts),t){t=Vc(t);let{class:f,style:c}=t;f&&!Ee(f)&&(t.class=gr(f)),he(c)&&(Do(c)&&!U(c)&&(c=Te({},c)),t.style=Ts(c))}const a=Ee(e)?1:ec(e)?128:Dc(e)?64:he(e)?4:z(e)?2:0;return le(e,t,n,r,s,a,o,!0)}function Vc(e){return e?Do(e)||xr in e?Te({},e):e:null}function kt(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,f=t?Uc(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&dl(f),ref:t&&t.ref?n&&s?U(s)?s.concat(Qn(t)):[s,Qn(t)]:Qn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==qe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&kt(e.ssContent),ssFallback:e.ssFallback&&kt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function qc(e=" ",t=0){return ye(Tr,null,e,t)}function ls(e="",t=!1){return t?(Me(),It(ze,null,e)):ye(ze,null,e)}function nt(e){return e==null||typeof e=="boolean"?ye(ze):U(e)?ye(qe,null,e.slice()):typeof e=="object"?St(e):ye(Tr,null,String(e))}function St(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:kt(e)}function Ds(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(U(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Ds(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(xr in t)?t._ctx=Se:s===3&&Se&&(Se.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Se},n=32):(t=String(t),r&64?(n=16,t=[qc(t)]):n=8);e.children=t,e.shapeFlag|=n}function Uc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=gr([t.class,r.class]));else if(s==="style")t.style=Ts([t.style,r.style]);else if(hr(s)){const o=t[s],a=r[s];a&&o!==a&&!(U(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=r[s])}return t}function tt(e,t,n,r=null){Ke(e,t,7,[n,r])}const Wc=sl();let jc=0;function Kc(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||Wc,o={uid:jc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new wo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ol(r,s),emitsOptions:Go(r,s),emit:null,emitted:null,propsDefaults:de,inheritAttrs:r.inheritAttrs,ctx:de,data:de,props:de,attrs:de,slots:de,refs:de,setupState:de,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ga.bind(null,o),e.ce&&e.ce(o),o}let Oe=null;const zc=()=>Oe||Se;let ar,as;{const e=yo(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};ar=t("__VUE_INSTANCE_SETTERS__",n=>Oe=n),as=t("__VUE_SSR_SETTERS__",n=>Pr=n)}const Nn=e=>{const t=Oe;return ar(e),e.scope.on(),()=>{e.scope.off(),ar(t)}},wi=()=>{Oe&&Oe.scope.off(),ar(null)};function pl(e){return e.vnode.shapeFlag&4}let Pr=!1;function Gc(e,t=!1){t&&as(t);const{props:n,children:r}=e.vnode,s=pl(e);Cc(e,n,s,t),Ic(e,r);const o=s?Yc(e,t):void 0;return t&&as(!1),o}function Yc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Bn(new Proxy(e.ctx,bc));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?Jc(e):null,o=Nn(e);qt();const a=Ct(r,e,0,[e.props,s]);if(Ut(),o(),po(a)){if(a.then(wi,wi),t)return a.then(f=>{Ai(e,f,t)}).catch(f=>{_r(f,e,0)});e.asyncDep=a}else Ai(e,a,t)}else gl(e,t)}function Ai(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:he(t)&&(e.setupState=qo(t)),gl(e,n)}let Ei;function gl(e,t,n){const r=e.type;if(!e.render){if(!t&&Ei&&!r.render){const s=r.template||Ms(e).template;if(s){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:f,compilerOptions:c}=r,h=Te(Te({isCustomElement:o,delimiters:f},a),c);r.render=Ei(s,h)}}e.render=r.render||We}{const s=Nn(e);qt();try{wc(e)}finally{Ut(),s()}}}function Xc(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Fe(e,"get","$attrs"),t[n]}}))}function Jc(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Xc(e)},slots:e.slots,emit:e.emit,expose:t}}function Or(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qo(Bn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vn)return vn[n](e)},has(t,n){return n in t||n in vn}}))}function Qc(e){return z(e)&&"__vccOpts"in e}const He=(e,t)=>Na(e,t,Pr);function $s(e,t,n){const r=arguments.length;return r===2?he(t)&&!U(t)?lr(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&lr(n)&&(n=[n]),ye(e,t,n))}const Zc="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const eu="http://www.w3.org/2000/svg",tu="http://www.w3.org/1998/Math/MathML",Tt=typeof document<"u"?document:null,Si=Tt&&Tt.createElement("template"),nu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Tt.createElementNS(eu,e):t==="mathml"?Tt.createElementNS(tu,e):Tt.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Tt.createTextNode(e),createComment:e=>Tt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Tt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const a=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Si.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const f=Si.content;if(r==="svg"||r==="mathml"){const c=f.firstChild;for(;c.firstChild;)f.appendChild(c.firstChild);f.removeChild(c)}t.insertBefore(f,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},yt="transition",fn="animation",kn=Symbol("_vtc"),Hs=(e,{slots:t})=>$s(ac,ru(e),t);Hs.displayName="Transition";const ml={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Hs.props=Te({},Jo,ml);const Nt=(e,t=[])=>{U(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ti=e=>e?U(e)?e.some(t=>t.length>1):e.length>1:!1;function ru(e){const t={};for(const M in e)M in ml||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:f=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:h=a,appearToClass:d=f,leaveFromClass:i=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:u=`${n}-leave-to`}=e,g=su(s),y=g&&g[0],v=g&&g[1],{onBeforeEnter:_,onEnter:E,onEnterCancelled:O,onLeave:F,onLeaveCancelled:V,onBeforeAppear:$=_,onAppear:re=E,onAppearCancelled:L=O}=t,R=(M,Q,pe)=>{Mt(M,Q?d:f),Mt(M,Q?h:a),pe&&pe()},j=(M,Q)=>{M._isLeaving=!1,Mt(M,i),Mt(M,u),Mt(M,l),Q&&Q()},se=M=>(Q,pe)=>{const Pe=M?re:E,Z=()=>R(Q,M,pe);Nt(Pe,[Q,Z]),xi(()=>{Mt(Q,M?c:o),vt(Q,M?d:f),Ti(Pe)||Pi(Q,r,y,Z)})};return Te(t,{onBeforeEnter(M){Nt(_,[M]),vt(M,o),vt(M,a)},onBeforeAppear(M){Nt($,[M]),vt(M,c),vt(M,h)},onEnter:se(!1),onAppear:se(!0),onLeave(M,Q){M._isLeaving=!0;const pe=()=>j(M,Q);vt(M,i),lu(),vt(M,l),xi(()=>{M._isLeaving&&(Mt(M,i),vt(M,u),Ti(F)||Pi(M,r,v,pe))}),Nt(F,[M,pe])},onEnterCancelled(M){R(M,!1),Nt(O,[M])},onAppearCancelled(M){R(M,!0),Nt(L,[M])},onLeaveCancelled(M){j(M),Nt(V,[M])}})}function su(e){if(e==null)return null;if(he(e))return[qr(e.enter),qr(e.leave)];{const t=qr(e);return[t,t]}}function qr(e){return oa(e)}function vt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[kn]||(e[kn]=new Set)).add(t)}function Mt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[kn];n&&(n.delete(t),n.size||(e[kn]=void 0))}function xi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let iu=0;function Pi(e,t,n,r){const s=e._endId=++iu,o=()=>{s===e._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:f,propCount:c}=ou(e,t);if(!a)return r();const h=a+"end";let d=0;const i=()=>{e.removeEventListener(h,l),o()},l=u=>{u.target===e&&++d>=c&&i()};setTimeout(()=>{d<c&&i()},f+1),e.addEventListener(h,l)}function ou(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),s=r(`${yt}Delay`),o=r(`${yt}Duration`),a=Oi(s,o),f=r(`${fn}Delay`),c=r(`${fn}Duration`),h=Oi(f,c);let d=null,i=0,l=0;t===yt?a>0&&(d=yt,i=a,l=o.length):t===fn?h>0&&(d=fn,i=h,l=c.length):(i=Math.max(a,h),d=i>0?a>h?yt:fn:null,l=d?d===yt?o.length:c.length:0);const u=d===yt&&/\b(transform|all)(,|$)/.test(r(`${yt}Property`).toString());return{type:d,timeout:i,propCount:l,hasTransform:u}}function Oi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Ci(n)+Ci(e[r])))}function Ci(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function lu(){return document.body.offsetHeight}function au(e,t,n){const r=e[kn];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Vs=Symbol("_vod"),cu={beforeMount(e,{value:t},{transition:n}){e[Vs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):hn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),hn(e,!0),r.enter(e)):r.leave(e,()=>{hn(e,!1)}):hn(e,t))},beforeUnmount(e,{value:t}){hn(e,t)}};function hn(e,t){e.style.display=t?e[Vs]:"none"}const uu=Symbol("");function fu(e,t,n){const r=e.style,s=r.display,o=Ee(n);if(n&&!o){if(t&&!Ee(t))for(const a in t)n[a]==null&&cs(r,a,"");for(const a in n)cs(r,a,n[a])}else if(o){if(t!==n){const a=r[uu];a&&(n+=";"+a),r.cssText=n}}else t&&e.removeAttribute("style");Vs in e&&(r.display=s)}const Ri=/\s*!important$/;function cs(e,t,n){if(U(n))n.forEach(r=>cs(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=hu(e,t);Ri.test(n)?e.setProperty(an(r),n.replace(Ri,""),"important"):e[r]=n}}const ki=["Webkit","Moz","ms"],Ur={};function hu(e,t){const n=Ur[t];if(n)return n;let r=tn(t);if(r!=="filter"&&r in e)return Ur[t]=r;r=_o(r);for(let s=0;s<ki.length;s++){const o=ki[s]+r;if(o in e)return Ur[t]=o}return t}const Ii="http://www.w3.org/1999/xlink";function du(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Ii,t.slice(6,t.length)):e.setAttributeNS(Ii,t,n);else{const o=ha(t);n==null||o&&!vo(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function pu(e,t,n,r,s,o,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,s,o),e[t]=n??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){e._value=n;const h=f==="OPTION"?e.getAttribute("value"):e.value,d=n??"";h!==d&&(e.value=d),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=vo(n):n==null&&h==="string"?(n="",c=!0):h==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function gu(e,t,n,r){e.addEventListener(t,n,r)}function mu(e,t,n,r){e.removeEventListener(t,n,r)}const Li=Symbol("_vei");function _u(e,t,n,r,s=null){const o=e[Li]||(e[Li]={}),a=o[t];if(r&&a)a.value=r;else{const[f,c]=yu(t);if(r){const h=o[t]=wu(r,s);gu(e,f,h,c)}else a&&(mu(e,f,a,c),o[t]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function yu(e){let t;if(Bi.test(e)){t={};let r;for(;r=e.match(Bi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):an(e.slice(2)),t]}let Wr=0;const vu=Promise.resolve(),bu=()=>Wr||(vu.then(()=>Wr=0),Wr=Date.now());function wu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ke(Au(r,n.value),t,5,[r])};return n.value=e,n.attached=bu(),n}function Au(e,t){if(U(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Ni=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Eu=(e,t,n,r,s,o,a,f,c)=>{const h=s==="svg";t==="class"?au(e,r,h):t==="style"?fu(e,n,r):hr(t)?As(t)||_u(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Su(e,t,r,h))?pu(e,t,r,o,a,f,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),du(e,t,r,h))};function Su(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ni(t)&&z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ni(t)&&Ee(n)?!1:t in e}const Tu=Te({patchProp:Eu},nu);let Mi;function xu(){return Mi||(Mi=Bc(Tu))}const Pu=(...e)=>{const t=xu().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Cu(r);if(!s)return;const o=t._component;!z(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,Ou(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function Ou(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Cu(e){return Ee(e)?document.querySelector(e):e}var Ru=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let _l;const Cr=e=>_l=e,yl=Symbol();function us(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var wn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(wn||(wn={}));function ku(){const e=Ao(!0),t=e.run(()=>pt({}));let n=[],r=[];const s=Bn({install(o){Cr(s),s._a=o,o.provide(yl,s),o.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(o){return!this._a&&!Ru?r.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const vl=()=>{};function Fi(e,t,n,r=vl){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&Eo()&&pa(s),s}function Gt(e,...t){e.slice().forEach(n=>{n(...t)})}const Iu=e=>e();function fs(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];us(s)&&us(r)&&e.hasOwnProperty(n)&&!ve(r)&&!ht(r)?e[n]=fs(s,r):e[n]=r}return e}const Lu=Symbol();function Bu(e){return!us(e)||!e.hasOwnProperty(Lu)}const{assign:wt}=Object;function Nu(e){return!!(ve(e)&&e.effect)}function Mu(e,t,n,r){const{state:s,actions:o,getters:a}=t,f=n.state.value[e];let c;function h(){f||(n.state.value[e]=s?s():{});const d=$a(n.state.value[e]);return wt(d,o,Object.keys(a||{}).reduce((i,l)=>(i[l]=Bn(He(()=>{Cr(n);const u=n._s.get(e);return a[l].call(u,u)})),i),{}))}return c=bl(e,h,t,n,r,!0),c}function bl(e,t,n={},r,s,o){let a;const f=wt({actions:{}},n),c={deep:!0};let h,d,i=[],l=[],u;const g=r.state.value[e];!o&&!g&&(r.state.value[e]={}),pt({});let y;function v(L){let R;h=d=!1,typeof L=="function"?(L(r.state.value[e]),R={type:wn.patchFunction,storeId:e,events:u}):(fs(r.state.value[e],L),R={type:wn.patchObject,payload:L,storeId:e,events:u});const j=y=Symbol();je().then(()=>{y===j&&(h=!0)}),d=!0,Gt(i,R,r.state.value[e])}const _=o?function(){const{state:R}=n,j=R?R():{};this.$patch(se=>{wt(se,j)})}:vl;function E(){a.stop(),i=[],l=[],r._s.delete(e)}function O(L,R){return function(){Cr(r);const j=Array.from(arguments),se=[],M=[];function Q(Z){se.push(Z)}function pe(Z){M.push(Z)}Gt(l,{args:j,name:L,store:V,after:Q,onError:pe});let Pe;try{Pe=R.apply(this&&this.$id===e?this:V,j)}catch(Z){throw Gt(M,Z),Z}return Pe instanceof Promise?Pe.then(Z=>(Gt(se,Z),Z)).catch(Z=>(Gt(M,Z),Promise.reject(Z))):(Gt(se,Pe),Pe)}}const F={_p:r,$id:e,$onAction:Fi.bind(null,l),$patch:v,$reset:_,$subscribe(L,R={}){const j=Fi(i,L,R.detached,()=>se()),se=a.run(()=>dt(()=>r.state.value[e],M=>{(R.flush==="sync"?d:h)&&L({storeId:e,type:wn.direct,events:u},M)},wt({},c,R)));return j},$dispose:E},V=Ln(F);r._s.set(e,V);const re=(r._a&&r._a.runWithContext||Iu)(()=>r._e.run(()=>(a=Ao()).run(t)));for(const L in re){const R=re[L];if(ve(R)&&!Nu(R)||ht(R))o||(g&&Bu(R)&&(ve(R)?R.value=g[L]:fs(R,g[L])),r.state.value[e][L]=R);else if(typeof R=="function"){const j=O(L,R);re[L]=j,f.actions[L]=R}}return wt(V,re),wt(J(V),re),Object.defineProperty(V,"$state",{get:()=>r.state.value[e],set:L=>{v(R=>{wt(R,L)})}}),r._p.forEach(L=>{wt(V,a.run(()=>L({store:V,app:r._a,pinia:r,options:f})))}),g&&o&&n.hydrate&&n.hydrate(V.$state,g),h=!0,d=!0,V}function Fu(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function a(f,c){const h=Oc();return f=f||(h?Je(yl,null):null),f&&Cr(f),f=_l,f._s.has(r)||(o?bl(r,t,s,f):Mu(r,s,f)),f._s.get(r)}return a.$id=r,a}function qs(e){{e=J(e);const t={};for(const n in e){const r=e[n];(ve(r)||ht(r))&&(t[n]=qa(e,n))}return t}}const Du="/assets/deal-qrSTiZFf.mp3",K={altarSize:5,defaultTimeout:500,delayFactor:.1,fortuneMajor:4,fortuneMinor:3,gameSpeed:.25,handSize:3,maxOmens:9,numberPlayers:2,omenColumns:3,playerRows:4,setSize:3,winningBurn:4,winningFortunes:2},Ie={error:{heading:"Ummm",invalid:{hand:"Not sure having a complete portent in hand is a good idea...",zoom:"Game objects automatically adjust to your device size. Please un-zoom, thanks!",solo:"Solo game mode is not yet available. Sorry!",online:"Online connection failed: ",settings:"Settings are not ready yet. Sorry!"}},fortunes:"Fortunes",menu:{solo:"Solo Game",online:"Online Match",hotseat:"Hot Seat",game:"New Game",main:"Main Menu",settings:"Settings",again:"Play Again"},online:{searching:"Searching for another player...",waiting:"Waiting for other player to finish their turn..."},phases:["","Start the game by burning the first offering","Replace offerings with sacrifices from your hand","Palm removed offerings for later use","Collect omens from new portents","Ignite offerings from each new portent","Snuff offerings that have run their course"],player:"Player"};var ct=(e=>(e[e.Burn=0]="Burn",e[e.Place=1]="Place",e[e.Reset=2]="Reset",e[e.Palm=3]="Palm",e))(ct||{}),ut=(e=>(e[e.None=0]="None",e[e.Sun=1]="Sun",e[e.Moon=2]="Moon",e[e.Star=3]="Star",e[e.Comet=4]="Comet",e[e.Count=5]="Count",e))(ut||{}),Y=(e=>(e[e.None=0]="None",e[e.Up=1]="Up",e[e.Right=2]="Right",e[e.Down=3]="Down",e[e.Left=4]="Left",e))(Y||{}),An=(e=>(e[e.None=0]="None",e[e.Skull=1]="Skull",e[e.Claw=2]="Claw",e[e.Wing=3]="Wing",e[e.Bone=4]="Bone",e[e.Count=5]="Count",e))(An||{}),_e=(e=>(e[e.None=0]="None",e[e.Start=1]="Start",e[e.Replace=2]="Replace",e[e.Ignite=3]="Ignite",e[e.Swap=4]="Swap",e[e.End=5]="End",e))(_e||{}),te=(e=>(e[e.None=0]="None",e[e.Limbo=1]="Limbo",e[e.Altar=2]="Altar",e[e.Player=3]="Player",e[e.Kitty=4]="Kitty",e))(te||{});class be{constructor(t=0,n=0){ee(this,"x");ee(this,"y");this.x=t,this.y=n}setX(t){this.x=t}setY(t){this.y=t}static originForObjectWithID(t){const n=document.getElementById(t);if(!n)return new be(0,0);const r=n.getBoundingClientRect();return new be(r.x,r.y)}static centerCoordForObjectWithID(t){const n=document.getElementById(t);if(!n)return new be(0,0);const r=n.getBoundingClientRect();return new be(r.x+r.width/2,r.y+r.height/2)}}class Us{constructor(t){ee(this,"type");ee(this,"zone");ee(this,"celestial");ee(this,"sacrifice");ee(this,"location");ee(this,"previous");ee(this,"player");ee(this,"selected");ee(this,"burning");this.type=t,this.zone=te.None,this.celestial=ut.None,this.sacrifice=An.None,this.location=new be,this.previous=null,this.player=0,this.selected=!1,this.burning=!1}encoded(){return{c:this.celestial,s:this.sacrifice,z:this.zone,x:this.location.x,y:this.location.y,p:this.player,b:this.burning}}getID(){return""}getColor(){switch(this.celestial){case ut.Sun:return"sun";case ut.Moon:return"moon";case ut.Star:return"star";case ut.Comet:return"comet";default:return""}}isEqual(t){return this.type===t.type&&this.zone===t.zone&&this.location.x===t.location.x&&this.location.y===t.location.y&&this.player===t.player}}class cr extends Us{constructor(n,r){super("offering");ee(this,"holding");ee(this,"overlaps");ee(this,"direction");ee(this,"pushed");this.celestial=n,this.sacrifice=r,this.holding=!1,this.overlaps=!1,this.direction=Y.None,this.pushed=Y.None}static load(n){const r=new cr(n.c,n.s);return r.zone=n.z,r.location=new be(n.x,n.y),r.player=n.p,r.burning=n.b,r}getID(){return`OF${this.celestial}${this.sacrifice}`}setHolding(n){this.holding=n}setOverlaps(n){this.overlaps=n}setDirection(n){this.direction=n}}class ur extends Us{constructor(t,n){super("omen"),this.celestial=t,this.sacrifice=n}static load(t){const n=new ur(t.c,t.s);return n.zone=t.z,n.location=new be(t.x,t.y),n.player=t.p,n}getID(){return`OM${this.celestial}${this.sacrifice}`}}class Pt extends Us{constructor(n,r,s,o){super(n);ee(this,"filled");this.zone=r,this.location=s,this.player=o,this.filled=!1}getID(){let n="PL";switch(this.zone){case te.Limbo:n+="L";break;case te.Altar:n+="A";break;case te.Player:n+=`P${this.player}`;break;case te.Kitty:n+="K";break}return`${n}${this.location.x}${this.location.y}`}}class $u{constructor(){ee(this,"places");this.places=[]}setupPlaces(){this.places=[];const t=K.altarSize,n=1;for(let r=n;r<=t;r++)for(let s=n;s<=t;s++){let o="offering";(r===n||r===t||s===n||s===t)&&(o="omen");const a=new be(s,r),f=new Pt(o,te.Altar,a,0);this.places.push(f)}}clearPlaces(){this.places.forEach(t=>t.filled=!1)}getPlace(t){return this.places.find(n=>n.location.x===t.x&&n.location.y===t.y)||null}getOpenPlace(t){return this.places.find(n=>n.type===t&&!n.filled)||null}getOpenPlaces(){return this.places.filter(t=>!t.filled)}getRow(t){const n=[];for(let r=1;r<=K.altarSize;r++)n.push(this.getPlace(new be(r,t)));return n}getRows(){const t=[];for(let n=1;n<=K.altarSize;n++)t.push(this.getRow(n));return t}}const Di={adjectives:["Agile","Alert","Ancient","Aquatic","Beautiful","Big","Brave","Camouflaged","Carnivorous","Colorful","Cunning","Curious","Dangerous","Deadly","Delicate","Energetic","Enigmatic","Exotic","Fast","Fierce","Fluffy","Friendly","Furry","Graceful","Hardy","Hairy","Hibernating","Huge","Humpbacked","Inquisitive","Intelligent","Large","Long","Loud","Majestic","Mighty","Mysterious","Nocturnal","Playful","Powerful","Prickly","Quick","Rare","Regal","Reptilian","Robust","Scaly","Shy","Silent","Small","Sneaky","Solitary","Speedy","Stealthy","Stout","Striped","Strong","Swift","Timid","Tiny","Tough","Unpredictable","Unique","Venomous","Vocal","Wild","Wise","Woolly","Wounded","Young","Zany","Adaptable","Agile","Alert","Aquatic","Attentive","Beautiful","Blending","Bold","Camouflaged","Carnivorous","Chubby","Colorful","Crafty","Cuddly","Cunning","Curious","Dangerous","Decorative","Elegant","Energetic","Enigmatic","Exotic","Fierce","Fluffy","Friendly","Furry","Graceful","Hardy","Hairy"],animals:["Dog","Cat","Lion","Tiger","Bear","Elephant","Giraffe","Zebra","Fox","Wolf","Koala","Kangaroo","Rabbit","Squirrel","Dolphin","Shark","Penguin","Otter","Cheetah","Horse","Donkey","Camel","Ostrich","Rhinoceros","Gorilla","Chimpanzee","Orangutan","Polarbear","Hyena","Platypus","Armadillo","Lemur","Meerkat","Raccoon","Hippopotamus","Octopus","Seahorse","Komodo","Cobra","Python","Parrot","Flamingo","Pelican","Alpaca","Mongoose","Gopher","Caiman","Vulture","Puma","Walrus","Narwhal","Manatee","Koala","Hermitcrab","Iguana","Jackal","Newt","Toad","Stingray","Scorpion","Hummingbird","Kingfisher","Ocelot","Quokka","Tapir","Bison","Lemming","Chipmunk","Wallaby","Gazelle","Warthog","Sloth","Puffin","Cuckoo","Starfish","Centipede","Falcon","Salamander","Wombat","Aardvark","Mantis","Lizard","Angelfish","Oyster","Jellyfish","Seahorse","Platypus","Snail","Narwhal","Ocelot","Chimpanzee","Platypus","Guppy","Seahorse","Rhinoceros","Lemur","Vulture","Pangolin","Cassowary","Tapeworm"]};class En{constructor(t){ee(this,"id");ee(this,"places");ee(this,"turn");ee(this,"remote");ee(this,"name");this.id=t,this.places=[],this.turn=!1,this.remote=!1,this.name=Di.adjectives.random()+" "+Di.animals.random()}encoded(){return{i:this.id,t:this.turn,n:this.name}}static load(t){const n=new En(t.i);return n.setupPlaces(),n.turn=t.t,n.name=t.n,n.remote=!0,n}setupPlaces(){this.places=[];const t=1;for(let n=t;n<=K.handSize;n++){const r="offering",s=new be(n,1),o=new Pt(r,te.Player,s,this.id);this.places.push(o)}for(let n=t;n<=K.maxOmens/K.omenColumns;n++)this.places.push(new Pt("omen",te.Player,new be(n,2),this.id)),this.places.push(new Pt("omen",te.Player,new be(n,3),this.id)),this.places.push(new Pt("omen",te.Player,new be(n,4),this.id))}clearPlaces(){this.places.forEach(t=>t.filled=!1)}getPlace(t){return this.places.find(n=>n.location.x===t.x&&n.location.y===t.y)||null}getOpenPlace(t){return this.places.find(n=>n.type===t&&!n.filled)||null}getRow(t,n){const r=[];for(let s=1;s<=n;s++)r.push(this.getPlace(new be(s,t)));return r}getRows(){const t=[];for(let n=1;n<=K.playerRows;n++){const r=n===1?K.handSize:K.maxOmens/K.omenColumns;t.push(this.getRow(n,r))}return t}}class Hu{constructor(){ee(this,"place");this.place=new Pt("offering",te.Kitty,new be(1,1),0)}}class Vu{constructor(){ee(this,"places");this.places=[]}setupPlaces(){this.places=[];const t=K.handSize,n=1;for(let r=n;r<=t;r++){const s="offering",o=new be(r,1),a=new Pt(s,te.Limbo,o,0);this.places.push(a)}}getPlace(t){return this.places.find(n=>n.location.x===t.x&&n.location.y===t.y)||null}getOpenPlace(){return this.places.find(t=>!t.filled)||null}clearPlaces(){this.places.forEach(t=>t.filled=!1)}getRow(){const t=[];for(let n=1;n<=K.handSize;n++)t.push(this.getPlace(new be(n,1)));return t}}class qu{constructor(){ee(this,"users");ee(this,"local");ee(this,"host");this.users=[],this.local="",this.host=""}isHostLocal(){return this.local!==""&&this.local===this.host}}class Uu{constructor(){ee(this,"h");ee(this,"p");ee(this,"f");ee(this,"m");ee(this,"t");this.h="",this.p="",this.f="",this.m="",this.t=_e.None}}var dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wl={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var i=this||n;return i._counter=1e3,i._html5AudioPool=[],i.html5PoolSize=10,i._codecs={},i._howls=[],i._muted=!1,i._volume=1,i._canPlayEvent="canplaythrough",i._navigator=typeof window<"u"&&window.navigator?window.navigator:null,i.masterGain=null,i.noAudio=!1,i.usingWebAudio=!0,i.autoSuspend=!0,i.ctx=null,i.autoUnlock=!0,i._setup(),i},volume:function(i){var l=this||n;if(i=parseFloat(i),l.ctx||d(),typeof i<"u"&&i>=0&&i<=1){if(l._volume=i,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(i,n.ctx.currentTime);for(var u=0;u<l._howls.length;u++)if(!l._howls[u]._webAudio)for(var g=l._howls[u]._getSoundIds(),y=0;y<g.length;y++){var v=l._howls[u]._soundById(g[y]);v&&v._node&&(v._node.volume=v._volume*i)}return l}return l._volume},mute:function(i){var l=this||n;l.ctx||d(),l._muted=i,l.usingWebAudio&&l.masterGain.gain.setValueAtTime(i?0:l._volume,n.ctx.currentTime);for(var u=0;u<l._howls.length;u++)if(!l._howls[u]._webAudio)for(var g=l._howls[u]._getSoundIds(),y=0;y<g.length;y++){var v=l._howls[u]._soundById(g[y]);v&&v._node&&(v._node.muted=i?!0:v._muted)}return l},stop:function(){for(var i=this||n,l=0;l<i._howls.length;l++)i._howls[l].stop();return i},unload:function(){for(var i=this||n,l=i._howls.length-1;l>=0;l--)i._howls[l].unload();return i.usingWebAudio&&i.ctx&&typeof i.ctx.close<"u"&&(i.ctx.close(),i.ctx=null,d()),i},codecs:function(i){return(this||n)._codecs[i.replace(/^x-/,"")]},_setup:function(){var i=this||n;if(i.state=i.ctx&&i.ctx.state||"suspended",i._autoSuspend(),!i.usingWebAudio)if(typeof Audio<"u")try{var l=new Audio;typeof l.oncanplaythrough>"u"&&(i._canPlayEvent="canplay")}catch{i.noAudio=!0}else i.noAudio=!0;try{var l=new Audio;l.muted&&(i.noAudio=!0)}catch{}return i.noAudio||i._setupCodecs(),i},_setupCodecs:function(){var i=this||n,l=null;try{l=typeof Audio<"u"?new Audio:null}catch{return i}if(!l||typeof l.canPlayType!="function")return i;var u=l.canPlayType("audio/mpeg;").replace(/^no$/,""),g=i._navigator?i._navigator.userAgent:"",y=g.match(/OPR\/(\d+)/g),v=y&&parseInt(y[0].split("/")[1],10)<33,_=g.indexOf("Safari")!==-1&&g.indexOf("Chrome")===-1,E=g.match(/Version\/(.*?) /),O=_&&E&&parseInt(E[1],10)<15;return i._codecs={mp3:!!(!v&&(u||l.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!u,opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(l.canPlayType('audio/wav; codecs="1"')||l.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!l.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(l.canPlayType("audio/x-m4b;")||l.canPlayType("audio/m4b;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!O&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!O&&l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!l.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(l.canPlayType("audio/x-flac;")||l.canPlayType("audio/flac;")).replace(/^no$/,"")},i},_unlockAudio:function(){var i=this||n;if(!(i._audioUnlocked||!i.ctx)){i._audioUnlocked=!1,i.autoUnlock=!1,!i._mobileUnloaded&&i.ctx.sampleRate!==44100&&(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var l=function(u){for(;i._html5AudioPool.length<i.html5PoolSize;)try{var g=new Audio;g._unlocked=!0,i._releaseHtml5Audio(g)}catch{i.noAudio=!0;break}for(var y=0;y<i._howls.length;y++)if(!i._howls[y]._webAudio)for(var v=i._howls[y]._getSoundIds(),_=0;_<v.length;_++){var E=i._howls[y]._soundById(v[_]);E&&E._node&&!E._node._unlocked&&(E._node._unlocked=!0,E._node.load())}i._autoResume();var O=i.ctx.createBufferSource();O.buffer=i._scratchBuffer,O.connect(i.ctx.destination),typeof O.start>"u"?O.noteOn(0):O.start(0),typeof i.ctx.resume=="function"&&i.ctx.resume(),O.onended=function(){O.disconnect(0),i._audioUnlocked=!0,document.removeEventListener("touchstart",l,!0),document.removeEventListener("touchend",l,!0),document.removeEventListener("click",l,!0),document.removeEventListener("keydown",l,!0);for(var F=0;F<i._howls.length;F++)i._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),document.addEventListener("keydown",l,!0),i}},_obtainHtml5Audio:function(){var i=this||n;if(i._html5AudioPool.length)return i._html5AudioPool.pop();var l=new Audio().play();return l&&typeof Promise<"u"&&(l instanceof Promise||typeof l.then=="function")&&l.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(i){var l=this||n;return i._unlocked&&l._html5AudioPool.push(i),l},_autoSuspend:function(){var i=this;if(!(!i.autoSuspend||!i.ctx||typeof i.ctx.suspend>"u"||!n.usingWebAudio)){for(var l=0;l<i._howls.length;l++)if(i._howls[l]._webAudio){for(var u=0;u<i._howls[l]._sounds.length;u++)if(!i._howls[l]._sounds[u]._paused)return i}return i._suspendTimer&&clearTimeout(i._suspendTimer),i._suspendTimer=setTimeout(function(){if(i.autoSuspend){i._suspendTimer=null,i.state="suspending";var g=function(){i.state="suspended",i._resumeAfterSuspend&&(delete i._resumeAfterSuspend,i._autoResume())};i.ctx.suspend().then(g,g)}},3e4),i}},_autoResume:function(){var i=this;if(!(!i.ctx||typeof i.ctx.resume>"u"||!n.usingWebAudio))return i.state==="running"&&i.ctx.state!=="interrupted"&&i._suspendTimer?(clearTimeout(i._suspendTimer),i._suspendTimer=null):i.state==="suspended"||i.state==="running"&&i.ctx.state==="interrupted"?(i.ctx.resume().then(function(){i.state="running";for(var l=0;l<i._howls.length;l++)i._howls[l]._emit("resume")}),i._suspendTimer&&(clearTimeout(i._suspendTimer),i._suspendTimer=null)):i.state==="suspending"&&(i._resumeAfterSuspend=!0),i}};var n=new t,r=function(i){var l=this;if(!i.src||i.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}l.init(i)};r.prototype={init:function(i){var l=this;return n.ctx||d(),l._autoplay=i.autoplay||!1,l._format=typeof i.format!="string"?i.format:[i.format],l._html5=i.html5||!1,l._muted=i.mute||!1,l._loop=i.loop||!1,l._pool=i.pool||5,l._preload=typeof i.preload=="boolean"||i.preload==="metadata"?i.preload:!0,l._rate=i.rate||1,l._sprite=i.sprite||{},l._src=typeof i.src!="string"?i.src:[i.src],l._volume=i.volume!==void 0?i.volume:1,l._xhr={method:i.xhr&&i.xhr.method?i.xhr.method:"GET",headers:i.xhr&&i.xhr.headers?i.xhr.headers:null,withCredentials:i.xhr&&i.xhr.withCredentials?i.xhr.withCredentials:!1},l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=i.onend?[{fn:i.onend}]:[],l._onfade=i.onfade?[{fn:i.onfade}]:[],l._onload=i.onload?[{fn:i.onload}]:[],l._onloaderror=i.onloaderror?[{fn:i.onloaderror}]:[],l._onplayerror=i.onplayerror?[{fn:i.onplayerror}]:[],l._onpause=i.onpause?[{fn:i.onpause}]:[],l._onplay=i.onplay?[{fn:i.onplay}]:[],l._onstop=i.onstop?[{fn:i.onstop}]:[],l._onmute=i.onmute?[{fn:i.onmute}]:[],l._onvolume=i.onvolume?[{fn:i.onvolume}]:[],l._onrate=i.onrate?[{fn:i.onrate}]:[],l._onseek=i.onseek?[{fn:i.onseek}]:[],l._onunlock=i.onunlock?[{fn:i.onunlock}]:[],l._onresume=[],l._webAudio=n.usingWebAudio&&!l._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l._preload!=="none"&&l.load(),l},load:function(){var i=this,l=null;if(n.noAudio){i._emit("loaderror",null,"No audio support.");return}typeof i._src=="string"&&(i._src=[i._src]);for(var u=0;u<i._src.length;u++){var g,y;if(i._format&&i._format[u])g=i._format[u];else{if(y=i._src[u],typeof y!="string"){i._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(y),g||(g=/\.([^.]+)$/.exec(y.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(g||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),g&&n.codecs(g)){l=i._src[u];break}}if(!l){i._emit("loaderror",null,"No codec support for selected audio sources.");return}return i._src=l,i._state="loading",window.location.protocol==="https:"&&l.slice(0,5)==="http:"&&(i._html5=!0,i._webAudio=!1),new s(i),i._webAudio&&a(i),i},play:function(i,l){var u=this,g=null;if(typeof i=="number")g=i,i=null;else{if(typeof i=="string"&&u._state==="loaded"&&!u._sprite[i])return null;if(typeof i>"u"&&(i="__default",!u._playLock)){for(var y=0,v=0;v<u._sounds.length;v++)u._sounds[v]._paused&&!u._sounds[v]._ended&&(y++,g=u._sounds[v]._id);y===1?i=null:g=null}}var _=g?u._soundById(g):u._inactiveSound();if(!_)return null;if(g&&!i&&(i=_._sprite||"__default"),u._state!=="loaded"){_._sprite=i,_._ended=!1;var E=_._id;return u._queue.push({event:"play",action:function(){u.play(E)}}),E}if(g&&!_._paused)return l||u._loadQueue("play"),_._id;u._webAudio&&n._autoResume();var O=Math.max(0,_._seek>0?_._seek:u._sprite[i][0]/1e3),F=Math.max(0,(u._sprite[i][0]+u._sprite[i][1])/1e3-O),V=F*1e3/Math.abs(_._rate),$=u._sprite[i][0]/1e3,re=(u._sprite[i][0]+u._sprite[i][1])/1e3;_._sprite=i,_._ended=!1;var L=function(){_._paused=!1,_._seek=O,_._start=$,_._stop=re,_._loop=!!(_._loop||u._sprite[i][2])};if(O>=re){u._ended(_);return}var R=_._node;if(u._webAudio){var j=function(){u._playLock=!1,L(),u._refreshBuffer(_);var pe=_._muted||u._muted?0:_._volume;R.gain.setValueAtTime(pe,n.ctx.currentTime),_._playStart=n.ctx.currentTime,typeof R.bufferSource.start>"u"?_._loop?R.bufferSource.noteGrainOn(0,O,86400):R.bufferSource.noteGrainOn(0,O,F):_._loop?R.bufferSource.start(0,O,86400):R.bufferSource.start(0,O,F),V!==1/0&&(u._endTimers[_._id]=setTimeout(u._ended.bind(u,_),V)),l||setTimeout(function(){u._emit("play",_._id),u._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?j():(u._playLock=!0,u.once("resume",j),u._clearTimer(_._id))}else{var se=function(){R.currentTime=O,R.muted=_._muted||u._muted||n._muted||R.muted,R.volume=_._volume*n.volume(),R.playbackRate=_._rate;try{var pe=R.play();if(pe&&typeof Promise<"u"&&(pe instanceof Promise||typeof pe.then=="function")?(u._playLock=!0,L(),pe.then(function(){u._playLock=!1,R._unlocked=!0,l?u._loadQueue():u._emit("play",_._id)}).catch(function(){u._playLock=!1,u._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):l||(u._playLock=!1,L(),u._emit("play",_._id)),R.playbackRate=_._rate,R.paused){u._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}i!=="__default"||_._loop?u._endTimers[_._id]=setTimeout(u._ended.bind(u,_),V):(u._endTimers[_._id]=function(){u._ended(_),R.removeEventListener("ended",u._endTimers[_._id],!1)},R.addEventListener("ended",u._endTimers[_._id],!1))}catch(Pe){u._emit("playerror",_._id,Pe)}};R.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(R.src=u._src,R.load());var M=window&&window.ejecta||!R.readyState&&n._navigator.isCocoonJS;if(R.readyState>=3||M)se();else{u._playLock=!0,u._state="loading";var Q=function(){u._state="loaded",se(),R.removeEventListener(n._canPlayEvent,Q,!1)};R.addEventListener(n._canPlayEvent,Q,!1),u._clearTimer(_._id)}}return _._id},pause:function(i){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(i)}}),l;for(var u=l._getSoundIds(i),g=0;g<u.length;g++){l._clearTimer(u[g]);var y=l._soundById(u[g]);if(y&&!y._paused&&(y._seek=l.seek(u[g]),y._rateSeek=0,y._paused=!0,l._stopFade(u[g]),y._node))if(l._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),l._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||l._emit("pause",y?y._id:null)}return l},stop:function(i,l){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(i)}}),u;for(var g=u._getSoundIds(i),y=0;y<g.length;y++){u._clearTimer(g[y]);var v=u._soundById(g[y]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,u._stopFade(g[y]),v._node&&(u._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),u._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&u._clearSound(v._node))),l||u._emit("stop",v._id))}return u},mute:function(i,l){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(i,l)}}),u;if(typeof l>"u")if(typeof i=="boolean")u._muted=i;else return u._muted;for(var g=u._getSoundIds(l),y=0;y<g.length;y++){var v=u._soundById(g[y]);v&&(v._muted=i,v._interval&&u._stopFade(v._id),u._webAudio&&v._node?v._node.gain.setValueAtTime(i?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:i),u._emit("mute",v._id))}return u},volume:function(){var i=this,l=arguments,u,g;if(l.length===0)return i._volume;if(l.length===1||l.length===2&&typeof l[1]>"u"){var y=i._getSoundIds(),v=y.indexOf(l[0]);v>=0?g=parseInt(l[0],10):u=parseFloat(l[0])}else l.length>=2&&(u=parseFloat(l[0]),g=parseInt(l[1],10));var _;if(typeof u<"u"&&u>=0&&u<=1){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,l)}}),i;typeof g>"u"&&(i._volume=u),g=i._getSoundIds(g);for(var E=0;E<g.length;E++)_=i._soundById(g[E]),_&&(_._volume=u,l[2]||i._stopFade(g[E]),i._webAudio&&_._node&&!_._muted?_._node.gain.setValueAtTime(u,n.ctx.currentTime):_._node&&!_._muted&&(_._node.volume=u*n.volume()),i._emit("volume",_._id))}else return _=g?i._soundById(g):i._sounds[0],_?_._volume:0;return i},fade:function(i,l,u,g){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(i,l,u,g)}}),y;i=Math.min(Math.max(0,parseFloat(i)),1),l=Math.min(Math.max(0,parseFloat(l)),1),u=parseFloat(u),y.volume(i,g);for(var v=y._getSoundIds(g),_=0;_<v.length;_++){var E=y._soundById(v[_]);if(E){if(g||y._stopFade(v[_]),y._webAudio&&!E._muted){var O=n.ctx.currentTime,F=O+u/1e3;E._volume=i,E._node.gain.setValueAtTime(i,O),E._node.gain.linearRampToValueAtTime(l,F)}y._startFadeInterval(E,i,l,u,v[_],typeof g>"u")}}return y},_startFadeInterval:function(i,l,u,g,y,v){var _=this,E=l,O=u-l,F=Math.abs(O/.01),V=Math.max(4,F>0?g/F:g),$=Date.now();i._fadeTo=u,i._interval=setInterval(function(){var re=(Date.now()-$)/g;$=Date.now(),E+=O*re,E=Math.round(E*100)/100,O<0?E=Math.max(u,E):E=Math.min(u,E),_._webAudio?i._volume=E:_.volume(E,i._id,!0),v&&(_._volume=E),(u<l&&E<=u||u>l&&E>=u)&&(clearInterval(i._interval),i._interval=null,i._fadeTo=null,_.volume(u,i._id),_._emit("fade",i._id))},V)},_stopFade:function(i){var l=this,u=l._soundById(i);return u&&u._interval&&(l._webAudio&&u._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(u._interval),u._interval=null,l.volume(u._fadeTo,i),u._fadeTo=null,l._emit("fade",i)),l},loop:function(){var i=this,l=arguments,u,g,y;if(l.length===0)return i._loop;if(l.length===1)if(typeof l[0]=="boolean")u=l[0],i._loop=u;else return y=i._soundById(parseInt(l[0],10)),y?y._loop:!1;else l.length===2&&(u=l[0],g=parseInt(l[1],10));for(var v=i._getSoundIds(g),_=0;_<v.length;_++)y=i._soundById(v[_]),y&&(y._loop=u,i._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=u,u&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,i.playing(v[_])&&(i.pause(v[_],!0),i.play(v[_],!0)))));return i},rate:function(){var i=this,l=arguments,u,g;if(l.length===0)g=i._sounds[0]._id;else if(l.length===1){var y=i._getSoundIds(),v=y.indexOf(l[0]);v>=0?g=parseInt(l[0],10):u=parseFloat(l[0])}else l.length===2&&(u=parseFloat(l[0]),g=parseInt(l[1],10));var _;if(typeof u=="number"){if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,l)}}),i;typeof g>"u"&&(i._rate=u),g=i._getSoundIds(g);for(var E=0;E<g.length;E++)if(_=i._soundById(g[E]),_){i.playing(g[E])&&(_._rateSeek=i.seek(g[E]),_._playStart=i._webAudio?n.ctx.currentTime:_._playStart),_._rate=u,i._webAudio&&_._node&&_._node.bufferSource?_._node.bufferSource.playbackRate.setValueAtTime(u,n.ctx.currentTime):_._node&&(_._node.playbackRate=u);var O=i.seek(g[E]),F=(i._sprite[_._sprite][0]+i._sprite[_._sprite][1])/1e3-O,V=F*1e3/Math.abs(_._rate);(i._endTimers[g[E]]||!_._paused)&&(i._clearTimer(g[E]),i._endTimers[g[E]]=setTimeout(i._ended.bind(i,_),V)),i._emit("rate",_._id)}}else return _=i._soundById(g),_?_._rate:i._rate;return i},seek:function(){var i=this,l=arguments,u,g;if(l.length===0)i._sounds.length&&(g=i._sounds[0]._id);else if(l.length===1){var y=i._getSoundIds(),v=y.indexOf(l[0]);v>=0?g=parseInt(l[0],10):i._sounds.length&&(g=i._sounds[0]._id,u=parseFloat(l[0]))}else l.length===2&&(u=parseFloat(l[0]),g=parseInt(l[1],10));if(typeof g>"u")return 0;if(typeof u=="number"&&(i._state!=="loaded"||i._playLock))return i._queue.push({event:"seek",action:function(){i.seek.apply(i,l)}}),i;var _=i._soundById(g);if(_)if(typeof u=="number"&&u>=0){var E=i.playing(g);E&&i.pause(g,!0),_._seek=u,_._ended=!1,i._clearTimer(g),!i._webAudio&&_._node&&!isNaN(_._node.duration)&&(_._node.currentTime=u);var O=function(){E&&i.play(g,!0),i._emit("seek",g)};if(E&&!i._webAudio){var F=function(){i._playLock?setTimeout(F,0):O()};setTimeout(F,0)}else O()}else if(i._webAudio){var V=i.playing(g)?n.ctx.currentTime-_._playStart:0,$=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+($+V*Math.abs(_._rate))}else return _._node.currentTime;return i},playing:function(i){var l=this;if(typeof i=="number"){var u=l._soundById(i);return u?!u._paused:!1}for(var g=0;g<l._sounds.length;g++)if(!l._sounds[g]._paused)return!0;return!1},duration:function(i){var l=this,u=l._duration,g=l._soundById(i);return g&&(u=l._sprite[g._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var i=this,l=i._sounds,u=0;u<l.length;u++)l[u]._paused||i.stop(l[u]._id),i._webAudio||(i._clearSound(l[u]._node),l[u]._node.removeEventListener("error",l[u]._errorFn,!1),l[u]._node.removeEventListener(n._canPlayEvent,l[u]._loadFn,!1),l[u]._node.removeEventListener("ended",l[u]._endFn,!1),n._releaseHtml5Audio(l[u]._node)),delete l[u]._node,i._clearTimer(l[u]._id);var g=n._howls.indexOf(i);g>=0&&n._howls.splice(g,1);var y=!0;for(u=0;u<n._howls.length;u++)if(n._howls[u]._src===i._src||i._src.indexOf(n._howls[u]._src)>=0){y=!1;break}return o&&y&&delete o[i._src],n.noAudio=!1,i._state="unloaded",i._sounds=[],i=null,null},on:function(i,l,u,g){var y=this,v=y["_on"+i];return typeof l=="function"&&v.push(g?{id:u,fn:l,once:g}:{id:u,fn:l}),y},off:function(i,l,u){var g=this,y=g["_on"+i],v=0;if(typeof l=="number"&&(u=l,l=null),l||u)for(v=0;v<y.length;v++){var _=u===y[v].id;if(l===y[v].fn&&_||!l&&_){y.splice(v,1);break}}else if(i)g["_on"+i]=[];else{var E=Object.keys(g);for(v=0;v<E.length;v++)E[v].indexOf("_on")===0&&Array.isArray(g[E[v]])&&(g[E[v]]=[])}return g},once:function(i,l,u){var g=this;return g.on(i,l,u,1),g},_emit:function(i,l,u){for(var g=this,y=g["_on"+i],v=y.length-1;v>=0;v--)(!y[v].id||y[v].id===l||i==="load")&&(setTimeout((function(_){_.call(this,l,u)}).bind(g,y[v].fn),0),y[v].once&&g.off(i,y[v].fn,y[v].id));return g._loadQueue(i),g},_loadQueue:function(i){var l=this;if(l._queue.length>0){var u=l._queue[0];u.event===i&&(l._queue.shift(),l._loadQueue()),i||u.action()}return l},_ended:function(i){var l=this,u=i._sprite;if(!l._webAudio&&i._node&&!i._node.paused&&!i._node.ended&&i._node.currentTime<i._stop)return setTimeout(l._ended.bind(l,i),100),l;var g=!!(i._loop||l._sprite[u][2]);if(l._emit("end",i._id),!l._webAudio&&g&&l.stop(i._id,!0).play(i._id),l._webAudio&&g){l._emit("play",i._id),i._seek=i._start||0,i._rateSeek=0,i._playStart=n.ctx.currentTime;var y=(i._stop-i._start)*1e3/Math.abs(i._rate);l._endTimers[i._id]=setTimeout(l._ended.bind(l,i),y)}return l._webAudio&&!g&&(i._paused=!0,i._ended=!0,i._seek=i._start||0,i._rateSeek=0,l._clearTimer(i._id),l._cleanBuffer(i._node),n._autoSuspend()),!l._webAudio&&!g&&l.stop(i._id,!0),l},_clearTimer:function(i){var l=this;if(l._endTimers[i]){if(typeof l._endTimers[i]!="function")clearTimeout(l._endTimers[i]);else{var u=l._soundById(i);u&&u._node&&u._node.removeEventListener("ended",l._endTimers[i],!1)}delete l._endTimers[i]}return l},_soundById:function(i){for(var l=this,u=0;u<l._sounds.length;u++)if(i===l._sounds[u]._id)return l._sounds[u];return null},_inactiveSound:function(){var i=this;i._drain();for(var l=0;l<i._sounds.length;l++)if(i._sounds[l]._ended)return i._sounds[l].reset();return new s(i)},_drain:function(){var i=this,l=i._pool,u=0,g=0;if(!(i._sounds.length<l)){for(g=0;g<i._sounds.length;g++)i._sounds[g]._ended&&u++;for(g=i._sounds.length-1;g>=0;g--){if(u<=l)return;i._sounds[g]._ended&&(i._webAudio&&i._sounds[g]._node&&i._sounds[g]._node.disconnect(0),i._sounds.splice(g,1),u--)}}},_getSoundIds:function(i){var l=this;if(typeof i>"u"){for(var u=[],g=0;g<l._sounds.length;g++)u.push(l._sounds[g]._id);return u}else return[i]},_refreshBuffer:function(i){var l=this;return i._node.bufferSource=n.ctx.createBufferSource(),i._node.bufferSource.buffer=o[l._src],i._panner?i._node.bufferSource.connect(i._panner):i._node.bufferSource.connect(i._node),i._node.bufferSource.loop=i._loop,i._loop&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop||0),i._node.bufferSource.playbackRate.setValueAtTime(i._rate,n.ctx.currentTime),l},_cleanBuffer:function(i){var l=this,u=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!i.bufferSource)return l;if(n._scratchBuffer&&i.bufferSource&&(i.bufferSource.onended=null,i.bufferSource.disconnect(0),u))try{i.bufferSource.buffer=n._scratchBuffer}catch{}return i.bufferSource=null,l},_clearSound:function(i){var l=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);l||(i.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(i){this._parent=i,this.init()};s.prototype={init:function(){var i=this,l=i._parent;return i._muted=l._muted,i._loop=l._loop,i._volume=l._volume,i._rate=l._rate,i._seek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,l._sounds.push(i),i.create(),i},create:function(){var i=this,l=i._parent,u=n._muted||i._muted||i._parent._muted?0:i._volume;return l._webAudio?(i._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),i._node.gain.setValueAtTime(u,n.ctx.currentTime),i._node.paused=!0,i._node.connect(n.masterGain)):n.noAudio||(i._node=n._obtainHtml5Audio(),i._errorFn=i._errorListener.bind(i),i._node.addEventListener("error",i._errorFn,!1),i._loadFn=i._loadListener.bind(i),i._node.addEventListener(n._canPlayEvent,i._loadFn,!1),i._endFn=i._endListener.bind(i),i._node.addEventListener("ended",i._endFn,!1),i._node.src=l._src,i._node.preload=l._preload===!0?"auto":l._preload,i._node.volume=u*n.volume(),i._node.load()),i},reset:function(){var i=this,l=i._parent;return i._muted=l._muted,i._loop=l._loop,i._volume=l._volume,i._rate=l._rate,i._seek=0,i._rateSeek=0,i._paused=!0,i._ended=!0,i._sprite="__default",i._id=++n._counter,i},_errorListener:function(){var i=this;i._parent._emit("loaderror",i._id,i._node.error?i._node.error.code:0),i._node.removeEventListener("error",i._errorFn,!1)},_loadListener:function(){var i=this,l=i._parent;l._duration=Math.ceil(i._node.duration*10)/10,Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue()),i._node.removeEventListener(n._canPlayEvent,i._loadFn,!1)},_endListener:function(){var i=this,l=i._parent;l._duration===1/0&&(l._duration=Math.ceil(i._node.duration*10)/10,l._sprite.__default[1]===1/0&&(l._sprite.__default[1]=l._duration*1e3),l._ended(i)),i._node.removeEventListener("ended",i._endFn,!1)}};var o={},a=function(i){var l=i._src;if(o[l]){i._duration=o[l].duration,h(i);return}if(/^data:[^;]+;base64,/.test(l)){for(var u=atob(l.split(",")[1]),g=new Uint8Array(u.length),y=0;y<u.length;++y)g[y]=u.charCodeAt(y);c(g.buffer,i)}else{var v=new XMLHttpRequest;v.open(i._xhr.method,l,!0),v.withCredentials=i._xhr.withCredentials,v.responseType="arraybuffer",i._xhr.headers&&Object.keys(i._xhr.headers).forEach(function(_){v.setRequestHeader(_,i._xhr.headers[_])}),v.onload=function(){var _=(v.status+"")[0];if(_!=="0"&&_!=="2"&&_!=="3"){i._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}c(v.response,i)},v.onerror=function(){i._webAudio&&(i._html5=!0,i._webAudio=!1,i._sounds=[],delete o[l],i.load())},f(v)}},f=function(i){try{i.send()}catch{i.onerror()}},c=function(i,l){var u=function(){l._emit("loaderror",null,"Decoding audio data failed.")},g=function(y){y&&l._sounds.length>0?(o[l._src]=y,h(l,y)):u()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(i).then(g).catch(u):n.ctx.decodeAudioData(i,g,u)},h=function(i,l){l&&!i._duration&&(i._duration=l.duration),Object.keys(i._sprite).length===0&&(i._sprite={__default:[0,i._duration*1e3]}),i._state!=="loaded"&&(i._state="loaded",i._emit("load"),i._loadQueue())},d=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var i=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),l=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=l?parseInt(l[1],10):null;if(i&&u&&u<9){var g=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!g&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof dn<"u"?(dn.HowlerGlobal=t,dn.Howler=n,dn.Howl=r,dn.Sound=s):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,s){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(r=typeof r!="number"?o._pos[1]:r,s=typeof s!="number"?o._pos[2]:s,typeof n=="number")o._pos=[n,r,s],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(n,r,s,o,a,f){var c=this;if(!c.ctx||!c.ctx.listener)return c;var h=c._orientation;if(r=typeof r!="number"?h[1]:r,s=typeof s!="number"?h[2]:s,o=typeof o!="number"?h[3]:o,a=typeof a!="number"?h[4]:a,f=typeof f!="number"?h[5]:f,typeof n=="number")c._orientation=[n,r,s,o,a,f],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(f,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,s,o,a,f);else return h;return c},Howl.prototype.init=function(n){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,r)}}),s;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var a=s._getSoundIds(r),f=0;f<a.length;f++){var c=s._soundById(a[f]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,o),o==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",c._id);else return c._stereo}return s},Howl.prototype.pos=function(n,r,s,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,s,o)}}),a;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof o>"u")if(typeof n=="number")a._pos=[n,r,s];else return a._pos;for(var f=a._getSoundIds(o),c=0;c<f.length;c++){var h=a._soundById(f[c]);if(h)if(typeof n=="number")h._pos=[n,r,s],h._node&&((!h._panner||h._panner.pan)&&t(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):h._panner.setPosition(n,r,s)),a._emit("pos",h._id);else return h._pos}return a},Howl.prototype.orientation=function(n,r,s,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,s,o)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,s=typeof s!="number"?a._orientation[2]:s,typeof o>"u")if(typeof n=="number")a._orientation=[n,r,s];else return a._orientation;for(var f=a._getSoundIds(o),c=0;c<f.length;c++){var h=a._soundById(f[c]);if(h)if(typeof n=="number")h._orientation=[n,r,s],h._node&&(h._panner||(h._pos||(h._pos=a._pos||[0,0,-.5]),t(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):h._panner.setOrientation(n,r,s)),a._emit("orientation",h._id);else return h._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,s,o,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof o>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(s=r[0],o=parseInt(r[1],10));for(var f=n._getSoundIds(o),c=0;c<f.length;c++)if(a=n._soundById(f[c]),a){var h=a._pannerAttr;h={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:h.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:h.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:h.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:h.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:h.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:h.panningModel};var d=a._panner;d||(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"),d=a._panner),d.coneInnerAngle=h.coneInnerAngle,d.coneOuterAngle=h.coneOuterAngle,d.coneOuterGain=h.coneOuterGain,d.distanceModel=h.distanceModel,d.maxDistance=h.maxDistance,d.refDistance=h.refDistance,d.rolloffFactor=h.rolloffFactor,d.panningModel=h.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,n.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(wl);const it=Object.create(null);it.open="0";it.close="1";it.ping="2";it.pong="3";it.message="4";it.upgrade="5";it.noop="6";const Zn=Object.create(null);Object.keys(it).forEach(e=>{Zn[it[e]]=e});const hs={type:"error",data:"parser error"},Al=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",El=typeof ArrayBuffer=="function",Sl=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ws=({type:e,data:t},n,r)=>Al&&t instanceof Blob?n?r(t):$i(t,r):El&&(t instanceof ArrayBuffer||Sl(t))?n?r(t):$i(new Blob([t]),r):r(it[e]+(t||"")),$i=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Hi(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let jr;function Wu(e,t){if(Al&&e.data instanceof Blob)return e.data.arrayBuffer().then(Hi).then(t);if(El&&(e.data instanceof ArrayBuffer||Sl(e.data)))return t(Hi(e.data));Ws(e,!1,n=>{jr||(jr=new TextEncoder),t(jr.encode(n))})}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_n=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Vi.length;e++)_n[Vi.charCodeAt(e)]=e;const ju=e=>{let t=e.length*.75,n=e.length,r,s=0,o,a,f,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),d=new Uint8Array(h);for(r=0;r<n;r+=4)o=_n[e.charCodeAt(r)],a=_n[e.charCodeAt(r+1)],f=_n[e.charCodeAt(r+2)],c=_n[e.charCodeAt(r+3)],d[s++]=o<<2|a>>4,d[s++]=(a&15)<<4|f>>2,d[s++]=(f&3)<<6|c&63;return h},Ku=typeof ArrayBuffer=="function",js=(e,t)=>{if(typeof e!="string")return{type:"message",data:Tl(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:zu(e.substring(1),t)}:Zn[n]?e.length>1?{type:Zn[n],data:e.substring(1)}:{type:Zn[n]}:hs},zu=(e,t)=>{if(Ku){const n=ju(e);return Tl(n,t)}else return{base64:!0,data:e}},Tl=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},xl="",Gu=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((o,a)=>{Ws(o,!1,f=>{r[a]=f,++s===n&&t(r.join(xl))})})},Yu=(e,t)=>{const n=e.split(xl),r=[];for(let s=0;s<n.length;s++){const o=js(n[s],t);if(r.push(o),o.type==="error")break}return r};function Xu(){return new TransformStream({transform(e,t){Wu(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Kr;function jn(e){return e.reduce((t,n)=>t+n.length,0)}function Kn(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Ju(e,t){Kr||(Kr=new TextDecoder);const n=[];let r=0,s=-1,o=!1;return new TransformStream({transform(a,f){for(n.push(a);;){if(r===0){if(jn(n)<1)break;const c=Kn(n,1);o=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(jn(n)<2)break;const c=Kn(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(jn(n)<8)break;const c=Kn(n,8),h=new DataView(c.buffer,c.byteOffset,c.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){f.enqueue(hs);break}s=d*Math.pow(2,32)+h.getUint32(4),r=3}else{if(jn(n)<s)break;const c=Kn(n,s);f.enqueue(js(o?c:Kr.decode(c),t)),r=0}if(s===0||s>e){f.enqueue(hs);break}}}})}const Pl=4;function Ae(e){if(e)return Qu(e)}function Qu(e){for(var t in Ae.prototype)e[t]=Ae.prototype[t];return e}Ae.prototype.on=Ae.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ae.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ae.prototype.off=Ae.prototype.removeListener=Ae.prototype.removeAllListeners=Ae.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ae.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Ae.prototype.emitReserved=Ae.prototype.emit;Ae.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ae.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ue=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ol(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Zu=Ue.setTimeout,ef=Ue.clearTimeout;function Rr(e,t){t.useNativeTimers?(e.setTimeoutFn=Zu.bind(Ue),e.clearTimeoutFn=ef.bind(Ue)):(e.setTimeoutFn=Ue.setTimeout.bind(Ue),e.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const tf=1.33;function nf(e){return typeof e=="string"?rf(e):Math.ceil((e.byteLength||e.size)*tf)}function rf(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function sf(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function of(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class lf extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ks extends Ae{constructor(t){super(),this.writable=!1,Rr(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new lf(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=js(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=sf(t);return n.length?"?"+n:""}}const Cl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ds=64,af={};let qi=0,zn=0,Ui;function Wi(e){let t="";do t=Cl[e%ds]+t,e=Math.floor(e/ds);while(e>0);return t}function Rl(){const e=Wi(+new Date);return e!==Ui?(qi=0,Ui=e):e+"."+Wi(qi++)}for(;zn<ds;zn++)af[Cl[zn]]=zn;let kl=!1;try{kl=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cf=kl;function Il(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||cf))return new XMLHttpRequest}catch{}if(!t)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function uf(){}const ff=function(){return new Il({xdomain:!1}).responseType!=null}();class hf extends Ks{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}const n=t&&t.forceBase64;this.supportsBinary=ff&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Yu(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Gu(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Rl()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new st(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class st extends Ae{constructor(t,n){super(),Rr(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Ol(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Il(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=st.requestsCount++,st.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=uf,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete st.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}st.requestsCount=0;st.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ji);else if(typeof addEventListener=="function"){const e="onpagehide"in Ue?"pagehide":"unload";addEventListener(e,ji,!1)}}function ji(){for(let e in st.requests)st.requests.hasOwnProperty(e)&&st.requests[e].abort()}const zs=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Gn=Ue.WebSocket||Ue.MozWebSocket,Ki=!0,df="arraybuffer",zi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pf extends Ks{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=zi?{}:Ol(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Ki&&!zi?n?new Gn(t,n):new Gn(t):new Gn(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Ws(r,this.supportsBinary,o=>{const a={};try{Ki&&this.ws.send(o)}catch{}s&&zs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Rl()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Gn}}class gf extends Ks{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Ju(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Xu();s.readable.pipeTo(t.writable),this.writer=s.writable.getWriter();const o=()=>{r.read().then(({done:f,value:c})=>{f||(this.onPacket(c),o())}).catch(f=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this.writer.write(r).then(()=>{s&&zs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const mf={websocket:pf,webtransport:gf,polling:hf},_f=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yf=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ps(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=_f.exec(e||""),o={},a=14;for(;a--;)o[yf[a]]=s[a]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=vf(o,o.path),o.queryKey=bf(o,o.query),o}function vf(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function bf(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,o){s&&(n[s]=o)}),n}let Ll=class Xt extends Ae{constructor(t,n={}){super(),this.binaryType=df,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=ps(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=ps(n.host).host),Rr(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=of(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Pl,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new mf[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Xt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Xt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",i=>{if(!r)if(i.type==="pong"&&i.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Xt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const l=new Error("probe error");l.transport=n.name,this.emitReserved("upgradeError",l)}}))};function o(){r||(r=!0,d(),n.close(),n=null)}const a=i=>{const l=new Error("probe error: "+i);l.transport=n.name,o(),this.emitReserved("upgradeError",l)};function f(){a("transport closed")}function c(){a("socket closed")}function h(i){n&&i.name!==n.name&&o()}const d=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",f),this.off("close",c),this.off("upgrading",h)};n.once("open",s),n.once("error",a),n.once("close",f),this.once("close",c),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Xt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=nf(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Xt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const s=t.length;for(;r<s;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};Ll.protocol=Pl;function wf(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ps(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Af=typeof ArrayBuffer=="function",Ef=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Bl=Object.prototype.toString,Sf=typeof Blob=="function"||typeof Blob<"u"&&Bl.call(Blob)==="[object BlobConstructor]",Tf=typeof File=="function"||typeof File<"u"&&Bl.call(File)==="[object FileConstructor]";function Gs(e){return Af&&(e instanceof ArrayBuffer||Ef(e))||Sf&&e instanceof Blob||Tf&&e instanceof File}function er(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(er(e[n]))return!0;return!1}if(Gs(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return er(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&er(e[n]))return!0;return!1}function xf(e){const t=[],n=e.data,r=e;return r.data=gs(n,t),r.attachments=t.length,{packet:r,buffers:t}}function gs(e,t){if(!e)return e;if(Gs(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=gs(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=gs(e[r],t));return n}return e}function Pf(e,t){return e.data=ms(e.data,t),delete e.attachments,e}function ms(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ms(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ms(e[n],t));return e}const Of=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Cf=5;var X;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(X||(X={}));class Rf{constructor(t){this.replacer=t}encode(t){return(t.type===X.EVENT||t.type===X.ACK)&&er(t)?this.encodeAsBinary({type:t.type===X.EVENT?X.BINARY_EVENT:X.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===X.BINARY_EVENT||t.type===X.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=xf(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Gi(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ys extends Ae{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===X.BINARY_EVENT;r||n.type===X.BINARY_ACK?(n.type=r?X.EVENT:X.ACK,this.reconstructor=new kf(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Gs(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(X[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===X.BINARY_EVENT||r.type===X.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Ys.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case X.CONNECT:return Gi(n);case X.DISCONNECT:return n===void 0;case X.CONNECT_ERROR:return typeof n=="string"||Gi(n);case X.EVENT:case X.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Of.indexOf(n[0])===-1);case X.ACK:case X.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class kf{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Pf(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const If=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ys,Encoder:Rf,get PacketType(){return X},protocol:Cf},Symbol.toStringTag,{value:"Module"}));function Ye(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Lf=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Nl extends Ae{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ye(t,"open",this.onopen.bind(this)),Ye(t,"packet",this.onpacket.bind(this)),Ye(t,"error",this.onerror.bind(this)),Ye(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Lf.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:X.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,f=n.pop();this._registerAckCallback(a,f),r.id=a}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((s,o)=>{n.push((a,f)=>r?a?o(a):s(f):s(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...o)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:X.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case X.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case X.EVENT:case X.BINARY_EVENT:this.onevent(t);break;case X.ACK:case X.BINARY_ACK:this.onack(t);break;case X.DISCONNECT:this.ondisconnect();break;case X.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:X.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:X.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function cn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}cn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};cn.prototype.reset=function(){this.attempts=0};cn.prototype.setMin=function(e){this.ms=e};cn.prototype.setMax=function(e){this.max=e};cn.prototype.setJitter=function(e){this.jitter=e};class _s extends Ae{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Rr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new cn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||If;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ll(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Ye(n,"open",function(){r.onopen(),t&&t()}),o=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},a=Ye(n,"error",o);if(this._timeout!==!1){const f=this._timeout,c=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},f);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ye(t,"ping",this.onping.bind(this)),Ye(t,"data",this.ondata.bind(this)),Ye(t,"error",this.onerror.bind(this)),Ye(t,"close",this.onclose.bind(this)),Ye(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){zs(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Nl(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const pn={};function tr(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=wf(e,t.path||"/socket.io"),r=n.source,s=n.id,o=n.path,a=pn[s]&&o in pn[s].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let c;return f?c=new _s(r,t):(pn[s]||(pn[s]=new _s(r,t)),c=pn[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(tr,{Manager:_s,Socket:Nl,io:tr,connect:tr});class Bf{constructor(){ee(this,"socket")}setupSocketConnection(){this.socket||(this.socket=tr("https://solid-garden-397801.wl.r.appspot.com/"),this.socket.on("users",t=>this.usersUpdated(t)),this.socket.on("host",t=>this.hostUpdated(t)),this.socket.on("joined",t=>this.userJoined(t)),this.socket.on("left",t=>this.userLeft(t)),this.socket.on("synced",t=>this.userSynced(t)),this.socket.on("acted",t=>this.userActed(t)),this.socket.on("connect_error",t=>{we().error=`${Ie.error.invalid.online}${t.message}`}))}usersUpdated(t){console.log("usersUpdated",t);const n=we().multiplayer;n.users=t,n.local||(n.local=t[0],this.joinGame())}joinGame(){this.socket&&this.socket.emit("join",we().multiplayer.local)}hostUpdated(t){const n=we().multiplayer;n.host!==t&&(n.host=t,console.log("hostUpdated",t,n.isHostLocal()))}userJoined(t){const n=we().multiplayer;console.log("userJoined",t),t&&K.numberPlayers===n.users.length&&this.syncGame()}syncGame(){if(!this.socket)return;const t=we().multiplayer;if(!t.local)return;t.isHostLocal()&&we().pickFirstTurnPlayer();const n=we().createSetupPacket();n.h=t.host,this.socket.emit("sync",n)}isPlayerRemote(t){var r;return(r=we().playerForID(t))==null?void 0:r.remote}userLeft(t){console.log("userLeft",t);const n=we().multiplayer;n.users=n.users.filter(r=>r!==t)}userSynced(t){console.log("userSynced",t);const n=we().multiplayer;n.host=t.h,n.local&&setTimeout(()=>{!n.isHostLocal()&&we().players.length===1?we().loadSetupPacket(t):we().loadSetupPlayer(t)},K.defaultTimeout)}userActed(t){if(console.log("userActed",t),!this.isPlayerRemote(t.pID))return;const n=we();t.act===ct.Burn?n.burnOfferingWithID(t.oID):t.act===ct.Place?n.placeOfferingWithID(t.oID,t.lID,t.dir):t.act===ct.Reset?n.undoPlacements():t.act===ct.Palm&&n.palmOfferings()}burnOffering(t,n){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:ct.Burn,pID:t,oID:n})}placeOffering(t,n,r,s){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:ct.Place,pID:t,oID:n,lID:r,dir:s})}resetOfferings(t){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:ct.Reset,pID:t})}palmOfferings(t){!this.socket||this.isPlayerRemote(t)||this.socket.emit("act",{act:ct.Palm,pID:t})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}}const Yt=new Bf,Nf=999999999,we=Fu("game",{state:()=>({rotate:!1,altar:null,players:[],multiplayer:null,kitty:null,limbo:null,offerings:[],omens:[],turn:_e.None,burn:0,burners:[],error:""}),getters:{getAllPlaces({altar:e,players:t,kitty:n,limbo:r}){const s=[];return e&&s.push(...e.places),t&&t.forEach(o=>s.push(...o.places)),n&&s.push(n.place),r&&s.push(...r.places),s},getAltarOfferingPlaces({altar:e}){return(e==null?void 0:e.places.filter(t=>t.type==="offering"))||[]},getAltarOfferings({offerings:e}){return e.filter(t=>t.zone===te.Altar)},getUnlitAltarOfferings({offerings:e}){return e.filter(t=>t.zone===te.Altar&&!t.burning)},getAltarPortents(){const e=K.altarSize,t=[],n=this.getUnlitAltarOfferings;for(let o=1;o<=e;o++){const a=n.filter(c=>c.location.y===o);this.getMatchingTilesWithTiles(a,t);const f=n.filter(c=>c.location.x===o);this.getMatchingTilesWithTiles(f,t)}const r=n.filter(o=>o.location.x===o.location.y);this.getMatchingTilesWithTiles(r,t);const s=n.filter(o=>o.location.x+o.location.y===e+1);return this.getMatchingTilesWithTiles(s,t),t},getAltarPortentOfferings(){const e=[];return this.getAltarPortents.forEach(t=>e.push(...t)),e},getAltarActiveOmens(){const e=K.altarSize,t=[...this.omens.filter(o=>o.zone===te.Altar),...this.getAltarPortentOfferings],n=[];for(let o=1;o<=e;o++){const a=t.filter(c=>c.location.y===o);this.getActiveOmensForSet(a,n);const f=t.filter(c=>c.location.x===o);this.getActiveOmensForSet(f,n)}const r=t.filter(o=>o.location.x===o.location.y);this.getActiveOmensForSet(r,n);const s=t.filter(o=>o.location.x+o.location.y===e+1);return this.getActiveOmensForSet(s,n),n.filter(o=>o.type==="omen")},getActiveOmensForSet:()=>(e,t)=>{const n=e.filter(r=>r.type==="offering");return n.length>=K.setSize&&e.filter(s=>s.type==="omen").forEach(s=>{const o=[...n,s],a=o.map(c=>c.celestial).allEqual(),f=o.map(c=>c.sacrifice).allEqual();(a||f)&&o.forEach(c=>{t.includes(c)||t.push(c)})}),t},getPlayerOfferings({offerings:e}){return e.filter(t=>t.zone===te.Player)},getPlayerPortents({players:e}){const t=[];return e.forEach(n=>{const r=this.getPlayerOfferings.filter(s=>s.player===n.id);this.getMatchingTilesWithTiles(r,t)}),t},getMatchingTilesWithTiles:()=>(e,t)=>e.length!==K.setSize?[]:((e.map(n=>n.celestial).allEqual()||e.map(n=>n.sacrifice).allEqual())&&(t.includes(e)||t.push(e)),t),getSelectedOfferings(){return this.offerings.filter(e=>e.selected)},getBurningOfferings(){return this.offerings.filter(e=>e.burning)},getBurnableOfferings(){return this.turn!==_e.Start&&this.turn!==_e.Ignite?[]:this.burners.filter(e=>!e.burning)},getPlacedOfferings(){return this.turn!==_e.Replace?[]:this.getAltarOfferings.filter(e=>e.previous&&e.direction)},getEnabledOfferings(){return this.getCurrentPlayerTurn?this.turn===_e.Start?this.getAltarOfferings:this.turn===_e.Replace?this.getCurrentPlayerOfferings:this.turn===_e.Ignite?this.burners.filter(e=>!e.burning):[]:[]},getDisabledOfferings(){return this.offerings.filter(e=>{var r;const t=e.zone===te.Player&&this.getOfferingPlayer(e)!==this.getCurrentPlayer,n=e.zone===te.Player&&((r=this.getOfferingPlayer(e))==null?void 0:r.remote);return t||n})},getHeldOffering(){return this.offerings.find(e=>e.holding===!0)||null},getLimboOfferings(){return this.offerings.filter(e=>e.zone===te.Limbo)},getLeftDirectionEnabled(){if(this.turn!==_e.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==Y.None);return e?e.direction===Y.Left:!0},getRightDirectionEnabled(){if(this.turn!==_e.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==Y.None);return e?e.direction===Y.Right:!0},getUpDirectionEnabled(){if(this.turn!==_e.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==Y.None);return e?e.direction===Y.Up:!0},getDownDirectionEnabled(){if(this.turn!==_e.Replace)return!1;const e=this.getAltarOfferings.find(t=>t.direction!==Y.None);return e?e.direction===Y.Down:!0},getLocalPlayer({players:e}){return e.find(t=>t.remote===!1)||null},getRemotePlayer({players:e}){return e.find(t=>t.remote===!0)||null},getCurrentPlayer({players:e}){return e.find(t=>t.turn===!0)||null},getCurrentPlayerTurn({players:e}){return!!e.find(t=>t.turn===!0&&!t.remote)},getCurrentPlayerOfferings(){const e=this.getCurrentPlayer;return e&&!e.remote?this.offerings.filter(t=>t.player===e.id):[]},getNextPlayer:({players:e})=>t=>{let n=t?e.indexOf(t)+1:0;return n>=e.length&&(n=0),e[n]},getOfferingPlayer:({players:e})=>t=>e.find(n=>n.id===t.player)||null,getPlaceOffering:({offerings:e})=>t=>e.find(n=>n.isEqual(t))||null,getPlaceOmen:({omens:e})=>t=>e.find(n=>n.isEqual(t))||null,getPlayerFortunes:({omens:e})=>t=>{const n=[],r=e.filter(s=>s.zone===te.Player&&s.player===t);for(let s=1;s<ut.Count;s++){const o=r.filter(a=>a.celestial===s);o.length>=K.fortuneMinor&&n.push(o)}for(let s=1;s<An.Count;s++){const o=r.filter(a=>a.sacrifice===s);o.length>=K.fortuneMinor&&n.push(o)}return n},getPlayerWinner({players:e}){return this.getBurningOfferings.length===K.winningBurn?e.find(t=>t.turn)||null:e.find(t=>{const n=this.getPlayerFortunes(t.id);return!!n.find(s=>s.length===K.fortuneMajor)||n.length>=K.winningFortunes})||null},getTurnPhaseString({turn:e}){return e?Ie.phases[e]:""}},actions:{playerForID(e){return this.players.find(t=>t.id===e)||null},offeringForID(e){return this.offerings.find(t=>t.getID()===e)||null},omenForID(e){return this.omens.find(t=>t.getID()===e)||null},placeForID(e){return this.getAllPlaces.find(t=>t.getID()===e)||null},gameInit(){this.gameReset()},gameReset(){for(this.altar=this.createAltar(),this.players=this.createPlayers(),this.kitty=this.createKitty(),this.limbo=this.createLimbo(),this.offerings=this.createOfferings(),this.omens=this.createOmens(),this.turn=_e.None,this.burn=0,this.burners=[],this.error="";this.foreseeInitialPortents();)console.log("DEBUG:","gameReset - shuffling"),this.gameReset();this.altar.clearPlaces(),this.players.forEach(e=>e.clearPlaces())},playSolo(){this.gameClear(),this.error=Ie.error.invalid.solo},playOnline(){const e=Math.round(Math.random()*Nf);this.gameClear(),this.gameReset(),this.players=[],this.players.push(this.createPlayer(e)),this.multiplayer=this.createMultiplayer(),Yt.setupSocketConnection()},playHotseat(){this.gameClear(),this.gameReset(),this.pickFirstTurnPlayer(),this.pushGameView()},pushGameView(){this.$router.push("game")},gameStart(){setTimeout(()=>{let e=this.placeOmens(K.delayFactor);e=this.placeOfferings(e),e=this.dealHands(e),this.rewardKitty(e),this.burners=[...this.getAltarOfferings],this.turn=_e.Start},K.defaultTimeout)},gameEnd(){Yt.disconnect()},gameClear(){this.altar=null,this.players=[],this.multiplayer=null,this.kitty=null,this.limbo=null,this.offerings=[],this.omens=[],this.turn=_e.None,this.burn=0,this.burners=[],this.error=""},clearError(){this.error=""},createAltar(){const e=new $u;return e.setupPlaces(),e},createPlayer(e){const t=new En(e);return t.setupPlaces(),t},createPlayers(){const e=[];for(let t=1;t<=K.numberPlayers;t++)e.push(this.createPlayer(t));return e},createMultiplayer(){return new qu},createKitty(){return new Hu},createLimbo(){const e=new Vu;return e.setupPlaces(),e},createOfferings(){const e=[];for(let t=1;t<ut.Count;t++)for(let n=1;n<An.Count;n++)e.push(new cr(t,n));return e.shuffle()},createOmens(){const e=[];for(let t=1;t<ut.Count;t++)for(let n=1;n<An.Count;n++)e.push(new ur(t,n));return e.shuffle()},createSetupPacket(){const e=new Uu;return e.p=this.encodeObject(this.players.map(t=>t.encoded())),e.f=this.encodeObject(this.offerings.map(t=>t.encoded())),e.m=this.encodeObject(this.omens.map(t=>t.encoded())),e.t=this.turn,e},encodeObject(e){const t=JSON.stringify(e);return btoa(t)},loadSetupPacket(e){this.offerings=[],this.omens=[],this.turn=e.t,je(()=>{this.decodeObject(e.p).forEach(n=>{const r=this.players.find(s=>s.id===n.i)||null;r?r.turn=n.t:this.players.push(En.load(n))}),this.players.length===K.numberPlayers&&!this.getCurrentPlayer&&this.getLocalPlayer&&(this.getLocalPlayer.turn=!0),this.decodeObject(e.m).forEach(n=>this.omens.push(ur.load(n))),this.decodeObject(e.f).forEach(n=>this.offerings.push(cr.load(n))),je(()=>this.pushGameView())})},loadSetupPlayer(e){je(()=>{this.decodeObject(e.p).forEach(t=>{const n=this.players.find(r=>r.id===t.i)||null;n?n.turn=t.t:this.players.push(En.load(t))}),this.players.length===K.numberPlayers&&!this.getCurrentPlayer&&this.getRemotePlayer&&(this.getRemotePlayer.turn=!0),je(()=>this.pushGameView())})},decodeObject(e){if(!e)return"";const t=atob(e);return JSON.parse(t)},foreseeInitialPortents(){let e=null;return this.offerings.forEach(t=>{if(!this.altar)return;let n=this.altar.getOpenPlace("offering");!n&&(e=this.getNextPlayer(e),n=e.getOpenPlace("offering"),!n)||this.updateTileForPlace(t,n)}),this.getAltarPortents.length>0||this.getPlayerPortents.length>0},placeOmens(e){let t=e;return this.omens.forEach(n=>{if(!this.altar)return;const r=this.altar.getOpenPlace("omen");r&&(this.sendTileToPlace(n,r,t),t+=K.delayFactor)}),t},placeOfferings(e){let t=e;return this.offerings.forEach(n=>{if(!this.altar)return;const r=this.altar.getOpenPlace("offering");r&&(this.sendTileToPlace(n,r,t),t+=K.delayFactor)}),t},dealHands(e){let t=e,n=this.getCurrentPlayer;return this.offerings.forEach(r=>{if(r.zone===te.Altar)return;n=this.getNextPlayer(n);const s=n.getOpenPlace("offering");s&&(t+=K.delayFactor,this.sendTileToPlace(r,s,t))}),t},rewardKitty(e){const t=this.offerings.find(r=>r.zone===te.None);if(!t)return;const n=new Pt("offering",te.Kitty,new be(1,1),0);this.sendTileToPlace(t,n,e)},sendTileToPlace(e,t,n,r=!1){const s=document.getElementById(e.getID()),o=be.centerCoordForObjectWithID(t.getID());if(!s||!o)return;this.updateTileForPlace(e,t);const a=r?0:K.gameSpeed;r?n=0:this.playTileSendSound(n),this.animateElementToPlace(s,t,a,n)},playTileSendSound(e){setTimeout(()=>{this.playSound("deal")},e*1e3)},animateElementToPlace(e,t,n,r){const s=be.centerCoordForObjectWithID(t.getID()),o=this.tileScaleForZone(t.zone,t.player);e.style.transition=`top ${n}s ease-out ${r}s, left ${n}s ease-out ${r}s, transform ${n}s ease-out ${r}s`,e.style.top=`${s.y-e.offsetHeight/2}px`,e.style.left=`${s.x-e.offsetWidth/2}px`,e.style.transform=`scale(${o})`,e.classList.add("flying");const a=(n+r)*1e3;setTimeout(()=>{e.classList.remove("flying")},a)},tileScaleForZone(e,t){var r;const n=t!==((r=this.getCurrentPlayer)==null?void 0:r.id);switch(e){case te.Altar:return 1;case te.Kitty:return .6;case te.Limbo:return .9;case te.Player:return n?.8:1;default:return 1}},updateTileForPlace(e,t){t.filled=!0,e.previous||(e.previous=e.location),e.location=t.location,e.zone=t.zone,e.player=t.player,e.selected=!1,this.flushEmptyOfferingPlaces()},flushEmptyOfferingPlaces(){this.getAllPlaces.forEach(e=>{e.type==="offering"&&!this.getPlaceOffering(e)&&(e.filled=!1)})},fixAllTilePlaces(e=!1,t=!0){let n=K.delayFactor;this.getAllPlaces.forEach(r=>{const s=this.getPlaceOffering(r);s&&this.sendTileToPlace(s,r,n,e);const o=this.getPlaceOmen(r);o&&this.sendTileToPlace(o,r,n,e),t&&(s||o)&&(n+=K.delayFactor)})},pickFirstTurnPlayer(){const e=Math.random()<.5;this.players[0].turn=e,this.players.length>1&&(this.players[1].turn=!e)},selectOffering(e){this.getEnabledOfferings.includes(e)&&(this.turn===_e.Start||this.turn===_e.Ignite)&&this.burnOffering(e)},burnOfferingWithID(e){const t=this.offeringForID(e);t&&this.burnOffering(t)},burnOffering(e){var t;Yt.burnOffering(((t=this.getCurrentPlayer)==null?void 0:t.id)||0,e.getID()),e.burning=!0,this.burn=Math.max(0,this.burn-1),this.turn===_e.Start?(this.turn=_e.Ignite,this.nextTurnPhase()):this.checkDoneBurningOfferings()},checkPalmPortentValidity(){const e=this.getCurrentPlayerOfferings.filter(n=>!n.selected),t=this.offerings.filter(n=>n.zone===te.Limbo);return e.push(...t),e.map(n=>n.celestial).allEqual()||e.map(n=>n.sacrifice).allEqual()?(this.error=Ie.error.invalid.hand,!1):!0},pushDirectionValid(e){const t=this.getAltarOfferings.find(n=>n.direction!==Y.None);return t?t.direction===e:!0},pushOfferingAtPlaceWithID(e,t){const n=this.getAllPlaces.find(r=>r.getID()===e)||null;n&&this.pushOfferingAtPlace(n,t)},pushOfferingAtPlace(e,t){if(!this.pushDirectionValid(t))return;const n=this.getPlaceOffering(e);n&&!n.pushed&&this.isEdgeTileForDirection(n,t)&&(this.pushOffering(n,t),e.filled=!1)},pushOffering(e,t){if(e.burning&&this.isEdgeTileForDirection(e,t,!0))return!1;const n=this.adjacentOfferingForDirection(e,t);if(n&&!this.pushOffering(n,t))return!1;const r=document.getElementById(`${e.getID()}`);if(!r)return!1;const s=t===Y.Left?-1:t===Y.Right?1:0,o=t===Y.Up?-1:t===Y.Down?1:0;return r.style.transitionDelay="0s",r.style.transitionDuration=".1s",r.style.transform=`translate(${100*s}%, ${100*o}%)`,e.pushed=t,!0},isEdgeTileForDirection(e,t,n=!1){const s=K.altarSize-1;return t===Y.Down&&e.location.y===(n?s:2)||t===Y.Up&&e.location.y===(n?2:s)||t===Y.Right&&e.location.x===(n?s:2)||t===Y.Left&&e.location.x===(n?2:s)},adjacentOfferingForDirection(e,t){const n=this.getAltarOfferings,r=e.location;switch(t){case Y.Up:return n.find(s=>s.location.x===r.x&&s.location.y===r.y-1);case Y.Down:return n.find(s=>s.location.x===r.x&&s.location.y===r.y+1);case Y.Left:return n.find(s=>s.location.x===r.x-1&&s.location.y===r.y);case Y.Right:return n.find(s=>s.location.x===r.x+1&&s.location.y===r.y);case Y.None:return}},resetOfferings(){var e;this.offerings.filter(t=>t.zone===te.Altar).forEach(t=>{const n=document.getElementById(`${t.getID()}`);n&&(n.style.transform="translate(0, 0)",t.pushed=Y.None)}),(e=this.altar)==null||e.places.filter(t=>t.type==="offering").forEach(t=>t.filled=!0)},placeOfferingWithID(e,t,n){const r=this.offeringForID(e),s=this.placeForID(t);r&&s&&(this.pushOfferingAtPlaceWithID(s.getID(),n),this.dropOfferingOnPlace(r,s,n))},dropOffering(e){var r;const t=this.getHeldOffering,n=(r=this.getAltarOfferings.find(s=>s.pushed!==Y.None))==null?void 0:r.pushed;t&&n&&this.dropOfferingOnPlace(t,e,n)},dropOfferingOnPlace(e,t,n){var r;t.type!=="offering"||t.filled||(Yt.placeOffering(((r=this.getCurrentPlayer)==null?void 0:r.id)||0,e.getID(),t.getID(),n),this.sendTileToPlace(e,t,0,!0),this.updatePushedOfferings(),this.resetOfferingPushStatus())},updatePushedOfferings(){this.offerings.forEach(e=>{if(e.pushed!==Y.None){let t=null;if(e.pushed===Y.Up&&(t=this.findPlaceAtLocation(e.location.x,e.location.y-1)),e.pushed===Y.Down&&(t=this.findPlaceAtLocation(e.location.x,e.location.y+1)),e.pushed===Y.Left&&(t=this.findPlaceAtLocation(e.location.x-1,e.location.y)),e.pushed===Y.Right&&(t=this.findPlaceAtLocation(e.location.x+1,e.location.y)),t)this.sendTileToPlace(e,t,0,!0);else if(this.limbo){const n=this.limbo.getOpenPlace()||null;n&&this.sendTileToPlace(e,n,0)}}})},resetOfferingPushStatus(){this.offerings.forEach(e=>e.pushed=Y.None)},findPlaceAtLocation(e,t){return this.getAllPlaces.filter(n=>n.zone===te.Altar&&n.type==="offering").find(n=>n.location.x===e&&n.location.y===t)||null},undoPlacements(){var e;Yt.resetOfferings(((e=this.getCurrentPlayer)==null?void 0:e.id)||0),this.offerings.forEach(t=>{var r,s;if(t.zone===te.Kitty||t.player&&t.player!==((r=this.getCurrentPlayer)==null?void 0:r.id)||!t.previous)return;let n=this.getAltarOfferingPlaces.find(o=>{var a,f;return o.location.x===((a=t.previous)==null?void 0:a.x)&&o.location.y===((f=t.previous)==null?void 0:f.y)})||null;n||(n=((s=this.getCurrentPlayer)==null?void 0:s.places.find(o=>{var a,f;return o.location.x===((a=t.previous)==null?void 0:a.x)&&o.location.y===((f=t.previous)==null?void 0:f.y)}))||null),n&&this.sendTileToPlace(t,n,0)}),this.clearOfferingSettings()},clearOfferingSettings(){this.offerings.forEach(e=>{e.previous=null,e.holding=!1,e.overlaps=!1,e.pushed=Y.None,e.direction=Y.None})},palmOfferings(){var r;Yt.palmOfferings(((r=this.getCurrentPlayer)==null?void 0:r.id)||0);let e=K.delayFactor;const t=this.getCurrentPlayer;this.offerings.forEach(s=>{if(s.zone!==te.Limbo||!t)return;const o=t.getOpenPlace("offering");o&&(e+=K.delayFactor,s.pushed=Y.None,this.sendTileToPlace(s,o,e))});const n=K.defaultTimeout+e*100;setTimeout(()=>{this.collectOmens(),this.setupBurnerOfferings(),this.checkDoneBurningOfferings(),this.nextTurnPhase()},n)},setupBurnerOfferings(){this.burn=this.getAltarPortents.length,this.burners=[...this.getAltarPortentOfferings]},collectOmens(){this.getAltarActiveOmens.forEach(e=>this.collectOmen(e))},collectOmen(e){const t=this.getCurrentPlayer;if(!t)return;const n=t.getOpenPlace("omen");n&&this.sendTileToPlace(e,n,0)},checkDoneBurningOfferings(){if(this.setupBurnerOfferings(),!this.burn){const e=[...this.getBurningOfferings];e.forEach(t=>t.burning=!1),e.forEach(t=>{this.getAltarPortentOfferings.includes(t)&&(t.burning=!0)}),this.burners=[],this.nextTurnPhase()}},nextTurnPhase(){this.turn++,this.turn===_e.Swap&&this.nextPlayerTurn()},nextPlayerTurn(){this.clearOfferingSettings();const e=this.players.find(t=>!t.turn);this.players.forEach(t=>t.turn=!1),setTimeout(()=>{e.turn=!0,setTimeout(()=>{this.fixAllTilePlaces(!0),this.turn=_e.Replace},K.defaultTimeout)},K.defaultTimeout)},openSettings(){this.error=Ie.error.invalid.settings},playSound(e){new wl.Howl({src:[new URL(Object.assign({"../assets/sounds/deal.mp3":Du})[`../assets/sounds/${e}.mp3`],import.meta.url).href]}).play()}}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Jt=typeof window<"u";function Mf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ae=Object.assign;function zr(e,t){const n={};for(const r in t){const s=t[r];n[r]=Qe(s)?s.map(e):e(s)}return n}const Sn=()=>{},Qe=Array.isArray,Ff=/\/$/,Df=e=>e.replace(Ff,"");function Gr(e,t,n="/"){let r,s={},o="",a="";const f=t.indexOf("#");let c=t.indexOf("?");return f<c&&f>=0&&(c=-1),c>-1&&(r=t.slice(0,c),o=t.slice(c+1,f>-1?f:t.length),s=e(o)),f>-1&&(r=r||t.slice(0,f),a=t.slice(f,t.length)),r=qf(r??t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:s,hash:a}}function $f(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Yi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Hf(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&sn(t.matched[r],n.matched[s])&&Ml(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ml(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Vf(e[n],t[n]))return!1;return!0}function Vf(e,t){return Qe(e)?Xi(e,t):Qe(t)?Xi(t,e):e===t}function Xi(e,t){return Qe(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function qf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,a,f;for(a=0;a<r.length;a++)if(f=r[a],f!==".")if(f==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var In;(function(e){e.pop="pop",e.push="push"})(In||(In={}));var Tn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Tn||(Tn={}));function Uf(e){if(!e)if(Jt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Df(e)}const Wf=/^[^#]+#/;function jf(e,t){return e.replace(Wf,"#")+t}function Kf(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const kr=()=>({left:window.pageXOffset,top:window.pageYOffset});function zf(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Kf(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Ji(e,t){return(history.state?history.state.position-t:-1)+e}const ys=new Map;function Gf(e,t){ys.set(e,t)}function Yf(e){const t=ys.get(e);return ys.delete(e),t}let Xf=()=>location.protocol+"//"+location.host;function Fl(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let f=s.includes(e.slice(o))?e.slice(o).length:1,c=s.slice(f);return c[0]!=="/"&&(c="/"+c),Yi(c,"")}return Yi(n,e)+r+s}function Jf(e,t,n,r){let s=[],o=[],a=null;const f=({state:l})=>{const u=Fl(e,location),g=n.value,y=t.value;let v=0;if(l){if(n.value=u,t.value=l,a&&a===g){a=null;return}v=y?l.position-y.position:0}else r(u);s.forEach(_=>{_(n.value,g,{delta:v,type:In.pop,direction:v?v>0?Tn.forward:Tn.back:Tn.unknown})})};function c(){a=n.value}function h(l){s.push(l);const u=()=>{const g=s.indexOf(l);g>-1&&s.splice(g,1)};return o.push(u),u}function d(){const{history:l}=window;l.state&&l.replaceState(ae({},l.state,{scroll:kr()}),"")}function i(){for(const l of o)l();o=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:h,destroy:i}}function Qi(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?kr():null}}function Qf(e){const{history:t,location:n}=window,r={value:Fl(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,h,d){const i=e.indexOf("#"),l=i>-1?(n.host&&document.querySelector("base")?e:e.slice(i))+c:Xf()+e+c;try{t[d?"replaceState":"pushState"](h,"",l),s.value=h}catch(u){console.error(u),n[d?"replace":"assign"](l)}}function a(c,h){const d=ae({},t.state,Qi(s.value.back,c,s.value.forward,!0),h,{position:s.value.position});o(c,d,!0),r.value=c}function f(c,h){const d=ae({},s.value,t.state,{forward:c,scroll:kr()});o(d.current,d,!0);const i=ae({},Qi(r.value,c,null),{position:d.position+1},h);o(c,i,!1),r.value=c}return{location:r,state:s,push:f,replace:a}}function Zf(e){e=Uf(e);const t=Qf(e),n=Jf(e,t.state,t.location,t.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const s=ae({location:"",base:e,go:r,createHref:jf.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function eh(e){return typeof e=="string"||e&&typeof e=="object"}function Dl(e){return typeof e=="string"||typeof e=="symbol"}const bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$l=Symbol("");var Zi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Zi||(Zi={}));function on(e,t){return ae(new Error,{type:e,[$l]:!0},t)}function at(e,t){return e instanceof Error&&$l in e&&(t==null||!!(e.type&t))}const eo="[^/]+?",th={sensitive:!1,strict:!1,start:!0,end:!0},nh=/[.+*?^${}()[\]/\\]/g;function rh(e,t){const n=ae({},th,t),r=[];let s=n.start?"^":"";const o=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let i=0;i<h.length;i++){const l=h[i];let u=40+(n.sensitive?.25:0);if(l.type===0)i||(s+="/"),s+=l.value.replace(nh,"\\$&"),u+=40;else if(l.type===1){const{value:g,repeatable:y,optional:v,regexp:_}=l;o.push({name:g,repeatable:y,optional:v});const E=_||eo;if(E!==eo){u+=10;try{new RegExp(`(${E})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${g}" (${E}): `+F.message)}}let O=y?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;i||(O=v&&h.length<2?`(?:/${O})`:"/"+O),v&&(O+="?"),s+=O,u+=20,v&&(u+=-8),y&&(u+=-20),E===".*"&&(u+=-50)}d.push(u)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function f(h){const d=h.match(a),i={};if(!d)return null;for(let l=1;l<d.length;l++){const u=d[l]||"",g=o[l-1];i[g.name]=u&&g.repeatable?u.split("/"):u}return i}function c(h){let d="",i=!1;for(const l of e){(!i||!d.endsWith("/"))&&(d+="/"),i=!1;for(const u of l)if(u.type===0)d+=u.value;else if(u.type===1){const{value:g,repeatable:y,optional:v}=u,_=g in h?h[g]:"";if(Qe(_)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const E=Qe(_)?_.join("/"):_;if(!E)if(v)l.length<2&&(d.endsWith("/")?d=d.slice(0,-1):i=!0);else throw new Error(`Missing required param "${g}"`);d+=E}}return d||"/"}return{re:a,score:r,keys:o,parse:f,stringify:c}}function sh(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ih(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=sh(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(to(r))return 1;if(to(s))return-1}return s.length-r.length}function to(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const oh={type:0,value:""},lh=/[a-zA-Z0-9_]/;function ah(e){if(!e)return[[]];if(e==="/")return[[oh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(u){throw new Error(`ERR (${n})/"${h}": ${u}`)}let n=0,r=n;const s=[];let o;function a(){o&&s.push(o),o=[]}let f=0,c,h="",d="";function i(){h&&(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function l(){h+=c}for(;f<e.length;){if(c=e[f++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(h&&i(),a()):c===":"?(i(),n=1):l();break;case 4:l(),n=r;break;case 1:c==="("?n=2:lh.test(c)?l():(i(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&f--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=3:d+=c;break;case 3:i(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&f--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),i(),a(),s}function ch(e,t,n){const r=rh(ah(e.path),n),s=ae(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function uh(e,t){const n=[],r=new Map;t=so({strict:!1,end:!0,sensitive:!1},t);function s(d){return r.get(d)}function o(d,i,l){const u=!l,g=fh(d);g.aliasOf=l&&l.record;const y=so(t,d),v=[g];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const F of O)v.push(ae({},g,{components:l?l.record.components:g.components,path:F,aliasOf:l?l.record:g}))}let _,E;for(const O of v){const{path:F}=O;if(i&&F[0]!=="/"){const V=i.record.path,$=V[V.length-1]==="/"?"":"/";O.path=i.record.path+(F&&$+F)}if(_=ch(O,i,y),l?l.alias.push(_):(E=E||_,E!==_&&E.alias.push(_),u&&d.name&&!ro(_)&&a(d.name)),g.children){const V=g.children;for(let $=0;$<V.length;$++)o(V[$],_,l&&l.children[$])}l=l||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&c(_)}return E?()=>{a(E)}:Sn}function a(d){if(Dl(d)){const i=r.get(d);i&&(r.delete(d),n.splice(n.indexOf(i),1),i.children.forEach(a),i.alias.forEach(a))}else{const i=n.indexOf(d);i>-1&&(n.splice(i,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function f(){return n}function c(d){let i=0;for(;i<n.length&&ih(d,n[i])>=0&&(d.record.path!==n[i].record.path||!Hl(d,n[i]));)i++;n.splice(i,0,d),d.record.name&&!ro(d)&&r.set(d.record.name,d)}function h(d,i){let l,u={},g,y;if("name"in d&&d.name){if(l=r.get(d.name),!l)throw on(1,{location:d});y=l.record.name,u=ae(no(i.params,l.keys.filter(E=>!E.optional).map(E=>E.name)),d.params&&no(d.params,l.keys.map(E=>E.name))),g=l.stringify(u)}else if("path"in d)g=d.path,l=n.find(E=>E.re.test(g)),l&&(u=l.parse(g),y=l.record.name);else{if(l=i.name?r.get(i.name):n.find(E=>E.re.test(i.path)),!l)throw on(1,{location:d,currentLocation:i});y=l.record.name,u=ae({},i.params,d.params),g=l.stringify(u)}const v=[];let _=l;for(;_;)v.unshift(_.record),_=_.parent;return{name:y,path:g,params:u,matched:v,meta:dh(v)}}return e.forEach(d=>o(d)),{addRoute:o,resolve:h,removeRoute:a,getRoutes:f,getRecordMatcher:s}}function no(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function fh(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:hh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function hh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function ro(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function dh(e){return e.reduce((t,n)=>ae(t,n.meta),{})}function so(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Hl(e,t){return t.children.some(n=>n===e||Hl(e,n))}const Vl=/#/g,ph=/&/g,gh=/\//g,mh=/=/g,_h=/\?/g,ql=/\+/g,yh=/%5B/g,vh=/%5D/g,Ul=/%5E/g,bh=/%60/g,Wl=/%7B/g,wh=/%7C/g,jl=/%7D/g,Ah=/%20/g;function Xs(e){return encodeURI(""+e).replace(wh,"|").replace(yh,"[").replace(vh,"]")}function Eh(e){return Xs(e).replace(Wl,"{").replace(jl,"}").replace(Ul,"^")}function vs(e){return Xs(e).replace(ql,"%2B").replace(Ah,"+").replace(Vl,"%23").replace(ph,"%26").replace(bh,"`").replace(Wl,"{").replace(jl,"}").replace(Ul,"^")}function Sh(e){return vs(e).replace(mh,"%3D")}function Th(e){return Xs(e).replace(Vl,"%23").replace(_h,"%3F")}function xh(e){return e==null?"":Th(e).replace(gh,"%2F")}function fr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Ph(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(ql," "),a=o.indexOf("="),f=fr(a<0?o:o.slice(0,a)),c=a<0?null:fr(o.slice(a+1));if(f in t){let h=t[f];Qe(h)||(h=t[f]=[h]),h.push(c)}else t[f]=c}return t}function io(e){let t="";for(let n in e){const r=e[n];if(n=Sh(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Qe(r)?r.map(o=>o&&vs(o)):[r&&vs(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function Oh(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Qe(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Ch=Symbol(""),oo=Symbol(""),Ir=Symbol(""),Kl=Symbol(""),bs=Symbol("");function gn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function xt(e,t,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,f)=>{const c=i=>{i===!1?f(on(4,{from:n,to:t})):i instanceof Error?f(i):eh(i)?f(on(2,{from:t,to:i})):(o&&r.enterCallbacks[s]===o&&typeof i=="function"&&o.push(i),a())},h=e.call(r&&r.instances[s],t,n,c);let d=Promise.resolve(h);e.length<3&&(d=d.then(c)),d.catch(i=>f(i))})}function Yr(e,t,n,r){const s=[];for(const o of e)for(const a in o.components){let f=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Rh(f)){const h=(f.__vccOpts||f)[t];h&&s.push(xt(h,n,r,o,a))}else{let c=f();s.push(()=>c.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=Mf(h)?h.default:h;o.components[a]=d;const l=(d.__vccOpts||d)[t];return l&&xt(l,n,r,o,a)()}))}}return s}function Rh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function lo(e){const t=Je(Ir),n=Je(Kl),r=He(()=>t.resolve(fe(e.to))),s=He(()=>{const{matched:c}=r.value,{length:h}=c,d=c[h-1],i=n.matched;if(!d||!i.length)return-1;const l=i.findIndex(sn.bind(null,d));if(l>-1)return l;const u=ao(c[h-2]);return h>1&&ao(d)===u&&i[i.length-1].path!==u?i.findIndex(sn.bind(null,c[h-2])):l}),o=He(()=>s.value>-1&&Bh(n.params,r.value.params)),a=He(()=>s.value>-1&&s.value===n.matched.length-1&&Ml(n.params,r.value.params));function f(c={}){return Lh(c)?t[fe(e.replace)?"replace":"push"](fe(e.to)).catch(Sn):Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:o,isExactActive:a,navigate:f}}const kh=ot({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lo,setup(e,{slots:t}){const n=Ln(lo(e)),{options:r}=Je(Ir),s=He(()=>({[co(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[co(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:$s("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Ih=kh;function Lh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Bh(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Qe(s)||s.length!==r.length||r.some((o,a)=>o!==s[a]))return!1}return!0}function ao(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const co=(e,t,n)=>e??t??n,Nh=ot({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Je(bs),s=He(()=>e.route||r.value),o=Je(oo,0),a=He(()=>{let h=fe(o);const{matched:d}=s.value;let i;for(;(i=d[h])&&!i.components;)h++;return h}),f=He(()=>s.value.matched[a.value]);Jn(oo,He(()=>a.value+1)),Jn(Ch,f),Jn(bs,s);const c=pt();return dt(()=>[c.value,f.value,e.name],([h,d,i],[l,u,g])=>{d&&(d.instances[i]=h,u&&u!==d&&h&&h===l&&(d.leaveGuards.size||(d.leaveGuards=u.leaveGuards),d.updateGuards.size||(d.updateGuards=u.updateGuards))),h&&d&&(!u||!sn(d,u)||!l)&&(d.enterCallbacks[i]||[]).forEach(y=>y(h))},{flush:"post"}),()=>{const h=s.value,d=e.name,i=f.value,l=i&&i.components[d];if(!l)return uo(n.default,{Component:l,route:h});const u=i.props[d],g=u?u===!0?h.params:typeof u=="function"?u(h):u:null,v=$s(l,ae({},g,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(i.instances[d]=null)},ref:c}));return uo(n.default,{Component:v,route:h})||v}}});function uo(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const zl=Nh;function Mh(e){const t=uh(e.routes,e),n=e.parseQuery||Ph,r=e.stringifyQuery||io,s=e.history,o=gn(),a=gn(),f=gn(),c=Ma(bt);let h=bt;Jt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=zr.bind(null,A=>""+A),i=zr.bind(null,xh),l=zr.bind(null,fr);function u(A,B){let k,D;return Dl(A)?(k=t.getRecordMatcher(A),D=B):D=A,t.addRoute(D,k)}function g(A){const B=t.getRecordMatcher(A);B&&t.removeRoute(B)}function y(){return t.getRoutes().map(A=>A.record)}function v(A){return!!t.getRecordMatcher(A)}function _(A,B){if(B=ae({},B||c.value),typeof A=="string"){const m=Gr(n,A,B.path),b=t.resolve({path:m.path},B),S=s.createHref(m.fullPath);return ae(m,b,{params:l(b.params),hash:fr(m.hash),redirectedFrom:void 0,href:S})}let k;if("path"in A)k=ae({},A,{path:Gr(n,A.path,B.path).path});else{const m=ae({},A.params);for(const b in m)m[b]==null&&delete m[b];k=ae({},A,{params:i(m)}),B.params=i(B.params)}const D=t.resolve(k,B),oe=A.hash||"";D.params=d(l(D.params));const ge=$f(r,ae({},A,{hash:Eh(oe),path:D.path})),p=s.createHref(ge);return ae({fullPath:ge,hash:oe,query:r===io?Oh(A.query):A.query||{}},D,{redirectedFrom:void 0,href:p})}function E(A){return typeof A=="string"?Gr(n,A,c.value.path):ae({},A)}function O(A,B){if(h!==A)return on(8,{from:B,to:A})}function F(A){return re(A)}function V(A){return F(ae(E(A),{replace:!0}))}function $(A){const B=A.matched[A.matched.length-1];if(B&&B.redirect){const{redirect:k}=B;let D=typeof k=="function"?k(A):k;return typeof D=="string"&&(D=D.includes("?")||D.includes("#")?D=E(D):{path:D},D.params={}),ae({query:A.query,hash:A.hash,params:"path"in D?{}:A.params},D)}}function re(A,B){const k=h=_(A),D=c.value,oe=A.state,ge=A.force,p=A.replace===!0,m=$(k);if(m)return re(ae(E(m),{state:typeof m=="object"?ae({},oe,m.state):oe,force:ge,replace:p}),B||k);const b=k;b.redirectedFrom=B;let S;return!ge&&Hf(r,D,k)&&(S=on(16,{to:b,from:D}),Ze(D,D,!0,!1)),(S?Promise.resolve(S):j(b,D)).catch(w=>at(w)?at(w,2)?w:mt(w):ie(w,b,D)).then(w=>{if(w){if(at(w,2))return re(ae({replace:p},E(w.to),{state:typeof w.to=="object"?ae({},oe,w.to.state):oe,force:ge}),B||b)}else w=M(b,D,!0,p,oe);return se(b,D,w),w})}function L(A,B){const k=O(A,B);return k?Promise.reject(k):Promise.resolve()}function R(A){const B=Kt.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(A):A()}function j(A,B){let k;const[D,oe,ge]=Fh(A,B);k=Yr(D.reverse(),"beforeRouteLeave",A,B);for(const m of D)m.leaveGuards.forEach(b=>{k.push(xt(b,A,B))});const p=L.bind(null,A,B);return k.push(p),Ce(k).then(()=>{k=[];for(const m of o.list())k.push(xt(m,A,B));return k.push(p),Ce(k)}).then(()=>{k=Yr(oe,"beforeRouteUpdate",A,B);for(const m of oe)m.updateGuards.forEach(b=>{k.push(xt(b,A,B))});return k.push(p),Ce(k)}).then(()=>{k=[];for(const m of ge)if(m.beforeEnter)if(Qe(m.beforeEnter))for(const b of m.beforeEnter)k.push(xt(b,A,B));else k.push(xt(m.beforeEnter,A,B));return k.push(p),Ce(k)}).then(()=>(A.matched.forEach(m=>m.enterCallbacks={}),k=Yr(ge,"beforeRouteEnter",A,B),k.push(p),Ce(k))).then(()=>{k=[];for(const m of a.list())k.push(xt(m,A,B));return k.push(p),Ce(k)}).catch(m=>at(m,8)?m:Promise.reject(m))}function se(A,B,k){f.list().forEach(D=>R(()=>D(A,B,k)))}function M(A,B,k,D,oe){const ge=O(A,B);if(ge)return ge;const p=B===bt,m=Jt?history.state:{};k&&(D||p?s.replace(A.fullPath,ae({scroll:p&&m&&m.scroll},oe)):s.push(A.fullPath,oe)),c.value=A,Ze(A,B,k,p),mt()}let Q;function pe(){Q||(Q=s.listen((A,B,k)=>{if(!Fn.listening)return;const D=_(A),oe=$(D);if(oe){re(ae(oe,{replace:!0}),D).catch(Sn);return}h=D;const ge=c.value;Jt&&Gf(Ji(ge.fullPath,k.delta),kr()),j(D,ge).catch(p=>at(p,12)?p:at(p,2)?(re(p.to,D).then(m=>{at(m,20)&&!k.delta&&k.type===In.pop&&s.go(-1,!1)}).catch(Sn),Promise.reject()):(k.delta&&s.go(-k.delta,!1),ie(p,D,ge))).then(p=>{p=p||M(D,ge,!1),p&&(k.delta&&!at(p,8)?s.go(-k.delta,!1):k.type===In.pop&&at(p,20)&&s.go(-1,!1)),se(D,ge,p)}).catch(Sn)}))}let Pe=gn(),Z=gn(),ce;function ie(A,B,k){mt(A);const D=Z.list();return D.length?D.forEach(oe=>oe(A,B,k)):console.error(A),Promise.reject(A)}function lt(){return ce&&c.value!==bt?Promise.resolve():new Promise((A,B)=>{Pe.add([A,B])})}function mt(A){return ce||(ce=!A,pe(),Pe.list().forEach(([B,k])=>A?k(A):B()),Pe.reset()),A}function Ze(A,B,k,D){const{scrollBehavior:oe}=e;if(!Jt||!oe)return Promise.resolve();const ge=!k&&Yf(Ji(A.fullPath,0))||(D||!k)&&history.state&&history.state.scroll||null;return je().then(()=>oe(A,B,ge)).then(p=>p&&zf(p)).catch(p=>ie(p,A,B))}const Le=A=>s.go(A);let jt;const Kt=new Set,Fn={currentRoute:c,listening:!0,addRoute:u,removeRoute:g,hasRoute:v,getRoutes:y,resolve:_,options:e,push:F,replace:V,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:o.add,beforeResolve:a.add,afterEach:f.add,onError:Z.add,isReady:lt,install(A){const B=this;A.component("RouterLink",Ih),A.component("RouterView",zl),A.config.globalProperties.$router=B,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>fe(c)}),Jt&&!jt&&c.value===bt&&(jt=!0,F(s.location).catch(oe=>{}));const k={};for(const oe in bt)Object.defineProperty(k,oe,{get:()=>c.value[oe],enumerable:!0});A.provide(Ir,B),A.provide(Kl,Mo(k)),A.provide(bs,c);const D=A.unmount;Kt.add(A),A.unmount=function(){Kt.delete(A),Kt.size<1&&(h=bt,Q&&Q(),Q=null,c.value=bt,jt=!1,ce=!1),D()}}};function Ce(A){return A.reduce((B,k)=>B.then(()=>R(k)),Promise.resolve())}return Fn}function Fh(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const f=t.matched[a];f&&(e.matched.find(h=>sn(h,f))?r.push(f):n.push(f));const c=e.matched[a];c&&(t.matched.find(h=>sn(h,c))||s.push(c))}return[n,r,s]}function Rd(){return Je(Ir)}const Dh={props:{show:{type:Boolean,default:!1},backdrop:{type:Boolean,default:!1},solid:{type:Boolean,default:!1},closable:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}},$h="/assets/close-kXDe8dfL.svg",Lr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Hh=e=>(br("data-v-32957742"),e=e(),wr(),e),Vh={class:"modal flex-column-center padded shadowed"},qh=Hh(()=>le("img",{src:$h,alt:"close"},null,-1)),Uh=[qh];function Wh(e,t,n,r,s,o){return Me(),It(Hs,{name:"zoom"},{default:Wt(()=>[ic(le("div",{class:gr(["modal-overlay flex-column-center",n.solid?"solid":""])},[n.backdrop?(Me(),rn("div",{key:0,class:"backdrop full-size",onClick:t[0]||(t[0]=(...a)=>o.close&&o.close(...a))})):ls("",!0),le("div",Vh,[n.closable?(Me(),rn("div",{key:0,class:"close shadowed enabled",onClick:t[1]||(t[1]=(...a)=>o.close&&o.close(...a))},Uh)):ls("",!0),vc(e.$slots,"default",{onClose:t[2]||(t[2]=(...a)=>o.close&&o.close(...a))},void 0,!0)])],2),[[cu,n.show]])]),_:3})}const Mn=Lr(Dh,[["render",Wh],["__scopeId","data-v-32957742"]]),jh={class:"menu flex-column-center"},Kh=le("br",null,null,-1),zh=ot({__name:"VictoryComp",setup(e){const t=we(),{getPlayerWinner:n}=qs(t);let r=pt(!1);dt(n,o=>{o&&(r.value=!0)});function s(){r.value=!1,setTimeout(()=>{t.gameClear(),je(()=>{t.gameReset(),je(()=>{t.gameStart()})})},K.defaultTimeout)}return(o,a)=>(Me(),It(Mn,{show:fe(r),backdrop:""},{default:Wt(()=>{var f;return[le("div",jh,[le("h2",null,Ne(fe(Ie).player)+" "+Ne((f=fe(n))==null?void 0:f.id)+" Wins!",1),Kh,le("button",{class:"enabled",onClick:s},Ne(fe(Ie).menu.again),1)])]}),_:1},8,["show"]))}}),Gh={class:"margined"},Yh=ot({__name:"ErrorComp",setup(e){const t=we(),{error:n}=qs(t);let r=pt(!1);return dt(n,s=>{s&&(r.value=!0)}),dt(r,s=>{s||setTimeout(()=>{t.clearError()},K.defaultTimeout)}),(s,o)=>(Me(),It(Mn,{show:fe(r),closable:"",backdrop:"",onClose:o[0]||(o[0]=a=>ve(r)?r.value=!1:r=!1)},{default:Wt(()=>[le("h2",null,Ne(fe(Ie).error.heading),1),le("p",Gh,Ne(fe(n)),1)]),_:1},8,["show"]))}}),Xh={class:"margined"},Jh=ot({__name:"ZoomComp",props:{zoom:{type:Number,default:1}},setup(e){const t=e;return(n,r)=>(Me(),It(Mn,{show:t.zoom>1,solid:""},{default:Wt(()=>[le("h2",null,Ne(fe(Ie).error.heading),1),le("p",Xh,Ne(fe(Ie).error.invalid.zoom),1),le("p",null,"Zoom: "+Ne(t.zoom),1)]),_:1},8,["show"]))}}),Qh={key:0},Zh=ot({__name:"App",setup(e){const t=we();let n=pt(!0);Sr(()=>{f(),n.value&&(t.gameInit(),document.addEventListener("contextmenu",h=>{h.preventDefault()}),je(()=>{o(),window.addEventListener("resize",r,{passive:!0}),window.addEventListener("scroll",r,{passive:!0}),c()}))}),Ns(()=>{window.removeEventListener("resize",r),window.removeEventListener("scroll",r)});function r(){o(),je(()=>{t.fixAllTilePlaces(!0)})}let s=pt(1);function o(){const l=window.innerWidth,u=window.innerHeight,g=l>u*2,y=u>l*3;let v=1;g?v=u/36:y?v=l/36:v=l/2/36,document.body.style.fontSize=`${v}px`,s.value=document.documentElement.clientWidth/window.innerWidth,t.rotate=y}function a(){const h=window.location.search;return new URLSearchParams(h)}function f(){a().get("key")==="kgs"&&(n.value=!0)}function c(){const h=a().get("debug");h&&console.log(h)}return(h,d)=>fe(n)?(Me(),rn("div",Qh,[ye(fe(zl)),ye(zh),ye(Yh),ye(Jh,{zoom:fe(s)},null,8,["zoom"])])):ls("",!0)}}),ed="modulepreload",td=function(e){return"/"+e},fo={},nd=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");s=Promise.all(n.map(a=>{if(a=td(a),a in fo)return;fo[a]=!0;const f=a.endsWith(".css"),c=f?'[rel="stylesheet"]':"";if(!!r)for(let i=o.length-1;i>=0;i--){const l=o[i];if(l.href===a&&(!f||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":ed,f||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),f)return new Promise((i,l)=>{d.addEventListener("load",i),d.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>t()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})},rd="/assets/home-i96mgIHC.png",sd=e=>(br("data-v-37d8072e"),e=e(),wr(),e),id={class:"background"},od=sd(()=>le("div",{id:"background",class:"bg full-size"},null,-1)),ld=[od],ad=ot({__name:"BackgroundComp",props:{bg:{type:String,default:""}},setup(e){const t=e,n=He(()=>new URL(Object.assign({"../assets/images/backgrounds/home.png":rd})[`../assets/images/backgrounds/${t.bg}`],import.meta.url).href);dt(n,s=>{s&&je(()=>{r()})}),Sr(()=>{r()});function r(){const s=document.getElementById("background");s&&(s.style.backgroundImage=`url('${n.value}')`)}return(s,o)=>(Me(),rn("div",id,ld))}}),cd=Lr(ad,[["__scopeId","data-v-37d8072e"]]),ud="/assets/title-graphic-W313hW1l.png",fd={},Gl=e=>(br("data-v-950d2cec"),e=e(),wr(),e),hd={class:"lds-ripple"},dd=Gl(()=>le("div",null,null,-1)),pd=Gl(()=>le("div",null,null,-1)),gd=[dd,pd];function md(e,t){return Me(),rn("div",hd,gd)}const _d=Lr(fd,[["render",md],["__scopeId","data-v-950d2cec"]]),yd={class:"menu flex-column-center"},vd=le("br",null,null,-1),bd=["value"],wd=ot({__name:"OnlineComp",props:{open:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=e,r=we(),{getLocalPlayer:s}=qs(r),o=t;return(a,f)=>(Me(),It(Mn,{show:n.open,class:"shadow",backdrop:"",closable:"",onClose:f[0]||(f[0]=c=>o("close"))},{default:Wt(()=>{var c;return[le("div",yd,[le("h2",null,Ne(fe(Ie).menu.online),1),ye(_d),le("p",null,Ne(fe(Ie).online.searching),1),vd,le("input",{type:"text",value:(c=fe(s))==null?void 0:c.name,readonly:""},null,8,bd)])]}),_:1},8,["show"]))}}),Yl=e=>(br("data-v-ea60f7db"),e=e(),wr(),e),Ad={class:"menu flex-column-center"},Ed=Yl(()=>le("div",{class:"graphic"},[le("img",{src:ud,alt:"Portents"})],-1)),Sd=Yl(()=>le("br",null,null,-1)),Td=ot({__name:"MenuComp",setup(e){const t="0.0.33",n=we();let r=pt(!1);function s(){n.playHotseat()}function o(){n.playOnline(),r.value=!0}function a(){r.value=!1,n.gameEnd()}function f(){n.playSolo()}return(c,h)=>(Me(),It(Mn,{show:"",class:"shadow"},{default:Wt(()=>[le("div",Ad,[Ed,Sd,le("button",{class:"enabled",onClick:s},Ne(fe(Ie).menu.hotseat),1),le("button",{class:"enabled",onClick:o},Ne(fe(Ie).menu.online),1),le("button",{class:"enabled",onClick:f},Ne(fe(Ie).menu.solo),1),le("p",null,"v "+Ne(fe(t)),1)]),ye(wd,{show:fe(r),onClose:a},null,8,["show"])]),_:1}))}}),xd=Lr(Td,[["__scopeId","data-v-ea60f7db"]]),Pd=ot({__name:"HomeView",setup(e){return(t,n)=>(Me(),rn("main",null,[ye(cd,{bg:"home.png"}),ye(xd)]))}}),Xl=Mh({history:Zf("/"),routes:[{path:"/",name:"home",component:Pd},{path:"/game",name:"game",component:()=>nd(()=>import("./GameView-61HvBfn7.js"),__vite__mapDeps([0,1]))}]}),Js=Pu(Zh),Jl=ku();Jl.use(({store:e})=>e.$router=Bn(Xl));Js.use(Jl);Js.use(Xl);Js.mount("#app");export{Hs as A,cd as B,K as C,Y as D,ic as E,qe as F,cu as G,_d as L,Mn as M,ur as O,Pt as P,Ie as S,_e as T,te as Z,Lr as _,rn as a,le as b,He as c,ot as d,En as e,fe as f,ls as g,It as h,wr as i,Rd as j,je as k,pt as l,ve as m,gr as n,Me as o,br as p,ye as q,Cd as r,qs as s,Ne as t,we as u,Sr as v,Wt as w,cr as x,be as y,Ns as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/GameView-61HvBfn7.js","assets/GameView-ukIlBp8E.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
