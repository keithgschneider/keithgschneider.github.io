import{d as b,P as Z,u as y,s as h,c as o,Z as q,o as n,a as c,n as C,p as T,b as E,e as i,_ as x,f as H,t as k,g as d,F as O,r as D,h as J,i as U,C as L,S as V,j as B,D as $,T as z,k as v,O as Q,l as N,m as G,q as W,B as X}from"./index-4a97753e.js";const Y=s=>(T("data-v-f20e3dae"),s=s(),E(),s),ee=["id"],se=Y(()=>i("div",{class:"spacing"},null,-1)),te=[se],ne=b({__name:"PlaceComp",props:{place:{type:Z,default:null},hidden:{type:Boolean,default:!1},corner:{type:Boolean,default:!1}},setup(s){const e=s,t=y(),{altar:r,getSelectedOfferings:l}=h(t),g=o(()=>e.place?e.place.getID():""),_=o(()=>{var u;return(u=r.value)==null?void 0:u.getOpenPlaces().includes(e.place)}),a=o(()=>l.value.length&&_.value),f=o(()=>{var u;return((u=e.place)==null?void 0:u.zone)!==q.Altar});function p(){a.value&&t.selectPlace(e.place)}return(u,P)=>{var w;return n(),c("div",{id:g.value,class:C(["place",[(w=e.place)==null?void 0:w.type,s.hidden?"invisible":"",s.corner?"corner":"",a.value?"enabled":"",f.value?"spread":""]]),onClick:p},te,10,ee)}}});const R=x(ne,[["__scopeId","data-v-f20e3dae"]]),oe=s=>(T("data-v-73f8adba"),s=s(),E(),s),ae=oe(()=>i("br",null,null,-1)),ce={key:0},le={key:1},_e={class:"digits padded"},ie=b({__name:"PlayerComp",props:{player:{type:H,default:null}},setup(s){const e=s,t=y(),{getTurnPhaseString:r,getCurrentPlayerTurn:l}=h(t),g=o(()=>e.player?e.player.getRows():[]),_=o(()=>t.getPlayerFortunes(e.player.id)),a=L.fortuneMajor,f=o(()=>_.value.find(u=>u.length===a)),p=o(()=>e.player.turn&&l.value);return(u,P)=>s.player?(n(),c("div",{key:0,class:C(["player flex-column-center",p.value?"turn":""])},[i("h2",null,k(d(V).player)+" "+k(s.player.id),1),ae,s.player.turn?(n(),c("h3",ce,k(d(r)),1)):(n(),c("p",le,k(d(V).waiting),1)),(n(!0),c(O,null,D(g.value,(w,S)=>(n(),c("div",{key:S,class:"flex-row-center"},[(n(!0),c(O,null,D(w,(m,I)=>(n(),B(R,{key:I,place:m,hidden:S===0},null,8,["place","hidden"]))),128))]))),128)),i("h3",null,[J(k(d(V).fortunes.toUpperCase())+": ",1),i("span",_e,k(_.value.length)+k(f.value?"*":""),1)])],2)):U("",!0)}});const j=x(ie,[["__scopeId","data-v-73f8adba"]]),re={class:"limbo margined flex-column-center"},ge={class:"flex-row-center"},de=b({__name:"LimboComp",setup(s){const e=y(),{limbo:t}=h(e),r=o(()=>{var l;return(l=t.value)==null?void 0:l.getRow()});return(l,g)=>(n(),c("div",re,[i("div",ge,[(n(!0),c(O,null,D(r.value,(_,a)=>(n(),B(R,{key:a,place:_,hidden:""},null,8,["place"]))),128))])]))}}),ue="/assets/direction-22e37f0e.svg",pe=["alt"],fe=b({__name:"DirectionComp",props:{dir:{type:Number,default:$.None}},setup(s){const e=s,t=y(),{turn:r,getEnabledDirections:l}=h(t),g=o(()=>r.value===z.Push),_=o(()=>l.value.includes(e.dir)),a=o(()=>e.dir===$.Up?"up":e.dir===$.Right?"right":e.dir===$.Down?"down":e.dir===$.Left?"left":"");function f(){_.value&&t.pushOfferings(e.dir)}return(p,u)=>(n(),c("div",{class:C(["margined",g.value?"":"invisible"])},[i("button",{class:C(["shadow",_.value?"enabled":"disabled"]),onClick:f},[i("img",{src:ue,alt:a.value,class:C(a.value)},null,10,pe)],2)],2))}});const F=x(fe,[["__scopeId","data-v-4d41f646"]]),me={class:"flex-row-center"},ve={class:"flex-column-center"},be={class:"altar flex-column-center shadow"},ye=b({__name:"AltarComp",setup(s){const e=y(),{altar:t}=h(e),r=o(()=>{var l;return(l=t.value)==null?void 0:l.getRows()});return(l,g)=>(n(),c("div",me,[v(F,{dir:d($).Left},null,8,["dir"]),i("div",ve,[v(F,{dir:d($).Up},null,8,["dir"]),i("div",be,[(n(!0),c(O,null,D(r.value,(_,a)=>(n(),c("div",{key:a,class:"flex-row-center"},[(n(!0),c(O,null,D(_,(f,p)=>(n(),B(R,{key:p,place:f,corner:(a===0||a===d(L).altarSize-1)&&(p===0||p===d(L).altarSize-1),hidden:""},null,8,["place","corner"]))),128))]))),128))]),v(F,{dir:d($).Down},null,8,["dir"])]),v(F,{dir:d($).Right},null,8,["dir"])]))}});const he=x(ye,[["__scopeId","data-v-4c40c176"]]),$e=s=>(T("data-v-7e75fe3c"),s=s(),E(),s),Ce={class:"kitty margined padded flex-column-center shadow"},xe=$e(()=>i("div",{class:"spacing"},null,-1)),we=b({__name:"KittyComp",setup(s){const e=y(),{kitty:t}=h(e);return(r,l)=>{var g;return n(),c("div",Ce,[xe,v(R,{place:(g=d(t))==null?void 0:g.place,hidden:""},null,8,["place"])])}}});const Ie=x(we,[["__scopeId","data-v-7e75fe3c"]]),ke="/assets/11-fabe0405.png",Oe="/assets/12-3cf8e2ab.png",De="/assets/13-8257758d.png",Pe="/assets/14-57ec94eb.png",Se="/assets/21-0ee2c953.png",Be="/assets/22-886470d6.png",Te="/assets/23-03cfa18c.png",Ee="/assets/24-cc251532.png",Ae="/assets/31-def237dc.png",Fe="/assets/32-9efe663d.png",Re="/assets/33-8f8ea4f7.png",Ve="/assets/34-7c1afc5b.png",Le="/assets/41-0b26d785.png",Ne="/assets/42-a824f74a.png",je="/assets/43-465307d6.png",Ue="/assets/44-7ac05cfb.png",ze=["id"],Ge=["id"],Ke=b({__name:"OmenComp",props:{omen:{type:Q,default:null}},setup(s){const e=s,t=y(),{getAltarActiveOmens:r,turn:l}=h(t),g=o(()=>e.omen?e.omen.getID():""),_=o(()=>t.playerForID(e.omen.player)),a=o(()=>t.getPlayerFortunes(e.omen.player)),f=o(()=>r.value.includes(e.omen)),p=o(()=>f.value&&l.value===z.Collect),u=o(()=>{var m;return _.value&&!((m=_.value)!=null&&m.turn)}),P=o(()=>a.value.find(m=>m.includes(e.omen)));N(()=>{G(()=>{w()})});function w(){const m=document.getElementById(`style-${e.omen.getID()}`);if(!m)return;const I=`${e.omen.celestial}${e.omen.sacrifice}`,A=new URL(Object.assign({"../assets/images/omens/11.png":ke,"../assets/images/omens/12.png":Oe,"../assets/images/omens/13.png":De,"../assets/images/omens/14.png":Pe,"../assets/images/omens/21.png":Se,"../assets/images/omens/22.png":Be,"../assets/images/omens/23.png":Te,"../assets/images/omens/24.png":Ee,"../assets/images/omens/31.png":Ae,"../assets/images/omens/32.png":Fe,"../assets/images/omens/33.png":Re,"../assets/images/omens/34.png":Ve,"../assets/images/omens/41.png":Le,"../assets/images/omens/42.png":Ne,"../assets/images/omens/43.png":je,"../assets/images/omens/44.png":Ue})[`../assets/images/omens/${I}.png`],self.location).href;m.style.backgroundImage=`url(${A})`}function S(){p.value&&t.selectOmen(e.omen)}return(m,I)=>(n(),c("div",{id:g.value,class:C(["container shadow flex-column-center",P.value?"fortune":""])},[i("div",{class:C(["omen",f.value?"active":"",p.value?"enabled":"",u.value?"disabled":""]),onClick:S},[i("div",{id:`style-${g.value}`,class:"icon"},null,8,Ge)],2)],10,ze))}});const Me=x(Ke,[["__scopeId","data-v-39aaf512"]]),Ze="/assets/11-461f6737.png",qe="/assets/12-9ab4812f.png",He="/assets/13-5e2b2069.png",Je="/assets/14-b76ea213.png",Qe="/assets/21-c2aa472a.png",We="/assets/22-8d6ff469.png",Xe="/assets/23-e994e76f.png",Ye="/assets/24-8dd44e66.png",es="/assets/31-740a3fab.png",ss="/assets/32-25b8eb1c.png",ts="/assets/33-df12b272.png",ns="/assets/34-f4a1c50b.png",os="/assets/41-967a0aaf.png",as="/assets/42-6d441022.png",cs="/assets/43-11b99e1a.png",ls="/assets/44-a29e51e7.png",_s="/assets/flame-e9cdbf27.gif",is=s=>(T("data-v-e7d1dcf2"),s=s(),E(),s),rs=["id"],gs=["id"],ds={key:0,class:"flame"},us=is(()=>i("img",{src:_s,alt:"burning"},null,-1)),ps=[us],fs=b({__name:"OfferingComp",props:{offering:{type:W,default:null},tilted:{type:Boolean,defaut:!1}},setup(s){const e=s,t=y(),{getAltarPortentOfferings:r,getEnabledOfferings:l,getDisabledOfferings:g,getBurnableOfferings:_}=h(t),a=o(()=>e.offering?e.offering.getID():""),f=o(()=>r.value.includes(e.offering)),p=o(()=>l.value.includes(e.offering)),u=o(()=>g.value.includes(e.offering)),P=o(()=>_.value.includes(e.offering)),w=o(()=>f.value&&!P.value);N(()=>{G(()=>{S()})});function S(){const I=document.getElementById(`style-${e.offering.getID()}`);if(!I)return;const A=`${e.offering.celestial}${e.offering.sacrifice}`,M=new URL(Object.assign({"../assets/images/offerings/front/11.png":Ze,"../assets/images/offerings/front/12.png":qe,"../assets/images/offerings/front/13.png":He,"../assets/images/offerings/front/14.png":Je,"../assets/images/offerings/front/21.png":Qe,"../assets/images/offerings/front/22.png":We,"../assets/images/offerings/front/23.png":Xe,"../assets/images/offerings/front/24.png":Ye,"../assets/images/offerings/front/31.png":es,"../assets/images/offerings/front/32.png":ss,"../assets/images/offerings/front/33.png":ts,"../assets/images/offerings/front/34.png":ns,"../assets/images/offerings/front/41.png":os,"../assets/images/offerings/front/42.png":as,"../assets/images/offerings/front/43.png":cs,"../assets/images/offerings/front/44.png":ls})[`../assets/images/offerings/front/${A}.png`],self.location).href;I.style.backgroundImage=`url(${M})`}function m(){u.value||p.value&&t.selectOffering(e.offering)}return(I,A)=>(n(),c("div",{id:a.value,class:"container shadow flex-column-center"},[i("div",{class:C(["offering",[w.value?"active":"",p.value?"enabled":"",u.value?"disabled":"",P.value?"burner":"",s.offering.burning?"burning":"",s.offering.selected?"selected":""]]),onClick:m},[i("div",{id:`style-${a.value}`,class:"icon"},null,8,gs),s.offering.burning?(n(),c("div",ds,ps)):U("",!0)],2)],8,rs))}});const ms=x(fs,[["__scopeId","data-v-e7d1dcf2"]]),vs={class:"tiles"},bs=b({__name:"TilesComp",setup(s){const e=y(),{omens:t,offerings:r}=h(e);return(l,g)=>(n(),c("div",vs,[(n(!0),c(O,null,D(d(t),(_,a)=>(n(),B(Me,{key:a,omen:_},null,8,["omen"]))),128)),(n(!0),c(O,null,D(d(r),(_,a)=>(n(),B(ms,{key:a,offering:_},null,8,["offering"]))),128))]))}});const ys=x(bs,[["__scopeId","data-v-b06f235b"]]),K=s=>(T("data-v-40ba9b5b"),s=s(),E(),s),hs={class:"flex-row-spaced window-height"},$s=K(()=>i("div",null,null,-1)),Cs={class:"flex-column-spaced"},xs=K(()=>i("div",null,null,-1)),ws=b({__name:"GameView",setup(s){const e=y(),{players:t,getCurrentPlayerTurn:r}=h(e);return N(()=>{e.gameStart()}),(l,g)=>(n(),c("main",{class:C(d(r)?"":"waiting")},[v(X,{bg:"game.jpeg"}),i("div",hs,[$s,v(j,{player:d(t)[0]},null,8,["player"]),i("div",Cs,[v(de),v(he),v(Ie)]),v(j,{player:d(t)[1]},null,8,["player"]),xs]),v(ys)],2))}});const ks=x(ws,[["__scopeId","data-v-40ba9b5b"]]);export{ks as default};
