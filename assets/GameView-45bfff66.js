import{d as y,P as Z,u as h,s as $,c as o,Z as q,o as t,a as c,n as b,p as E,b as T,e as i,_ as x,f as H,t as k,g as u,F as O,r as D,h as J,i as j,C as L,S as V,j as B,D as C,T as z,k as v,O as Q,l as N,m as G,q as W,v as X,B as Y}from"./index-fe393f5a.js";const ee=s=>(E("data-v-f20e3dae"),s=s(),T(),s),se=["id"],ne=ee(()=>i("div",{class:"spacing"},null,-1)),te=[ne],oe=y({__name:"PlaceComp",props:{place:{type:Z,default:null},hidden:{type:Boolean,default:!1},corner:{type:Boolean,default:!1}},setup(s){const e=s,n=h(),{altar:r,getSelectedOfferings:l}=$(n),d=o(()=>e.place?e.place.getID():""),_=o(()=>{var p;return(p=r.value)==null?void 0:p.getOpenPlaces().includes(e.place)}),a=o(()=>l.value.length&&_.value),f=o(()=>{var p;return((p=e.place)==null?void 0:p.zone)!==q.Altar});function g(){a.value&&n.selectPlace(e.place)}return(p,P)=>{var w;return t(),c("div",{id:d.value,class:b(["place",[(w=e.place)==null?void 0:w.type,s.hidden?"invisible":"",s.corner?"corner":"",a.value?"enabled":"",f.value?"spread":""]]),onClick:g},te,10,se)}}});const R=x(oe,[["__scopeId","data-v-f20e3dae"]]),ae=s=>(E("data-v-73f8adba"),s=s(),T(),s),ce=ae(()=>i("br",null,null,-1)),le={key:0},_e={key:1},ie={class:"digits padded"},re=y({__name:"PlayerComp",props:{player:{type:H,default:null}},setup(s){const e=s,n=h(),{getTurnPhaseString:r,getCurrentPlayerTurn:l}=$(n),d=o(()=>e.player?e.player.getRows():[]),_=o(()=>n.getPlayerFortunes(e.player.id)),a=L.fortuneMajor,f=o(()=>_.value.find(p=>p.length===a)),g=o(()=>e.player.turn&&l.value);return(p,P)=>s.player?(t(),c("div",{key:0,class:b(["player flex-column-center",g.value?"turn":""])},[i("h2",null,k(u(V).player)+" "+k(s.player.id),1),ce,s.player.turn?(t(),c("h3",le,k(u(r)),1)):(t(),c("p",_e,k(u(V).waiting),1)),(t(!0),c(O,null,D(d.value,(w,S)=>(t(),c("div",{key:S,class:"flex-row-center"},[(t(!0),c(O,null,D(w,(m,I)=>(t(),B(R,{key:I,place:m,hidden:S===0},null,8,["place","hidden"]))),128))]))),128)),i("h3",null,[J(k(u(V).fortunes.toUpperCase())+": ",1),i("span",ie,k(_.value.length)+k(f.value?"*":""),1)])],2)):j("",!0)}});const U=x(re,[["__scopeId","data-v-73f8adba"]]),de={class:"limbo margined flex-column-center"},ge={class:"flex-row-center"},ue=y({__name:"LimboComp",setup(s){const e=h(),{limbo:n}=$(e),r=o(()=>{var l;return(l=n.value)==null?void 0:l.getRow()});return(l,d)=>(t(),c("div",de,[i("div",ge,[(t(!0),c(O,null,D(r.value,(_,a)=>(t(),B(R,{key:a,place:_,hidden:""},null,8,["place"]))),128))])]))}}),pe="/assets/direction-22e37f0e.svg",fe=["alt"],me=y({__name:"DirectionComp",props:{dir:{type:Number,default:C.None}},setup(s){const e=s,n=h(),{turn:r,getEnabledDirections:l}=$(n),d=o(()=>r.value===z.Push),_=o(()=>l.value.includes(e.dir)),a=o(()=>e.dir===C.Up?"up":e.dir===C.Right?"right":e.dir===C.Down?"down":e.dir===C.Left?"left":"");function f(){_.value&&n.pushOfferings(e.dir)}return(g,p)=>(t(),c("div",{class:b(["margined",d.value?"":"invisible"])},[i("button",{class:b(["shadow",_.value?"enabled":"disabled"]),onClick:f},[i("img",{src:pe,alt:a.value,class:b(a.value)},null,10,fe)],2)],2))}});const F=x(me,[["__scopeId","data-v-4d41f646"]]),ve={class:"flex-row-center"},be={class:"flex-column-center"},ye={class:"altar flex-column-center shadow"},he=y({__name:"AltarComp",setup(s){const e=h(),{altar:n}=$(e),r=o(()=>{var l;return(l=n.value)==null?void 0:l.getRows()});return(l,d)=>(t(),c("div",ve,[v(F,{dir:u(C).Left},null,8,["dir"]),i("div",be,[v(F,{dir:u(C).Up},null,8,["dir"]),i("div",ye,[(t(!0),c(O,null,D(r.value,(_,a)=>(t(),c("div",{key:a,class:"flex-row-center"},[(t(!0),c(O,null,D(_,(f,g)=>(t(),B(R,{key:g,place:f,corner:(a===0||a===u(L).altarSize-1)&&(g===0||g===u(L).altarSize-1),hidden:""},null,8,["place","corner"]))),128))]))),128))]),v(F,{dir:u(C).Down},null,8,["dir"])]),v(F,{dir:u(C).Right},null,8,["dir"])]))}});const $e=x(he,[["__scopeId","data-v-4c40c176"]]),Ce=s=>(E("data-v-7e75fe3c"),s=s(),T(),s),xe={class:"kitty margined padded flex-column-center shadow"},we=Ce(()=>i("div",{class:"spacing"},null,-1)),Ie=y({__name:"KittyComp",setup(s){const e=h(),{kitty:n}=$(e);return(r,l)=>{var d;return t(),c("div",xe,[we,v(R,{place:(d=u(n))==null?void 0:d.place,hidden:""},null,8,["place"])])}}});const ke=x(Ie,[["__scopeId","data-v-7e75fe3c"]]),Oe="/assets/11-fabe0405.png",De="/assets/12-3cf8e2ab.png",Pe="/assets/13-8257758d.png",Se="/assets/14-57ec94eb.png",Be="/assets/21-0ee2c953.png",Ee="/assets/22-886470d6.png",Te="/assets/23-03cfa18c.png",Ae="/assets/24-cc251532.png",Fe="/assets/31-def237dc.png",Re="/assets/32-9efe663d.png",Ve="/assets/33-8f8ea4f7.png",Le="/assets/34-7c1afc5b.png",Ne="/assets/41-0b26d785.png",Ue="/assets/42-a824f74a.png",je="/assets/43-465307d6.png",ze="/assets/44-7ac05cfb.png",Ge=["id"],Ke=["id"],Me=y({__name:"OmenComp",props:{omen:{type:Q,default:null}},setup(s){const e=s,n=h(),{getAltarActiveOmens:r,turn:l}=$(n),d=o(()=>e.omen?e.omen.getID():""),_=o(()=>n.playerForID(e.omen.player)),a=o(()=>n.getPlayerFortunes(e.omen.player)),f=o(()=>r.value.includes(e.omen)),g=o(()=>f.value&&l.value===z.Collect),p=o(()=>{var m;return _.value&&!((m=_.value)!=null&&m.turn)}),P=o(()=>a.value.find(m=>m.includes(e.omen)));N(()=>{G(()=>{w()})});function w(){const m=document.getElementById(`style-${e.omen.getID()}`);if(!m)return;const I=`${e.omen.celestial}${e.omen.sacrifice}`,A=new URL(Object.assign({"../assets/images/omens/11.png":Oe,"../assets/images/omens/12.png":De,"../assets/images/omens/13.png":Pe,"../assets/images/omens/14.png":Se,"../assets/images/omens/21.png":Be,"../assets/images/omens/22.png":Ee,"../assets/images/omens/23.png":Te,"../assets/images/omens/24.png":Ae,"../assets/images/omens/31.png":Fe,"../assets/images/omens/32.png":Re,"../assets/images/omens/33.png":Ve,"../assets/images/omens/34.png":Le,"../assets/images/omens/41.png":Ne,"../assets/images/omens/42.png":Ue,"../assets/images/omens/43.png":je,"../assets/images/omens/44.png":ze})[`../assets/images/omens/${I}.png`],self.location).href;m.style.backgroundImage=`url(${A})`}function S(){g.value&&n.selectOmen(e.omen)}return(m,I)=>(t(),c("div",{id:d.value,class:b(["container shadow flex-column-center",[P.value?"fortune":"",g.value?"events":""]])},[i("div",{class:b(["omen",f.value?"active":"",g.value?"enabled":"",p.value?"disabled":""]),onClick:S},[i("div",{id:`style-${d.value}`,class:"icon"},null,8,Ke)],2)],10,Ge))}});const Ze=x(Me,[["__scopeId","data-v-54e48578"]]),qe="/assets/11-461f6737.png",He="/assets/12-9ab4812f.png",Je="/assets/13-5e2b2069.png",Qe="/assets/14-b76ea213.png",We="/assets/21-c2aa472a.png",Xe="/assets/22-8d6ff469.png",Ye="/assets/23-e994e76f.png",es="/assets/24-8dd44e66.png",ss="/assets/31-740a3fab.png",ns="/assets/32-25b8eb1c.png",ts="/assets/33-df12b272.png",os="/assets/34-f4a1c50b.png",as="/assets/41-967a0aaf.png",cs="/assets/42-6d441022.png",ls="/assets/43-11b99e1a.png",_s="/assets/44-a29e51e7.png",is="/assets/flame-e9cdbf27.gif",rs=s=>(E("data-v-521d5d3b"),s=s(),T(),s),ds=["id"],gs=["id"],us={key:0,class:"flame"},ps=rs(()=>i("img",{src:is,alt:"burning"},null,-1)),fs=[ps],ms=y({__name:"OfferingComp",props:{offering:{type:W,default:null},tilted:{type:Boolean,defaut:!1}},setup(s){const e=s,n=h(),{getAltarPortentOfferings:r,getEnabledOfferings:l,getDisabledOfferings:d,getBurnableOfferings:_}=$(n),a=o(()=>e.offering?e.offering.getID():""),f=o(()=>r.value.includes(e.offering)),g=o(()=>l.value.includes(e.offering)),p=o(()=>d.value.includes(e.offering)),P=o(()=>_.value.includes(e.offering)),w=o(()=>f.value&&!P.value);N(()=>{G(()=>{S()})});function S(){const I=document.getElementById(`style-${e.offering.getID()}`);if(!I)return;const A=`${e.offering.celestial}${e.offering.sacrifice}`,M=new URL(Object.assign({"../assets/images/offerings/front/11.png":qe,"../assets/images/offerings/front/12.png":He,"../assets/images/offerings/front/13.png":Je,"../assets/images/offerings/front/14.png":Qe,"../assets/images/offerings/front/21.png":We,"../assets/images/offerings/front/22.png":Xe,"../assets/images/offerings/front/23.png":Ye,"../assets/images/offerings/front/24.png":es,"../assets/images/offerings/front/31.png":ss,"../assets/images/offerings/front/32.png":ns,"../assets/images/offerings/front/33.png":ts,"../assets/images/offerings/front/34.png":os,"../assets/images/offerings/front/41.png":as,"../assets/images/offerings/front/42.png":cs,"../assets/images/offerings/front/43.png":ls,"../assets/images/offerings/front/44.png":_s})[`../assets/images/offerings/front/${A}.png`],self.location).href;I.style.backgroundImage=`url(${M})`}function m(){p.value||g.value&&n.selectOffering(e.offering)}return(I,A)=>(t(),c("div",{id:a.value,class:b(["container shadow flex-column-center",g.value?"events":""])},[i("div",{class:b(["offering",[w.value?"active":"",g.value?"enabled":"",p.value?"disabled":"",P.value?"burner":"",s.offering.burning?"burning":"",s.offering.selected?"selected":""]]),onClick:m},[i("div",{id:`style-${a.value}`,class:"icon"},null,8,gs),s.offering.burning?(t(),c("div",us,fs)):j("",!0)],2)],10,ds))}});const vs=x(ms,[["__scopeId","data-v-521d5d3b"]]),bs={class:"tiles"},ys=y({__name:"TilesComp",setup(s){const e=h(),{omens:n,offerings:r}=$(e);return(l,d)=>(t(),c("div",bs,[(t(!0),c(O,null,D(u(n),(_,a)=>(t(),B(Ze,{key:a,omen:_},null,8,["omen"]))),128)),(t(!0),c(O,null,D(u(r),(_,a)=>(t(),B(vs,{key:a,offering:_},null,8,["offering"]))),128))]))}});const hs=x(ys,[["__scopeId","data-v-b06f235b"]]),K=s=>(E("data-v-3dfd360e"),s=s(),T(),s),$s={class:"flex-row-spaced window-height"},Cs=K(()=>i("div",null,null,-1)),xs={class:"flex-column-spaced"},ws=K(()=>i("div",null,null,-1)),Is=y({__name:"GameView",setup(s){const e=h(),{players:n,getCurrentPlayerTurn:r}=$(e);return N(()=>{e.gameStart()}),X(()=>{e.gameEnd()}),(l,d)=>(t(),c("main",{class:b(u(r)?"":"waiting")},[v(Y,{bg:"game.jpeg"}),i("div",$s,[Cs,v(U,{player:u(n)[0]},null,8,["player"]),i("div",xs,[v(ue),v($e),v(ke)]),v(U,{player:u(n)[1]},null,8,["player"]),ws]),v(hs)],2))}});const Os=x(Is,[["__scopeId","data-v-3dfd360e"]]);export{Os as default};
