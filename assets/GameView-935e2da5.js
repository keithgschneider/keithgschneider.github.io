import{d as m,P as Q,u as y,s as h,c as u,o as t,a as c,n as k,b as a,Z as W,p as E,e as T,f as o,_ as $,F as w,r as I,g as P,D as b,T as F,h as f,t as x,S,i as X,C as Y,j as ee,k as N,O as se,l as R,m as z,q as te,B as ne}from"./index-f48e5177.js";const oe=s=>(E("data-v-4d028023"),s=s(),T(),s),le=["id"],ae=oe(()=>o("div",{class:"spacing"},null,-1)),ce=[ae],ie=m({__name:"PlaceComp",props:{place:{type:Q,default:null},hidden:{type:Boolean,defau:!1}},setup(s){const e=s,n=y(),{getOpenAltarPlaces:d,getSelectedOfferings:i}=h(n),r=u(()=>i.value.length&&d.value.includes(e.place));function _(){r.value&&n.selectPlace(e.place)}return(l,C)=>{var p,v,g;return t(),c("div",{id:(p=e.place)==null?void 0:p.getID(),class:k(["place",[(v=e.place)==null?void 0:v.type,s.hidden?"invisible":"",r.value?"enabled":"",((g=e.place)==null?void 0:g.zone)!==a(W).Altar?"spread":""]]),onClick:_},ce,10,le)}}});const L=$(ie,[["__scopeId","data-v-4d028023"]]),re={class:"limbo flex-column-center"},_e={class:"flex-row-center"},de=m({__name:"LimboComp",setup(s){const e=y(),{limbo:n}=h(e);let d=u(()=>{var i;return(i=n.value)==null?void 0:i.getRow()});return(i,r)=>(t(),c("div",re,[o("div",_e,[(t(!0),c(w,null,I(a(d),(_,l)=>(t(),P(L,{key:l,place:_,hidden:""},null,8,["place"]))),128))])]))}});const ue=$(de,[["__scopeId","data-v-d8dd6ce0"]]),ge="/assets/direction-22e37f0e.svg",pe=m({__name:"DirectionComp",props:{dir:{type:Number,default:b.None}},setup(s){const e=s,n=y(),{turn:d,getEnabledDirections:i}=h(n),r=u(()=>i.value.includes(e.dir)),_=u(()=>e.dir===b.Up?"up":e.dir===b.Right?"right":e.dir===b.Down?"down":e.dir===b.Left?"left":"");function l(){r.value&&n.pushOfferings(e.dir)}return(C,p)=>(t(),c("div",{class:k(["margined",a(d)===a(F).Push?"":"invisible"])},[o("button",{class:k(["shadow",r.value?"enabled":"disabled"]),onClick:l},[o("img",{src:ge,alt:"direction",class:k(_.value)},null,2)],2)],2))}});const B=$(pe,[["__scopeId","data-v-2fe7509e"]]),fe={class:"flex-row-center"},ve={class:"flex-column-center"},me={class:"altar flex-column-center"},ye=m({__name:"AltarComp",setup(s){const e=y(),{altar:n}=h(e);let d=u(()=>{var i;return(i=n.value)==null?void 0:i.getRows()});return(i,r)=>(t(),c("div",fe,[f(B,{dir:a(b).Left},null,8,["dir"]),o("div",ve,[f(B,{dir:a(b).Up},null,8,["dir"]),o("div",me,[(t(!0),c(w,null,I(a(d),(_,l)=>(t(),c("div",{key:l,class:"flex-row-center"},[(t(!0),c(w,null,I(_,(C,p)=>(t(),P(L,{key:p,place:C},null,8,["place"]))),128))]))),128))]),f(B,{dir:a(b).Down},null,8,["dir"])]),f(B,{dir:a(b).Right},null,8,["dir"])]))}});const he=$(ye,[["__scopeId","data-v-c9a88255"]]),be={class:"kitty margined flex-column-center"},$e=m({__name:"KittyComp",setup(s){const e=y(),{kitty:n}=h(e);return(d,i)=>{var r;return t(),c("div",be,[o("h2",null,x(a(S).kitty),1),f(L,{place:(r=a(n))==null?void 0:r.place,hidden:""},null,8,["place"])])}}});const Ce=$($e,[["__scopeId","data-v-e23e723a"]]),xe=s=>(E("data-v-7616c88b"),s=s(),T(),s),ke=xe(()=>o("br",null,null,-1)),we={key:0},Ie={key:1},Oe={class:"digits padded"},De=m({__name:"PlayerComp",props:{player:{type:X,default:null}},setup(s){const e=s,n=y(),{getTurnPhaseString:d}=h(n);let i=u(()=>{var l;return(l=e.player)==null?void 0:l.getRows()}),r=u(()=>n.getPlayerFortunes(e.player.id)),_=u(()=>r.value.find(l=>l.length===Y.fortuneMajor));return(l,C)=>s.player?(t(),c("div",{key:0,class:k(["player flex-column-center",s.player.turn?"turn":""])},[o("h2",null,x(a(S).player)+" "+x(s.player.id),1),ke,s.player.turn?(t(),c("p",we,x(a(d)),1)):(t(),c("p",Ie,x(a(S).waiting),1)),(t(!0),c(w,null,I(a(i),(p,v)=>(t(),c("div",{key:v,class:"flex-row-center"},[(t(!0),c(w,null,I(p,(g,O)=>(t(),P(L,{key:O,place:g,hidden:v===0},null,8,["place","hidden"]))),128))]))),128)),o("h3",null,[ee(x(a(S).fortunes.toUpperCase())+": ",1),o("span",Oe,x(a(r).length)+x(a(_)?"*":""),1)])],2)):N("",!0)}});const j=$(De,[["__scopeId","data-v-7616c88b"]]),U="/assets/close-f5d846ec.svg",V="/assets/direction-22e37f0e.svg",M="/assets/knight-f324979a.svg",K="/assets/ore-bcbc3549.svg",G="/assets/tree-f893f7da.svg",Z="/assets/wand-c232b03a.svg",q="/assets/wizard-229bfef3.svg",Pe=["id"],Be=["id"],Se=m({__name:"OmenComp",props:{omen:{type:se,default:null}},setup(s){const e=s,n=y(),{getAltarActiveOmens:d,turn:i}=h(n),r=u(()=>e.omen?e.omen.getID():""),_=u(()=>d.value.includes(e.omen)),l=u(()=>_.value&&i.value===F.Collect),C=u(()=>n.getPlayerFortunes(e.omen.player).find(g=>g.includes(e.omen)));R(()=>{z(()=>{p()})});function p(){const g=document.getElementById(`style-${e.omen.getID()}`);if(!g)return;const O=new URL(Object.assign({"../assets/svgs/close.svg":U,"../assets/svgs/direction.svg":V,"../assets/svgs/knight.svg":M,"../assets/svgs/ore.svg":K,"../assets/svgs/tree.svg":G,"../assets/svgs/wand.svg":Z,"../assets/svgs/wizard.svg":q})[`../assets/svgs/${e.omen.getImage()}.svg`],self.location).href;g.style.backgroundImage=`url(${O})`,g.classList.add(`${e.omen.getColor()}-background`),g.classList.add(`${e.omen.getColor()}-border`)}function v(){l.value&&n.selectOmen(e.omen)}return(g,O)=>(t(),c("div",{id:r.value,class:k(["container shadow flex-column-center",C.value?"fortune":""])},[o("div",{class:k(["omen",[_.value?"active":"",l.value?"enabled":""]]),onClick:v},[o("div",{id:`style-${r.value}`,class:"icon"},null,8,Be)],2)],10,Pe))}});const Le=$(Se,[["__scopeId","data-v-162db744"]]),Ae="/assets/flame-e9cdbf27.gif",H=s=>(E("data-v-5a3f6dac"),s=s(),T(),s),Ee=["id"],Te=["id"],Re=H(()=>o("div",{class:"mask"},null,-1)),je=[Re],Fe={key:0,class:"flame"},Ne=H(()=>o("img",{src:Ae},null,-1)),ze=[Ne],Ue=m({__name:"OfferingComp",props:{offering:{type:te,default:null},tilted:{type:Boolean,defaut:!1}},setup(s){const e=s,n=y(),{getAltarPortentOfferings:d,getEnabledOfferings:i,getDisabledOfferings:r,getBurnableOfferings:_}=h(n),l=u(()=>e.offering?e.offering.getID():""),C=u(()=>d.value.includes(e.offering)),p=u(()=>i.value.includes(e.offering)),v=u(()=>r.value.includes(e.offering)),g=u(()=>_.value.includes(e.offering));R(()=>{z(()=>{O()})});function O(){const D=document.getElementById(`style-${e.offering.getID()}`);if(!D)return;const A=new URL(Object.assign({"../assets/svgs/close.svg":U,"../assets/svgs/direction.svg":V,"../assets/svgs/knight.svg":M,"../assets/svgs/ore.svg":K,"../assets/svgs/tree.svg":G,"../assets/svgs/wand.svg":Z,"../assets/svgs/wizard.svg":q})[`../assets/svgs/${e.offering.getImage()}.svg`],self.location).href;D.style.maskImage=`url(${A})`,D.style.webkitMaskImage=`url(${A})`,D.classList.add(`${e.offering.getColor()}-background`)}function J(){v.value||p.value&&n.selectOffering(e.offering)}return(D,A)=>(t(),c("div",{id:l.value,class:"container shadow flex-column-center"},[o("div",{class:k(["offering",[C.value&&!g.value?"active":"",p.value?"enabled":"",v.value?"disabled":"",g.value?"burner":"",s.offering.burning?"burning":"",s.offering.selected?"selected":""]]),onClick:J},[o("div",{id:`style-${l.value}`,class:"color"},je,8,Te),s.offering.burning?(t(),c("div",Fe,ze)):N("",!0)],2)],8,Ee))}});const Ve=$(Ue,[["__scopeId","data-v-5a3f6dac"]]),Me={class:"tiles"},Ke=m({__name:"TilesComp",setup(s){const e=y(),{omens:n,offerings:d}=h(e);return(i,r)=>(t(),c("div",Me,[(t(!0),c(w,null,I(a(n),(_,l)=>(t(),P(Le,{key:l,omen:_},null,8,["omen"]))),128)),(t(!0),c(w,null,I(a(d),(_,l)=>(t(),P(Ve,{key:l,offering:_},null,8,["offering"]))),128))]))}});const Ge=$(Ke,[["__scopeId","data-v-b36c8723"]]),Ze={class:"flex-row-spaced window-height"},qe=o("div",null,null,-1),He={class:"flex-column-spaced"},Je=o("div",{class:"margined"},null,-1),Qe=o("div",{class:"margined"},null,-1),We=o("div",null,null,-1),Ye=m({__name:"GameView",setup(s){const e=y(),{players:n}=h(e);return R(()=>{e.gameStart()}),(d,i)=>(t(),c("main",null,[f(ne,{bg:"wood-bg.jpeg"}),o("div",Ze,[qe,f(j,{player:a(n)[0]},null,8,["player"]),o("div",He,[f(ue),Je,f(he),Qe,f(Ce)]),f(j,{player:a(n)[1]},null,8,["player"]),We]),f(Ge)]))}});export{Ye as default};
